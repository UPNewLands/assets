/*! For license information please see upnewlands.min.js.LICENSE.txt */
(()=>{var e={3063:(e,t)=>{function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}t.Q=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t)}return this},n.prototype.emitReserved=n.prototype.emit,n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},4027:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}n.d(t,{Z:()=>c}),n(9600),n(2222),n(4916),n(3123),n(1058),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(u,Phaser.Loader.LoaderPlugin);var t,n,r,c,l=(r=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(c){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function u(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),l.call(this,e)}return t=u,n=[{key:"crumbs",get:function(){return this.scene.crumbs}},{key:"network",get:function(){return this.scene.network}},{key:"interface",get:function(){return this.scene.interface}},{key:"world",get:function(){return this.scene.world}},{key:"getKey",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.join(""),o=this.keyPrefix||"";return"".concat(o).concat(r)}},{key:"getKeyId",value:function(e){var t=e.split("/"),n=t[t.length-1];return parseInt(n)}},{key:"attachErrorListener",value:function(){this.on("loaderror",this.onLoadError,this)}},{key:"onLoadError",value:function(e){}},{key:"checkComplete",value:function(e,t,n){if(this.textureExists(t))return n(),!0;this.once("filecomplete-".concat(e,"-").concat(t),n)}},{key:"textureExists",value:function(e){return this.scene.textures.exists(e)}}],n&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}()},9414:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,{Z:()=>o}),n(2222),n(9070);var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.network=t,this.game=t.game,this.scene=this.game.scene}var t,n;return t=e,n=[{key:"crumbs",get:function(){return this.game.crumbs}},{key:"interface",get:function(){return this.scene.getScene("InterfaceController")}},{key:"world",get:function(){return this.scene.getScene("WorldController")}},{key:"getString",value:function(){var e;return(e=this.world).getString.apply(e,arguments)}},{key:"getFormatString",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=this.world).getFormatString.apply(t,[e].concat(r))}}],n&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},4037:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}n.r(t),n.d(t,{default:()=>c}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(u,e);var t,n,r,c,l=(r=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(c){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=l.call(this,e)).events={send_position:t.sendPosition,send_frame:t.sendFrame,snowball:t.snowball},t}return t=u,(n=[{key:"room",get:function(){return this.world.room}},{key:"sendPosition",value:function(e){if(!this.room.isReady)return this.room.updateWaiting(e.id,{x:e.x,y:e.y,frame:1});this.room.penguins[e.id].move(e.x,e.y)}},{key:"sendFrame",value:function(e){if(!this.room.isReady)return this.room.updateWaiting(e.id,{frame:e.set?e.frame:1});var t=this.room.penguins[e.id],n=function(){return t.playFrame(e.frame,e.set)};if(t.isTweening)return t.afterMove=n;n()}},{key:"snowball",value:function(e){var t=this;if(this.room.isReady){var n=this.room.penguins[e.id],r=function(){return t.interface.main.snowballFactory.throwBall(e.id,e.x,e.y)};if(n.isTweening)return n.afterMove=r;r()}}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(n(9414).Z)},2987:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u}),n(2419),n(8011),n(9070),n(7941),n(2772),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(7327),n(1539),n(2222),n(9826),n(8304),n(489);var r=n(9414);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var i=["requester"];function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(f,e);var t,n,r,o,u=(r=f,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(r);if(o){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=u.call(this,e)).events={buddy_request:t.buddyRequest,buddy_accept:t.buddyAccept,buddy_remove:t.buddyRemove,buddy_find:t.buddyFind,buddy_online:t.buddyOnline,buddy_offline:t.buddyOffline},t}return t=f,(n=[{key:"buddyRequest",value:function(e){this.interface.main.addRequest(e)}},{key:"buddyAccept",value:function(e){e.requester&&this.interface.main.addRequest(e),e.requester;var t=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,i);this.world.client.buddies.push(t),this.interface.updateBuddies(),this.interface.main.showOnlinePopup(t.username)}},{key:"buddyRemove",value:function(e){this.world.client.buddies=this.world.client.buddies.filter((function(t){return t.id!=e.id})),this.interface.updateBuddies()}},{key:"buddyFind",value:function(e){var t=this.interface.main.playerCard.username.text,n=this.interface.main.playerCard.id,r=this.getRoomName(e,n);this.interface.prompt.showWindow("".concat(t," ").concat(this.getString("".concat(r,"_find"))),"single")}},{key:"buddyOnline",value:function(e){var t=this.world.client.buddies.find((function(t){return t.id==e.id}));t&&(t.online=!0,this.interface.main.scene.isActive()&&(this.interface.updateBuddies(),this.interface.main.showOnlinePopup(t.username)))}},{key:"buddyOffline",value:function(e){var t=this.world.client.buddies.find((function(t){return t.id==e.id}));t&&(t.online=!1,this.interface.updateBuddies())}},{key:"getRoomName",value:function(e,t){if(!e.igloo&&!e.game)return this.crumbs.scenes.rooms[e.find].key;if(e.game)return this.crumbs.games[e.find].key;var n=e.find-this.crumbs.iglooIdOffset;return n==t?"igloo_theirs":n==this.world.client.id?"igloo_yours":"igloo"}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(r.Z)},1743:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}n.r(t),n.d(t,{default:()=>c}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(u,e);var t,n,r,c,l=(r=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(c){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=l.call(this,e)).events={send_message:t.sendMessage,send_safe:t.sendSafe,send_emote:t.sendEmote},t}return t=u,(n=[{key:"sendMessage",value:function(e){this.world.room.isReady&&this.interface.showTextBalloon(e.id,e.message)}},{key:"sendSafe",value:function(e){if(this.world.room.isReady){var t=this.interface.main.safe.safeMessagesMap[e.safe];this.interface.showTextBalloon(e.id,t)}}},{key:"sendEmote",value:function(e){this.world.room.isReady&&this.interface.showEmoteBalloon(e.id,e.emote)}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(n(9414).Z)},2335:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}n.r(t),n.d(t,{default:()=>c}),n(1249),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(u,e);var t,n,r,c,l=(r=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(c){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=l.call(this,e)).events={error:t.error},t.customHandlers={"Sorry this room is currently full":function(){return t.fullRoom()}},t}return t=u,(n=[{key:"error",value:function(e){if(e.error in this.customHandlers)return this.customHandlers[e.error]();this.interface.prompt.showError(e.error)}},{key:"fullRoom",value:function(){var e=this;this.interface.prompt.showError("Sorry this room is currently full","Okay",(function(){e.interface.showInterface(),e.interface.prompt.error.visible=!1,e.interface.main.map.visible=!0}))}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(n(9414).Z)},1371:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}n.r(t),n.d(t,{default:()=>c}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(u,e);var t,n,r,c,l=(r=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(c){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=l.call(this,e)).events={get_player:t.getPlayer},t}return t=u,(n=[{key:"getPlayer",value:function(e){this.interface.main.playerCard._showCard(e.penguin)}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(n(9414).Z)},4524:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}n.r(t),n.d(t,{default:()=>c}),n(2707),n(8309),n(1249),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(u,e);var t,n,r,c,l=(r=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(c){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=l.call(this,e)).events={add_igloo:t.addIgloo,add_furniture:t.addFurniture,update_flooring:t.updateFlooring,update_music:t.updateMusic,get_igloos:t.getIgloos,get_igloo_open:t.getIglooOpen},t}return t=u,(n=[{key:"client",get:function(){return this.world.client}},{key:"addIgloo",value:function(e){var t=this.client.igloos;this.client.coins=e.coins,t.push(e.igloo),t.sort((function(e,t){return e-t})),this.interface.refreshPlayerCard(),this.interface.iglooEdit.gridView.visible&&this.interface.iglooEdit.showGridView(),this.interface.updateCatalogCoins(e.coins);var n="".concat(this.crumbs.igloos[e.igloo].name,"\nhas been added to your inventory.");this.interface.prompt.showWindow(n,"single")}},{key:"addFurniture",value:function(e){var t=this.client.furniture;this.client.coins=e.coins,t[e.furniture]=t[e.furniture]+1||1,this.interface.refreshPlayerCard(),this.interface.iglooEdit.gridView.visible&&this.interface.iglooEdit.showGridView(),this.interface.updateCatalogCoins(e.coins);var n="".concat(this.crumbs.furniture[e.furniture].name,"\nhas been added to your inventory.");this.interface.prompt.showWindow(n,"single")}},{key:"updateFlooring",value:function(e){this.world.room.isIgloo&&(this.world.room.updateFlooring(e.flooring),this.client.coins=e.coins,this.interface.refreshPlayerCard())}},{key:"updateMusic",value:function(e){this.world.room.isIgloo&&this.world.room.updateMusic(e.music)}},{key:"getIgloos",value:function(e){this.interface.main.map.iglooMap.setIgloos(e.igloos)}},{key:"getIglooOpen",value:function(e){e.open&&this.interface.main.playerCard.buttons.enableButton("igloo")}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(n(9414).Z)},9324:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}n.r(t),n.d(t,{default:()=>c}),n(7327),n(1539),n(8304),n(489),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(u,e);var t,n,r,c,l=(r=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(c){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=l.call(this,e)).events={ignore_add:t.ignoreAdd,ignore_remove:t.ignoreRemove},t}return t=u,(n=[{key:"ignoreAdd",value:function(e){this.world.client.ignores.push(e),this.interface.updateBuddies()}},{key:"ignoreRemove",value:function(e){this.world.client.ignores=this.world.client.ignores.filter((function(t){return t.id!=e.id})),this.interface.updateBuddies()}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(n(9414).Z)},4068:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}n.r(t),n.d(t,{default:()=>c}),n(6699),n(2023),n(2707),n(8309),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(u,e);var t,n,r,c,l=(r=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(c){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=l.call(this,e)).events={update_player:t.updatePlayer,add_item:t.addItem},t}return t=u,(n=[{key:"client",get:function(){return this.world.client}},{key:"updatePlayer",value:function(e){if(!this.world.room.isReady)return this.world.room.updateWaiting(e.id,(t={},n=e.slot,r=e.item,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t));var t,n,r;this.world.room.penguins[e.id].update(e.item,e.slot)}},{key:"addItem",value:function(e){if(!this.client.inventory[e.slot].includes(e.item)){this.client.coins=e.coins,this.client.inventory[e.slot].push(e.item),this.client.inventory[e.slot].sort((function(e,t){return e-t})),this.interface.refreshPlayerCard(),this.interface.updateCatalogCoins(e.coins);var t="".concat(e.name,"\nhas been added to your inventory.");this.interface.prompt.showWindow(t,"single")}}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(n(9414).Z)},7264:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u}),n(1539),n(2419),n(8011),n(9070),n(2772),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(7941),n(8304),n(489);var r=n(9414);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var i=["photo","flag","x","y","frame","coins","id"];function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(f,e);var t,n,r,o,u=(r=f,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(r);if(o){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=u.call(this,e)).events={load_player:t.loadPlayer,join_room:t.joinRoom,join_igloo:t.joinIgloo,join_game_room:t.joinGameRoom,add_player:t.addPlayer,remove_player:t.removePlayer},t}return t=f,(n=[{key:"loadPlayer",value:function(e){this.network.saveUsername?this.savePlayer(e):this.unsavePlayer(e),this.scene.start("WorldController"),this.world.setClient(e),this.network.send("join_server")}},{key:"joinRoom",value:function(e){this.interface.showLoading(this.getString("loading",this.crumbs.scenes.rooms[e.room]),!0),this.world.joinRoom(e)}},{key:"joinIgloo",value:function(e){this.interface.showLoading(this.getString("loading","igloo"),!0),this.world.joinRoom(e)}},{key:"joinGameRoom",value:function(e){this.interface.showLoading(this.getString("loading",this.crumbs.games[e.game].key)),this.world.joinRoom(e)}},{key:"addPlayer",value:function(e){this.world.addPenguin(e.user)}},{key:"removePlayer",value:function(e){this.world.removePenguin(e.user)}},{key:"savePlayer",value:function(e){var t=this.network.savedPenguins;if(!(Object.keys(t).length>6)||e.user.username in t){var n=e.user,r=(n.photo,n.flag,n.x,n.y,n.frame,n.coins,n.id,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(n,i));this.network.token&&(r.token=this.network.token),t[e.user.username.toLowerCase()]=r,localStorage.setItem("saved_penguins",JSON.stringify(t))}}},{key:"unsavePlayer",value:function(e){var t=this.network.savedPenguins;e.user.username.toLowerCase()in t&&(delete t[e.user.username.toLowerCase()],localStorage.setItem("saved_penguins",JSON.stringify(t)))}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(r.Z)},9580:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}n.r(t),n.d(t,{default:()=>c}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(u,e);var t,n,r,c,l=(r=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(c){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=l.call(this,e)).events={login:t.login,game_auth:t.gameAuth,auth_token:t.authToken},t}return t=u,(n=[{key:"loginScene",get:function(){return this.scene.getScene("Login")}},{key:"login",value:function(e){var t=this;return this.interface.hideLoading(),e.success?this.scene.start("Servers",e):this.network.lastLoginScene?(this.scene.getScene(this.network.lastLoginScene).events.once("create",(function(){return t.onLoginError(e.message)})),void this.scene.start(this.network.lastLoginScene)):this.scene.start("Login")}},{key:"onLoginError",value:function(e){var t=this;this.loginScene.events.emit("hideinput"),this.interface.prompt.showError(e,"Okay",(function(){t.loginScene.events.emit("showinput"),t.interface.prompt.error.visible=!1}))}},{key:"gameAuth",value:function(e){e.success&&this.network.send("load_player")}},{key:"authToken",value:function(e){e.token&&(this.network.token=e.token)}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(n(9414).Z)},6402:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}n.r(t),n.d(t,{default:()=>c}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(u,e);var t,n,r,c,l=(r=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(c){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=l.call(this,e)).events={start_game:t.startGame,send_move:t.sendMove,game_over:t.gameOver,end_ruffle_mingame:t.endRuffleMinigame,check_legit:t.checkLegit,init_four:t.initFour,place_counter:t.placeCounter,change_turn:t.changeTurn,four_over:t.fourOver},t}return t=u,(n=[{key:"client",get:function(){return this.world.client}},{key:"startGame",value:function(e){this.world.room.handleStartGame(e)}},{key:"sendMove",value:function(e){this.world.room.handleSendMove(e)}},{key:"gameOver",value:function(e){this.world.client.coins=e.coins,this.interface.refreshPlayerCard(),this.interface.updateCatalogCoins(e.coins)}},{key:"endRuffleMinigame",value:function(e){this.client.coins=e.coins,this.client.stamps=e.stamps;var t=this.world.game.scene.getScene("InterfaceController").prompt;null==e.coinsEarned&&(e.coinsEarned=0),t.showCoins(e.game,e.coinsEarned)}},{key:"checkLegit",value:function(e){var t=document.getElementsByTagName("ruffle-player")[0];this.network.send("check_legit",{coins:t.checkCoins(),stamps:t.checkStamps(),game:e.game}),t.pause()}},{key:"initFour",value:function(e){this.interface.main.findFour.init(e.users,e.turn)}},{key:"placeCounter",value:function(e){var t;t=e.user==this.world.client.id?this.interface.main.findFour.seat+1:0==this.interface.main.findFour.seat?2:1,this.interface.main.findFour.placeCounter(e.row,e.column,t)}},{key:"changeTurn",value:function(e){this.interface.main.findFour.changeTurn(e.turn)}},{key:"fourOver",value:function(e){this.interface.main.findFour.reset()}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(n(9414).Z)},2375:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}n.r(t),n.d(t,{default:()=>c}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(u,e);var t,n,r,c,l=(r=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(c){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=l.call(this,e)).events={update_postcards:t.updatePostcards,send_postcard:t.sendPostcard},t}return t=u,(n=[{key:"updatePostcards",value:function(e){this.world.client.postcards=e.postcards}},{key:"sendPostcard",value:function(e){this.world.client.coins=e.coins}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(n(9414).Z)},7520:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}n.r(t),n.d(t,{default:()=>c}),n(8309),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(u,e);var t,n,r,c,l=(r=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(c){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=l.call(this,e)).events={get_puffles:t.getPuffles,get_wellbeing:t.getWellbeing,get_puffle_color:t.getPuffleColor,stop_walking:t.stopWalking,walk_puffle:t.walkPuffle,get_puffle_count:t.getPuffleCount,adopt_puffle:t.adoptPuffle,play_puffle_anim:t.sendPuffleAnim,puffle_timeout:t.timeout,puffle_dig:t.puffleDig},t}return t=u,(n=[{key:"room",get:function(){return this.world.room}},{key:"timeout",value:function(e){this.world.client.penguin.puffleTimeout=e.timeout}},{key:"puffleDig",value:function(e){this.network.send("puffle_timeout"),"coins"==e.type&&(this.world.interface.main.popup_coin_text.text="You've earned ".concat(e.coins," Coins!"),this.world.interface.main.onCoinDigtween(),this.world.client.coins+=e.coins)}},{key:"getPuffles",value:function(e){this.world.room.isIgloo&&this.world.room.spawnPuffles(e.puffles)}},{key:"getWellbeing",value:function(e){this.world.room.isIgloo&&(e.puffleId==this.world.client.penguin.puffle?(this.interface.main.puffleCare.showPuffle(e,!0),this.interface.main.puffleCare.x=this.world.client.penguin.x+60,this.interface.main.puffleCare.y=this.world.client.penguin.y):(this.interface.main.puffleCare.showPuffle(e),this.interface.main.puffleCare.x=this.world.room.puffles[e.puffleId].x,this.interface.main.puffleCare.y=this.world.room.puffles[e.puffleId].y))}},{key:"getPuffleColor",value:function(e){if(this.world.room){var t=this.world.room.penguins[e.penguinId];t.penguinLoader.addPuffle(t,e.color);var n=this.world.interface.main.playerCard;n&&(n.visible&&n.id===e.penguinId&&n.paperDoll.paperDollPuffleLoader.loadPuffle(this.world.crumbs.puffles[e.color].name),e.penguinId==this.world.client.penguin.id&&this.world.interface.main.showPuffle(this.sortPuffleColors(this.world.crumbs.puffles[e.color].name)))}}},{key:"sortPuffleColors",value:function(e){return"bluedog"==e?e="blue":"blackcat"==e?e="black":"orangecat"==e&&(e="orange"),e}},{key:"stopWalking",value:function(e){if(this.world.room){var t=this.world.room.penguins[e.user],n=this.world.room.penguins[e.user].pufflesprite,r=t.puffle;n&&(n.destroy(),t.hasPuffle=!1),this.destroyPuffleplayercard(e),0!==t.puffle&&(t.puffle=0),e.user==this.world.client.penguin.id&&this.world.interface.main.showPuffle(0),this.world.room.id==e.user&&this.world.room.spawnPuffle(r)}}},{key:"walkPuffle",value:function(e){if(this.world.room){var t=this.world.room.penguins[e.user],n=this.world.room.penguins[e.user].pufflesprite;n&&(n.destroy(),t.hasPuffle=!1),this.destroyPuffleplayercard(e),this.world.room.isIgloo&&(n=this.world.room.puffles[e.puffle])&&n.destroy(),t.puffle=e.puffle,this.network.send("get_puffle_color",{puffle:e.puffle,penguinId:e.user})}}},{key:"destroyPuffleplayercard",value:function(e){var t=this.world.interface.main.playerCard;t.visible&&t.id===e.user&&t.paperDoll.puffle.destroy()}},{key:"getPuffleCount",value:function(e){this.world.client.pufflecount=e.count}},{key:"adoptPuffle",value:function(e){this.world.client.coins=e.coins}},{key:"sendPuffleAnim",value:function(e){if(this.world.room){var t=this.room.penguins[e.id];t.pufflesprite&&t.playPuffleAnim(e.anim)}}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(n(9414).Z)},3190:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,{Z:()=>o}),n(3710),n(1539),n(9714),n(8309),n(9070);var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"getTintedCanvas",value:function(e,t){var n=e.texture,r="#".concat("00000".concat((0|t).toString(16)).substr(-6));n.tintCache=n.tintCache||{};var o,i=n.tintCache[r];if(i){if((o=i).tintId==e.name)return o}else o=document.createElement("canvas");return this.tintWithMultiply(e,t,o),o.tintId=e.name,n.tintCache[r]=o,o}},{key:"tintWithMultiply",value:function(e,t,n){var r=n.getContext("2d"),o=e.source.resolution,i=e.canvasData.x,a=e.canvasData.y,s=e.cutWidth,c=e.cutHeight;n.width=s,n.height=c,r.save(),r.fillStyle="#".concat("00000".concat((0|t).toString(16)).substr(-6)),r.fillRect(0,0,s,c),r.globalCompositeOperation="multiply",r.drawImage(e.source.image,i,a,s,c,0,0,s/o,c/o),r.globalCompositeOperation="destination-atop",r.drawImage(e.source.image,i,a,s,c,0,0,s/o,c/o),r.restore()}},{key:"batchSprite",value:function(e,t,n,r,o){var i=r.alpha*t.alpha;if(0!==i){var a=e.currentContext,s=e._tempMatrix1,c=e._tempMatrix2,l=n.canvasData,u=l.x,f=l.y,d=n.cutWidth,p=n.cutHeight,h=n.customPivot,y=n.source.resolution,m=t.displayOriginX,b=t.displayOriginY,v=-m+n.x,g=-b+n.y;if(t.isCropped){var w=t._crop;w.flipX===t.flipX&&w.flipY===t.flipY||n.updateCropUVs(w,t.flipX,t.flipY),d=w.cw,p=w.ch,u=w.cx,f=w.cy,v=-m+w.x,g=-b+w.y,t.flipX&&(v>=0?v=-(v+d):v<0&&(v=Math.abs(v)-d)),t.flipY&&(g>=0?g=-(g+p):g<0&&(g=Math.abs(g)-p))}var k=1,_=1;t.flipX&&(h||(v+=-n.realWidth+2*m),k=-1),t.flipY&&(h||(g+=-n.realHeight+2*b),_=-1),c.applyITRS(t.x,t.y,t.rotation,t.scaleX*k,t.scaleY*_),s.copyFrom(r.matrix),o?(s.multiplyWithOffset(o,-r.scrollX*t.scrollFactorX,-r.scrollY*t.scrollFactorY),c.e=t.x,c.f=t.y):(c.e-=r.scrollX*t.scrollFactorX,c.f-=r.scrollY*t.scrollFactorY),s.multiply(c),a.save(),s.setToContext(a),a.globalCompositeOperation=e.blendModes[t.blendMode],a.globalAlpha=i,a.imageSmoothingEnabled=!(!e.antialias||n.source.scaleMode),t.mask&&t.mask.preRenderCanvas(e,t,r);var O=t.tintTopLeft;t.isTinted?(t.cachedTint==O&&t.tintedCanvas.tintId==n.name||(t.cachedTint=O,t.tintedCanvas=this.getTintedCanvas(n,O)),a.drawImage(t.tintedCanvas,0,0,d,p,v,g,d/y,p/y)):a.drawImage(n.source.image,u,f,d,p,v,g,d/y,p/y),t.mask&&t.mask.postRenderCanvas(e,t,r),a.restore()}}}],null&&r(t.prototype,null),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},6122:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(3190);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(f,Phaser.GameObjects.Image);var t,n,o,l,u=(o=f,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(o);if(l){var n=c(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function f(e,t,n,r,o){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(i=u.call(this,e,t,n,r,o)).cachedTint,i.tintedCanvas,i}return t=f,(n=[{key:"renderCanvas",value:function(e,t,n,o){n.addToRenderList(t),r.Z.batchSprite(e,t,t.frame,n,o)}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}()},4866:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}n.d(t,{Z:()=>l}),n(2222),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(f,Phaser.GameObjects.Container);var t,n,r,l,u=(r=f,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(r);if(l){var n=c(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function f(){return o(this,f),u.apply(this,arguments)}return t=f,n=[{key:"crumbs",get:function(){return this.scene.crumbs}},{key:"network",get:function(){return this.scene.network}},{key:"soundManager",get:function(){return this.scene.soundManager}},{key:"interface",get:function(){return this.scene.interface}},{key:"world",get:function(){return this.scene.world}},{key:"ruffle",get:function(){return this.scene.ruffle}},{key:"getString",value:function(){var e;return(e=this.scene).getString.apply(e,arguments)}},{key:"getFormatString",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=this.scene).getFormatString.apply(t,[e].concat(r))}}],n&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}()},5136:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}n.d(t,{Z:()=>l}),n(9600),n(1249),n(3710),n(1539),n(9714),n(8304),n(489),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(f,Phaser.Scene);var t,n,r,l,u=(r=f,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(r);if(l){var n=c(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function f(){return o(this,f),u.apply(this,arguments)}return t=f,n=[{key:"init",value:function(){var e=this;this.input.on("pointerover",(function(){return e.interface.resetCursor(e)}))}},{key:"crumbs",get:function(){return this.game.crumbs}},{key:"network",get:function(){return this.game.network}},{key:"soundManager",get:function(){return this.game.soundManager}},{key:"interface",get:function(){return this.scene.get("InterfaceController")}},{key:"world",get:function(){return this.scene.get("WorldController")}},{key:"ruffle",get:function(){return this.scene.get("RuffleController")}},{key:"getString",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.map((function(t){return e.crumbs.strings[t.toString().toLowerCase()]})).join(" ")}},{key:"getFormatString",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Phaser.Utils.String.Format(this.crumbs.strings[e.toLowerCase()],n)}},{key:"setMusic",value:function(){this.music?this.playMusic(this.music):this.stopMusic()}},{key:"playMusic",value:function(e){this.soundManager.playMusic(e)}},{key:"stopMusic",value:function(){this.soundManager.stopMusic()}}],n&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}()},5655:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p}),n(2481),n(8309),n(2222),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(3166);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var u=Phaser.Utils.Objects.GetValue,f=Phaser.Utils.Array.NumberArray,d=Phaser.Utils.String.Pad,p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(y,e);var t,n,r,o,p,h=(o=y,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(o);if(p){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function y(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),(t=h.call(this,e)).gameObject,t.key="",t.start=1,t.end=1,t.frameRate=24,t.repeat=-1,t.repeatDelay=0,t.autoPlay=!0,t.onHover=!1,t.stopOnOut=!0,t.showOnStart=!1,t.hideOnComplete=!1,t.gameObject=e,e.__Animation=c(t),t.scene=e.scene,t.atlas=e.texture.key,t.initialFrame=e.frame.name,t.animation,t}return t=y,r=[{key:"getComponent",value:function(e){return e.__Animation}}],(n=[{key:"start",value:function(){var e=this;this.animation=this.createAnim(),this.onHover?(this.gameObject.on("pointerover",(function(){return e.onOver()})),this.gameObject.on("pointerout",(function(){return e.onOut()}))):this.autoPlay&&this.play()}},{key:"onOver",value:function(){this.play()}},{key:"onOut",value:function(){this.stopOnOut&&this.stop()}},{key:"play",value:function(){this.gameObject.play(this.animation)}},{key:"stop",value:function(){this.gameObject.anims.stop(),this.hideOnComplete?this.gameObject.visible=!1:this.stopOnOut&&this.gameObject.setFrame(this.initialFrame)}},{key:"createAnim",value:function(){var e="".concat(this.atlas,"/").concat(this.key);return this.scene.anims.exists(e)?this.scene.anims.get(e):this.scene.anims.create({key:e,frames:this.generateFrameNames(this.atlas,{prefix:"".concat(this.key),start:this.start,end:this.end,zeroPad:4}),frameRate:this.frameRate,repeat:this.repeat,repeatDelay:this.repeatDelay,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete})}},{key:"generateFrameNames",value:function(e,t){var n=u(t,"prefix",""),r=u(t,"start",0),o=u(t,"end",0),i=u(t,"suffix",""),a=u(t,"zeroPad",0),s=u(t,"outputArray",[]),c=u(t,"frames",!1),l=this.scene.anims.textureManager.get(e);if(!l)return s;c||(c=f(r,o));for(var p=0;p<c.length;p++){var h=n+d(c[p],a,"0",1)+i;l.has(h)?s.push({key:e,frame:h}):s.push({key:"__DEFAULT",frame:"__BASE"})}return s}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),y}(r.Z)},1676:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=a(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},i.apply(this,arguments)}function a(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}n.d(t,{Z:()=>f}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(4819),n(5003),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(p,e);var t,n,r,a,f,d=(a=p,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(a);if(f){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=d.call(this,e)).gameObject,t.spriteName="",t.hoverCallback=null,t.hoverOutCallback=null,t.callback=function(){},t.activeFrame=!0,t.pixelPerfect=!1,t.gameObject=e,e.__Button=l(t),t}return t=p,r=[{key:"getComponent",value:function(e){return e.__Button}}],(n=[{key:"start",value:function(){var e=this;i(u(p.prototype),"start",this).call(this),this.gameObject.on("pointerdown",(function(t){return e.onDown(t)}))}},{key:"onOver",value:function(){this.gameObject.setFrame("".concat(this.spriteName,"-hover")),i(u(p.prototype),"onOver",this).call(this)}},{key:"onOut",value:function(){this.gameObject.setFrame(this.spriteName),i(u(p.prototype),"onOut",this).call(this)}},{key:"onDown",value:function(e){0==e.button&&(this.activeFrame?this.gameObject.setFrame("".concat(this.spriteName,"-active")):this.gameObject.setFrame("".concat(this.spriteName,"-hover")))}},{key:"onUp",value:function(e){0==e.button&&(this.activeFrame?this.gameObject.setFrame(this.spriteName):this.gameObject.setFrame("".concat(this.spriteName,"-hover")),i(u(p.prototype),"onUp",this).call(this,e))}}])&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),p}(n(1023).Z)},4800:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return s(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}n.d(t,{Z:()=>l}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(d,e);var t,n,r,l,u,f=(l=d,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(l);if(u){var n=c(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(t=f.call(this,e)).gameObject,t.handle,t.depth=0,t.gameObject=e,e.__DraggableContainer=s(t),t.offsetX=0,t.offsetY=0,t.widgetLayer,t}return t=d,r=[{key:"getComponent",value:function(e){return e.__DraggableContainer}}],(n=[{key:"start",value:function(){var e=this,t=this.scene.add.zone(this.handle.x,this.handle.y,this.handle.width,this.handle.height);this.gameObject.addAt(t,this.depth),t.setInteractive({draggable:!0}),t.on("pointerdown",(function(t){return e.onDown(t)})),t.on("dragstart",(function(t){return e.onDragStart(t)})),t.on("drag",(function(t){return e.onDrag(t)}))}},{key:"onDown",value:function(e){this.widgetLayer&&0==e.button&&this.widgetLayer.bringToTop(this.gameObject)}},{key:"onDragStart",value:function(e){this.offsetX=this.gameObject.x-e.x,this.offsetY=this.gameObject.y-e.y}},{key:"onDrag",value:function(e){this.gameObject.x=Math.round(e.x+this.offsetX),this.gameObject.y=Math.round(e.y+this.offsetY)}}])&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(n(3166).Z)},3166:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,{Z:()=>o}),n(9070);var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gameObject,this.gameObject=t,t.__EventComponent=this,this.scene=t.scene,this.scene.events.once("create",this.start,this),this.scene.events.on("update",this.update,this),t.on("destroy",this.destroy,this)}var t,n,o;return t=e,o=[{key:"getComponent",value:function(e){return e.__EventComponent}}],(n=[{key:"start",value:function(){}},{key:"update",value:function(){}},{key:"destroy",value:function(){this.scene.events.off("create",this.start,this),this.scene.events.off("update",this.update,this)}}])&&r(t.prototype,n),o&&r(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}()},38:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,{Z:()=>o}),n(9070);var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gameObject,this.gameObject=t,t.__Interactive=this,this.gameObject.setInteractive()}var t,n;return t=e,n=[{key:"getComponent",value:function(e){return e.__Interactive}}],null&&r(t.prototype,null),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},9101:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,{Z:()=>o}),n(9070);var o=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gameObject,this.x=0,this.y=0,this.gameObject=t,t.__MoveTo=this,this.x=this.x?this.x:t.x,this.y=this.y?this.y:t.y,this.gameObject.on("pointerup",(function(e){return n.onPointerUp(e)}))}var t,n,o;return t=e,o=[{key:"getComponent",value:function(e){return e.__MoveTo}}],(n=[{key:"onPointerUp",value:function(e){0==e.button&&this.gameObject.scene.world.client.penguin.move(this.x,this.y)}}])&&r(t.prototype,n),o&&r(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}()},8334:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,{Z:()=>o}),n(9070);var o=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gameObject,this.text="",this.gameObject=t,t.__ShowHint=this,this.gameObject.on("pointerover",(function(){return n.onOver()})),this.gameObject.on("pointerout",(function(){return n.onOut()})),this.gameObject.on("pointerup",(function(){return n.onOut()}))}var t,n,o;return t=e,o=[{key:"getComponent",value:function(e){return e.__ShowHint}}],(n=[{key:"hint",get:function(){return this.gameObject.scene.interface.main.hint}},{key:"onOver",value:function(){this.text&&this.hint.showHint(this.gameObject,this.gameObject.scene.getString(this.text)||this.text)}},{key:"onOut",value:function(){this.hint.hideHint()}}])&&r(t.prototype,n),o&&r(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}()},1023:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return s(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}n.d(t,{Z:()=>l}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(d,e);var t,n,r,l,u,f=(l=d,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(l);if(u){var n=c(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(t=f.call(this,e)).gameObject,t.hoverCallback=null,t.hoverOutCallback=null,t.callback=function(){},t.pixelPerfect=!1,t.gameObject=e,e.__SimpleButton=s(t),e.isButton=!0,t}return t=d,r=[{key:"getComponent",value:function(e){return e.__SimpleButton}}],(n=[{key:"start",value:function(){var e=this;this.gameObject.setInteractive({cursor:"pointer",pixelPerfect:this.pixelPerfect}),this.gameObject.on("pointerover",(function(){return e.onOver()})),this.gameObject.on("pointerout",(function(){return e.onOut()})),this.gameObject.on("pointerup",(function(t){return e.onUp(t)}))}},{key:"onOver",value:function(){this.hoverCallback&&this.hoverCallback()}},{key:"onOut",value:function(){this.hoverOutCallback&&this.hoverOutCallback()}},{key:"onUp",value:function(e){0==e.button&&this.callback()}}])&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(n(3166).Z)},390:(e,t,n)=>{"use strict";n.d(t,{fw:()=>r.Z,zx:()=>o.Z,K$:()=>a.Z,vj:()=>s.Z,$X:()=>c.Z,X7:()=>y,tk:()=>m.Z,rF:()=>b.Z});var r=n(5655),o=n(1676),i=(n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(3166));i.Z;var a=n(4800),s=n(38),c=n(9101);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function d(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(s,e);var t,n,r,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(o);if(i){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).gameObject,t.texture={key:"prompt",frame:"window"},t.corner=10,t.gameObject=e,e.__NineSlice=p(t),t}return t=s,r=[{key:"getComponent",value:function(e){return e.__NineSlice}}],(n=[{key:"start",value:function(){if(0!=this.gameObject.visible){var e=this.scene.add.nineslice(this.gameObject.x,this.gameObject.y,this.gameObject.width,this.gameObject.height,this.texture,this.corner);if(e.setOrigin(this.gameObject.originX,this.gameObject.originY),this.gameObject.parentContainer){var t=this.gameObject.parentContainer,n=t.getIndex(this.gameObject);t.addAt(e,n)}this.gameObject.visible=!1}}}])&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.Z),m=n(8334),b=n(1023);b.Z},2610:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p}),n(2707),n(9070),n(8304),n(489),n(1539),n(2419),n(8011),n(4819),n(5003),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(1816),o=n(390);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=c(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},s.apply(this,arguments)}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function u(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(p,e);var t,n,r,i,c=(r=p,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(r);if(i){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function p(){var e,t,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),r=void 0,(n="sort")in(t=f(e=c.call(this,"CatchinWaves")))?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t.sort=r,e.music="hydro",e}return t=p,(n=[{key:"_preload",value:function(){this.load.pack("load-pack","assets/media/interface/menus/load/load-pack.json")}},{key:"_create",value:function(){var e=this.add.image(0,0,"load","bg");e.setOrigin(0,0),new o.vj(e),this.sort=[],this.events.emit("scene-awake")}},{key:"create",value:function(){s(d(p.prototype),"create",this).call(this)}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),p}(r.Z)},2867:(e,t,n)=>{"use strict";n.d(t,{Z:()=>pe}),n(7327),n(1539),n(6833),n(8674),n(8304),n(489),n(2419),n(8011),n(9070),n(4819),n(5003),n(7042),n(8309),n(1038),n(8783),n(4916),n(2526),n(1817),n(2165),n(6992),n(3948),n(9753);var r=n(1816),o=n(4027);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=c(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},s.apply(this,arguments)}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function u(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}n(3123),n(1249),n(561),n(9600),n(5306),n(1058),n(2222);var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(c,Phaser.GameObjects.Sprite);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(r);if(o){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function c(e,t,n,r,o,a,s,l){var u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(u=i.call(this,e,r,o,a,"1_1_1")).id=t,u.frames=u.texture.getFrameNames(),u.visible=!n,u.crumb=e.crumbs.furniture[t],u.isWall=2==u.crumb.type,u.trashIcon,u.trashed=!1,u.safeArea=u.isWall?e.wall:e.room,u.validatePos(),u.depth=u.y-1,u.safeX=u.x,u.safeY=u.y,u.offsetX=0,u.offsetY=0,u.maxFrames=[u.getFrameCount(0),u.getFrameCount(1)],u.crumb.fps&&(u._anims=u.getAnims(),u.setAnim(u.frame.name)),u.isWall&&n&&u.maxFrames[0]>1?u.updateFrame(0,2,!0):u.updateFrame(0,s,!0),u.updateFrame(1,l,!0),u.setInteractive({draggable:!0,pixelPerfect:!0}),u.on("dragend",(function(){return u.drop()})),u.editing||u.disableInteractive(),n&&n.drop(f(u)),u}return t=c,n=[{key:"iglooEdit",get:function(){return this.scene.interface.iglooEdit}},{key:"editing",get:function(){return!(!this.iglooEdit||!this.iglooEdit.controls)&&this.iglooEdit.controls.visible}},{key:"currentFrame",get:function(){return this.frame.name.split("_")}},{key:"wallBounds",get:function(){return this.scene.wallBounds}},{key:"isSafe",get:function(){if(this.safeArea)return this.scene.matter.containsPoint(this.safeArea,this.x,this.y)}},{key:"isTrash",get:function(){if(this.scene.trash)return this.scene.matter.containsPoint(this.scene.trash,this.x,this.y)||this.x<0||this.x>1520||this.y<0||this.y>960}},{key:"getFrameCount",value:function(e){var t=this.getSplitFrames(e);return Math.max.apply(Math,t)}},{key:"getSplitFrames",value:function(e){return this.frames.map((function(t){return t.split("_")[e]}))}},{key:"validatePos",value:function(){if(!this.isSafe){var e=this.isWall?this.scene.wallSpawn:this.scene.floorSpawn;this.x=e[0],this.y=e[1]}}},{key:"drag",value:function(e){this.x=Math.round(e.x+this.offsetX),this.y=Math.round(e.y+this.offsetY),this.depth=this.y,this.checkPos(),this.isWall&&this.wallBounds&&(this.x<this.wallBounds[0]?this.updateFrame(0,1,!0):this.x>this.wallBounds[1]?this.updateFrame(0,3,!0):this.updateFrame(0,2,!0))}},{key:"hover",value:function(e){if(!this.trashed){if(!this.isWall){var t=this.currentFrame;t.splice(2,0,"hover"),this.setFrame(t.join("_"))}this.offsetX=this.x-e.x,this.offsetY=this.y-e.y,this.scene.setSelected(this)}}},{key:"drop",value:function(){if(this.editing&&!this.trashed){if(this.scene.setSelected(),!this.isSafe){if(this.isTrash)return this.sendToTrash();this.x=this.safeX,this.y=this.safeY,this.depth=this.y,this.alpha=1}this.safeX=this.x,this.safeY=this.y,this.setFrame(this.frame.name.replace("_hover",""))}}},{key:"updateFrame",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.isWall||0!=e||n){var r=this.currentFrame;if(!n||r[e]!=t){var o=n?t:parseInt(r[e])+t;r[e]=o,r[e]>this.maxFrames[e]?r[e]=1:r[e]<1&&(r[e]=this.maxFrames[e]),this.setFrame(r.join("_"))}}}},{key:"checkPos",value:function(){this.isSafe?this.alpha=1:this.alpha=.5,this.checkTrash()}},{key:"checkTrash",value:function(){var e=this.trashIcon?this.trashIcon:this.addTrashIcon();this.isTrash?(e.visible=!0,e.x=this.x+this.frame.width/2,e.y=this.y,e.depth=this.y+1,this.iglooEdit.button_furniture.setFrame("button/furniture-hover")):(e.visible=!1,this.iglooEdit.button_furniture.setFrame("button/furniture"))}},{key:"addTrashIcon",value:function(){return this.trashIcon=this.scene.add.image(0,0,"iglooedit","remove"),this.trashIcon.visible=!1,this.trashIcon}},{key:"sendToTrash",value:function(){var e=this;this.trashed=!0,this.scene.quantities[this.id]--,this.trashIcon.destroy(),this.scene.tweens.add({targets:this,duration:600,x:1430,y:460,scale:.5,ease:this.easeOutBack,onComplete:function(){return e.onTrashComplete()}})}},{key:"easeOutBack",value:function(e){return Phaser.Math.Easing.Back.Out(e,.5)}},{key:"onTrashComplete",value:function(){this.active&&(this.iglooEdit.button_furniture.setFrame("button/furniture"),this.destroy())}},{key:"getAnims",value:function(){var e=this,t={};for(var n in this.frames.map((function(n){n=e.splitAnim(n),(!t[n.key]&&n.num>1||n.num>t[n.key])&&(t[n.key]=parseInt(n.num))})),t)t[n]=this.createAnim(n,t[n]);return t}},{key:"createAnim",value:function(e,t){var n="".concat(this.texture.key,"_").concat(e);return this.scene.anims.exists(n)?this.scene.anims.get(n):this.scene.anims.create({key:n,frames:this.scene.anims.generateFrameNames(this.texture.key,{prefix:"".concat(e,"_"),start:1,end:t}),frameRate:24,repeat:-1})}},{key:"setFrame",value:function(e){this.frame&&this.frame.name==e||(this._anims?this.setAnim(e):s(d(c.prototype),"setFrame",this).call(this,e))}},{key:"setAnim",value:function(e){this.stop(),e=this.splitAnim(e),s(d(c.prototype),"setFrame",this).call(this,"".concat(e.key,"_1")),e.anim&&(this.play(e.anim),e.anim.frames[e.num]&&this.anims.setCurrentFrame(e.anim.frames[e.num]))}},{key:"splitAnim",value:function(e){var t=(e=e.split("_")).pop();return{key:e=e.join("_"),anim:this._anims?this._anims[e]:null,num:t}}}],n&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}();function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function b(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(r);if(o){var n=v(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).baseURL="/assets/media/furniture/sprites/",t.keyPrefix="furniture/sprites/",t}return t=a,n=[{key:"loadFurniture",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=this.getKey(e);this.checkComplete("json",s,(function(){t.onFileComplete(s,e,n,r,o,i,a)}))||this.multiatlas(s,"".concat(e,".json"))}},{key:"onFileComplete",value:function(e,t,n,r,o,i,a){if(this.textureExists(e)){var s=new p(this.scene,t,n,r,o,e,i,a);this.scene.add.existing(s)}}}],n&&y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Z);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function O(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(a,Phaser.GameObjects.Graphics);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(r);if(o){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e)).beginPath(),t.map((function(e){e.vertices.map((function(e){n.fillPoints(e)}))})),n}return t=a,(n=[{key:"fillPoints",value:function(e){var t=e.length;this.moveTo(e[0].x,e[0].y);for(var n=1;n<t;n++)this.lineTo(e[n].x,e[n].y);this.lineTo(e[0].x,e[0].y),this.fillPath()}}])&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}();function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},R(e,t)}function C(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(a,Phaser.GameObjects.Container);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=T(r);if(o){var n=T(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return C(this,e)});function a(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,null!=t?t:760,null!=n?n:480)).explosion;var o=e.add.sprite(0,-35,"iglooedit","crate/explode0001");return o.setOrigin(.5020080321285141,.5034013605442177),o.visible=!1,r.add(o),r.explosion=o,r.scene=e,r.tween,r.defaultX=t,r.defaultY=n,r.items=[],e.anims.create({key:"explode",frames:r.scene.anims.generateFrameNames("iglooedit",{prefix:"crate/explode",start:1,end:8,zeroPad:4}),frameRate:24,hideOnComplete:!0}),r}return t=a,(n=[{key:"explode",value:function(){for(this.explosion.visible=!0,this.explosion.play("explode");this.items.length;)this.items.pop().visible=!0}}])&&P(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}();function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){return F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},F(e,t)}function I(e,t){if(t&&("object"===B(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function z(e){return z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},z(e)}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=z(r);if(o){var n=z(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return I(this,e)});function a(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,null!=t?t:760,null!=n?n:480)).crate,r.spinner;var o=e.add.image(0,-44,"iglooedit","crate/room_box");o.visible=!1,r.add(o);var s=e.add.sprite(42,-35,"iglooedit","crate/spinner0001");return s.setOrigin(.5,.5094339622641509),s.visible=!1,r.add(s),r.crate=o,r.spinner=s,r.explosion.scale=1.47,e.anims.create({key:"crate_spinner",frames:r.scene.anims.generateFrameNames("iglooedit",{prefix:"crate/spinner",start:1,end:20,zeroPad:4}),repeat:-1,frameRate:24}),s.anims.play("crate_spinner"),r}return t=a,(n=[{key:"drop",value:function(e){var t=this;this.items.push(e),this.spinner.visible=!0,this.crate.visible=!0,this.explosion.visible=!1,this.scale=1,this.tween&&(this.tween.remove(),this.tween=null),this.tween=this.scene.tweens.add({targets:this,y:{from:this.defaultY-700,to:this.defaultY},duration:800,ease:"Cubic",onComplete:function(){return t.onComplete()}})}},{key:"onComplete",value:function(){var e=this;this.tween=this.scene.tweens.add({targets:this,scale:{from:1,to:.68},duration:100,onComplete:function(){e.spinner.visible=!1,e.crate.visible=!1,e.explode()}})}}])&&A(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(E);function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},N(e,t)}function Z(e,t){if(t&&("object"===D(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function X(e){return X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},X(e)}var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=X(r);if(o){var n=X(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Z(this,e)});function a(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,null!=t?t:760,null!=n?n:480)).crate;var o=e.add.sprite(0,0,"iglooedit","crate/wall_box0001");return o.visible=!1,r.add(o),r.crate=o,r.crate.on("animationcomplete",(function(){return r.onComplete()})),e.anims.create({key:"wall_crate",frames:r.scene.anims.generateFrameNames("iglooedit",{prefix:"crate/wall_box",start:1,end:14,zeroPad:4}),frameRate:24}),r}return t=a,(n=[{key:"drop",value:function(e){this.items.push(e),this.crate.visible=!0,this.explosion.visible=!1,this.crate.scale=1,this.tween&&(this.tween.remove(),this.tween=null),this.crate.play("wall_crate")}},{key:"onComplete",value:function(){var e=this;this.tween=this.scene.tweens.add({targets:this.crate,scale:{from:1,to:.68},duration:100,onComplete:function(){e.crate.visible=!1,e.explode()}})}}])&&L(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(E);function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},U(e,t)}function G(e,t){if(t&&("object"===W(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}n(2564),n(4812),n(6699),n(2481),n(2023);var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(r);if(o){var n=q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return G(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t)).puffle=e,n.baseURL="/assets/media/puffles/",n.keyPrefix="puffle_",n}return t=a,(n=[{key:"loadPuffle",value:function(e){var t=this,n=this.getKey(e),r=setInterval((function(){t.textureExists(n)&&(t.onFileComplete(n),clearInterval(r))}),100);this.multiatlas(n,"sprites/".concat(e,".json")),this.start()}},{key:"onFileComplete",value:function(e){this.textureExists(e)&&this.puffle.loadPuffle()}}])&&H(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Z);function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t){return Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Q(e,t)}function ee(e,t){if(t&&("object"===$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return te(e)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ne(e)}var re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ne(r);if(o){var n=ne(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ee(this,e)});function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var r=Phaser.Math.Between(200,1320),o=Phaser.Math.Between(200,760);!t.matter.containsPoint(t.pet,r,o);)r=Phaser.Math.Between(200,1320),o=Phaser.Math.Between(200,760);return(n=i.call(this,t,r,o)).room=t,n.isButton=!0,n.id=e.id,n.color=e.color,n.name=e.name,n.xpos=r,n.ypos=o,n.ploader=new V(te(n),n.room),n.color=n.world.crumbs.puffles[n.color].name,n.ploader.textureExists("puffle_".concat(n.color))?n.loadPuffle():n.ploader.loadPuffle(n.color),n}return t=a,n=[{key:"loadPuffle",value:function(){this.world.client.penguin.puffle!=this.id&&(this.sprite=this.room.add.sprite(this.xpos,this.ypos,"puffle_".concat(this.color),"1_1"),this.sprite.scale=1.1,this.x=this.sprite.x,this.y=this.sprite.y,this.sprite.depth=this.y,this.world.client.penguin.id==this.room.id&&this.addPuffleInput(),this.room.puffles[this.id]=this,this.moveInterval=setInterval(this.puffleAi.bind(this),3e3))}},{key:"addPuffleInput",value:function(){var e=this;this.hitArea=new Phaser.Geom.Ellipse(0,0,50,50),this.setInteractive({cursor:"pointer",hitArea:this.hitArea,hitAreaCallback:Phaser.Geom.Ellipse.Contains}),this.on("pointerup",(function(){return e.onPuffleClick()}))}},{key:"onPuffleClick",value:function(){this.network.send("get_wellbeing",{puffle:this.id})}},{key:"puffleAi",value:function(){if(this.directions=[["s",-0,1],"sw",["nw",-1,-1],["n",0,-1],["ne",1,-1],["e",1,0],["se",1,1]],!this.tween&&!this.isTweening&&5==Phaser.Math.Between(0,5)){for(var e=Math.floor(Math.random()*this.directions.length),t=this.directions[e],n=(t[0],Phaser.Math.Between(50,250)),r=t[1]*n,o=t[2]*n,i=this.x+r,a=this.y+o,s=0;!this.room.matter.containsPoint(this.room.pet,i,a)||i>1320||a>760||i<200||a<200;){if(isNaN(i)||isNaN(a)||s>50)return;n=Phaser.Math.Between(50,250),r=t[1]*n,o=t[2]*n,i=this.x+r,a=this.y+o,s+=1}this.playFrame(9+e),this.movePuffle(i,a)}}},{key:"movePuffle",value:function(e,t){var n=this.getPath({x:e,y:t});n&&this.addMoveTween(n),this.world.interface.main.puffleCare.visible&&this.world.interface.main.puffleCare.args.puffleId==this.id&&(this.world.interface.main.puffleCare.visible=!1)}},{key:"getPath",value:function(e){var t=this.x-e.x,n=this.y-e.y;return{target:e,duration:Math.sqrt(t*t+n*n)/110*1e3}}},{key:"addMoveTween",value:function(e){var t=this;this.tween||(this.tween=this.room.tweens.add({targets:this.sprite,duration:e.duration,x:Math.round(e.target.x),y:Math.round(e.target.y),onUpdate:function(){return t.onMoveUpdate()},onComplete:function(){return t.onMoveComplete()}}))}},{key:"onMoveUpdate",value:function(){this.x=this.sprite.x,this.y=this.sprite.y,this.sprite.depth=this.y}},{key:"onMoveComplete",value:function(){this.tween&&(this.tween.remove(),this.tween=null,this.sprite.anims.stop(),this.sprite.setFrame("1_1"))}},{key:"chewGum",value:function(){this.play("bubblegum")}},{key:"eatCookie",value:function(){this.play("cookie")}},{key:"eatOs",value:function(){this.play("eating")}},{key:"bathe",value:function(){this.play("wash")}},{key:"sleep",value:function(){this.play("sleep")}},{key:"ball",value:function(){var e=Phaser.Math.Between(1,3);this.play("ball"+e)}},{key:"play",value:function(e){e=this.sprite.play(e),this.isTweening=!0,this.removeInteractive(),e.on("animationcomplete",(function(){this.sprite.setFrame("stand/south"),this.isTweening=!1,this.addPuffleInput()}),this)}},{key:"destroy",value:function(){this.sprite.destroy(),this.tween&&this.tween.remove(),clearInterval(this.moveInterval),this.room.puffles[this.id]=null}},{key:"playFrame",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.isTweening||!(n<9||n>16)){var n=[25,26].includes(e)?this.getSecretFrame(e):e,r="".concat(this.sprite.texture.key,"_").concat(n);this.world.anims.exists(r)||this.createAnim(this.sprite.texture.key,n),this.checkAnim(r)?(this.sprite.visible=!0,this.sprite.anims.play(r)):this.sprite.visible=!1,this.frame=t?e:1}}},{key:"createAnim",value:function(e,t){var n=this.crumbs.penguin[t],r=this.generateFrames(e,t,n);this.world.anims.create({key:"".concat(e,"_").concat(t),frames:r,frameRate:24,repeat:n.repeat||0})}},{key:"generateFrames",value:function(e,t,n){var r={prefix:"".concat(t,"_"),frames:n.frames||Phaser.Utils.Array.NumberArray(n.start||1,n.end)},o=this.world.textures.get(e).getFrameNames(!1);return r.frames=r.frames.filter((function(e){return o.includes("".concat(t,"_").concat(e))})),this.world.anims.generateFrameNames(e,r)}},{key:"checkAnim",value:function(e){var t=this.world.anims.get(e);return t&&t.frames.length>0}},{key:"getSecretFrame",value:function(e){var t,n=this.items.equippedFlat,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(this.crumbs.secretFrames[e]);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(this.checkSecretFrames(n,o))return o.secret_frame}}catch(e){r.e(e)}finally{r.f()}return e}},{key:"checkSecretFrames",value:function(e,t){for(var n in e)if(e[n]!==t[n])return!1;return t.secret_frame in this.crumbs.penguin}}],n&&J(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(n(4866).Z);function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function ie(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(){return ce="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=le(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},ce.apply(this,arguments)}function le(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=de(e)););return e}function ue(e,t){return ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ue(e,t)}function fe(e,t){if(t&&("object"===oe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function de(e){return de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},de(e)}var pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ue(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=de(r);if(o){var n=de(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return fe(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).isIgloo=!0,t.editBg,t.roomCrate,t.wallCrate,t.pet,t.room,t.trash,t.wall,t.selected,t.puffles=[],t}return t=a,n=[{key:"init",value:function(e){var t=this;this.args=e.args,this.id=e.args.igloo,this.music=e.args.music,this.loader=new g(this),this.quantities={},this.events.once("shutdown",(function(){return t.onShutdown()}))}},{key:"preload",value:function(){ce(de(a.prototype),"preload",this).call(this),this.load.image("locations/".concat(this.args.location),"/assets/media/igloos/locations/".concat(this.args.location,".png")),this.args.flooring&&this.loadFlooring(this.args.flooring)}},{key:"editing",get:function(){if(this.interface.iglooEdit.controls)return this.interface.iglooEdit.controls.visible}},{key:"furnitureSprites",get:function(){return this.children.list.filter((function(e){return e instanceof p}))}},{key:"getQuantity",value:function(e){var t=this.world.client.furniture[e],n=this.quantities[e]?this.quantities[e]:0;return Math.max(t-n,0)}},{key:"onShutdown",value:function(){this.interface.hideIglooEdit()}},{key:"create",value:function(){this.id==this.world.client.id&&(this.addEditBg(),this.addCrates(),this.interface.showIglooEdit()),ce(de(a.prototype),"create",this).call(this),this.floor.depth=-2,this.args.flooring&&this.addFlooring(this.args.flooring),this.addLocation(),this.loadAllFurniture(),this.world.network.send("get_puffles",{userId:this.id})}},{key:"addEditBg",value:function(){this.editBg=this.add.image(786,501,"iglooedit","bg"),this.editBg.depth=-3,this.editBg.visible=!1}},{key:"addCrates",value:function(){this.roomCrate=new M(this,this.floorSpawn[0],this.floorSpawn[1]),this.roomCrate.depth=this.roomCrate.y,this.wallCrate=new Y(this,this.wallSpawn[0],this.wallSpawn[1]),this.wallCrate.depth=this.wallCrate.y,this.add.existing(this.roomCrate),this.add.existing(this.wallCrate)}},{key:"addFlooring",value:function(e){if(this.flooring&&this.flooring.destroy(),this.flooring=this.add.image(0,0,"flooring/".concat(e),"".concat(this.floorFrame,"_1")),this.flooring.depth=-1,this.roomPhysics.mask){var t=this.createMask();this.flooring.setMask(t)}}},{key:"addLocation",value:function(){this.add.image(760,480,"locations/".concat(this.args.location)).depth=-4}},{key:"showEditBg",value:function(){this.editBg&&(this.editBg.visible=!0)}},{key:"hideEditBg",value:function(){this.editBg&&(this.editBg.visible=!1)}},{key:"hidePenguins",value:function(){for(var e=0,t=Object.values(this.penguins);e<t.length;e++){var n=t[e];n.visible=!1,n.nameTag.visible=!1,n.balloon&&(n.balloon.visible=!1)}}},{key:"showPenguins",value:function(){for(var e=0,t=Object.values(this.penguins);e<t.length;e++){var n=t[e];n.visible=!0,n.nameTag.visible=!0}}},{key:"loadFlooring",value:function(e){if(!this.textures.exists("flooring/".concat(e))){var t="/assets/media/igloos/flooring";this.load.multiatlas({key:"flooring/".concat(e),atlasURL:"".concat(t,"/").concat(e,".json"),path:t})}}},{key:"updateFlooring",value:function(e){var t=this;return this.args.flooring=e,0==e&&this.flooring?this.flooring.destroy():this.textures.exists("flooring/".concat(e))?this.addFlooring(e):(this.loadFlooring(e),this.load.start(),void this.load.once("filecomplete-json-flooring/".concat(e),(function(){t.addFlooring(e)})))}},{key:"updateMusic",value:function(e){var t=this;if(this.stopMusic(),this.music=e,e){if(this.cache.audio.exists(e))return this.playMusic(e);this.load.audio(e,"assets/media/music/".concat(e,".mp3")),this.load.start(),this.load.once("filecomplete-audio-".concat(e),(function(){t.playMusic(e)}))}}},{key:"loadAllFurniture",value:function(){var e,t=ie(this.args.furniture);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.updateQuantity(n.furnitureId),this.loader.loadFurniture(n.furnitureId,null,n.x,n.y,n.rotation,n.frame)}}catch(e){t.e(e)}finally{t.f()}this.loader.start()}},{key:"loadFurniture",value:function(e){var t=2==this.crumbs.furniture[e].type?this.wallCrate:this.roomCrate;this.updateQuantity(e),this.loader.loadFurniture(e,t,t.defaultX,t.defaultY),this.loader.start()}},{key:"updateIgloo",value:function(e){var t=this;this.id==this.world.client.id&&this.args.type!=e&&e in this.crumbs.scenes.igloos&&this.interface.prompt.showWindow("Are you sure you want to change your igloo? Your flooring will be lost. Igloo items will be saved in your inventory.","dual",(function(){t.interface.showLoading(t.getString("joining","igloo")),t.network.send("update_igloo",{type:e}),t.interface.prompt.window.visible=!1}))}},{key:"updateQuantity",value:function(e){this.quantities[e]=this.quantities[e]?this.quantities[e]+1:1}},{key:"addPhysics",value:function(){ce(de(a.prototype),"addPhysics",this).call(this),this.pet=this.addBody("pet"),this.room=this.addBody("room"),this.trash=this.addBody("trash"),this.wall=this.addBody("wall")}},{key:"createMask",value:function(){var e=this.roomPhysics.mask.fixtures;return new x(this,e).createGeometryMask()}},{key:"enableFurnitureInput",value:function(){var e,t=ie(this.furnitureSprites);try{for(t.s();!(e=t.n()).done;)e.value.setInteractive()}catch(e){t.e(e)}finally{t.f()}}},{key:"disableFurnitureInput",value:function(){var e,t=ie(this.furnitureSprites);try{for(t.s();!(e=t.n()).done;)e.value.disableInteractive()}catch(e){t.e(e)}finally{t.f()}}},{key:"addInput",value:function(){var e=this;ce(de(a.prototype),"addInput",this).call(this),this.id==this.world.client.id&&(this.input.dragDistanceThreshold=1,this.input.on("pointerdown",(function(t,n){return e.onPointerDown(t,n)})),this.input.on("pointermove",(function(t){return e.onPointerMove(t)})),this.input.keyboard.on("keydown-UP",(function(){return e.updateFrame(1,1)})),this.input.keyboard.on("keydown-LEFT",(function(){return e.updateFrame(0,1)})),this.input.keyboard.on("keydown-DOWN",(function(){return e.updateFrame(1,-1)})),this.input.keyboard.on("keydown-RIGHT",(function(){return e.updateFrame(0,-1)})))}},{key:"onPointerMove",value:function(e){this.editing&&this.selected&&this.selected.drag(e)}},{key:"onPointerDown",value:function(e,t){0==e.button&&this.editing&&(!this.selected&&t[0]&&t[0]instanceof p?t[0].hover(e):this.selected&&this.selected.drop())}},{key:"updateFrame",value:function(e,t){this.editing&&this.selected&&this.selected.updateFrame(e,t)}},{key:"setSelected",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.selected=e,this.interface.iglooEdit.setControlsInteractive(null==e)}},{key:"spawnPuffles",value:function(e){for(var t in this.puffleArray=e,this.puffleArray)new re(this.puffleArray[t],this)}},{key:"spawnPuffle",value:function(e){for(var t in this.puffleArray)this.puffleArray[t].id==e&&new re(this.puffleArray[t],this)}},{key:"stop",value:function(){for(var e in this.puffles)this.puffles[e]&&this.puffles[e].destroy();ce(de(a.prototype),"stop",this).call(this)}}],n&&se(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.Z)},3673:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}n.d(t,{Z:()=>c}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(u,e);var t,n,r,c,l=(r=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(c){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(e=l.call(this,"BambooHut")).floor,e.floorSpawn=[770,750],e.wallSpawn=[790,400],e.wallBounds=[520,1050],e.floorFrame=4,e}return t=u,(n=[{key:"_preload",value:function(){this.load.pack("bamboohut-pack","assets/media/igloos/buildings/sprites/bamboohut/bamboohut-pack.json")}},{key:"_create",value:function(){var e=this.add.image(769,691,"bamboohut","floor");e.setOrigin(.5004468275245755,.5017421602787456),this.add.image(424,474,"bamboohut","door").setOrigin(.5054945054945055,.5),this.add.image(760,402,"bamboohut","wall").setOrigin(.5004101722723544,.5),this.floor=e,this.events.emit("scene-awake")}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(n(2867).Z)},1700:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}n.d(t,{Z:()=>c}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(u,e);var t,n,r,c,l=(r=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(c){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(e=l.call(this,"Basic")).floor,e.floorSpawn=[760,760],e.wallSpawn=[750,320],e.wallBounds=[580,1e3],e.floorFrame=1,e}return t=u,(n=[{key:"_preload",value:function(){this.load.pack("basic-pack","assets/media/igloos/buildings/sprites/basic/basic-pack.json")}},{key:"_create",value:function(){var e=this.add.image(765,639,"basic","floor");e.setOrigin(.5006337135614702,.5),this.add.image(570,378,"basic","wall_1").setOrigin(.5010266940451745,.5),this.add.image(972,388,"basic","wall_2"),this.add.image(887,120,"basic","chimney").setOrigin(.5050505050505051,.5),this.add.image(828,476,"basic","window").setOrigin(.5014164305949008,.5),this.add.image(491,467,"basic","door"),this.floor=e,this.events.emit("scene-awake")}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(n(2867).Z)},5326:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}n.d(t,{Z:()=>c}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(u,e);var t,n,r,c,l=(r=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(c){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(e=l.call(this,"BigCandy")).floor,e.floorSpawn=[720,720],e.wallSpawn=[720,260],e.wallBounds=[350,1200],e.floorFrame=2,e}return t=u,(n=[{key:"_preload",value:function(){this.load.pack("bigcandy-pack","assets/media/igloos/buildings/sprites/bigcandy/bigcandy-pack.json")}},{key:"_create",value:function(){var e=this.add.image(760,636,"bigcandy","floor");e.setOrigin(.5003940110323088,.5013477088948787),this.add.image(243,478,"bigcandy","door"),this.add.image(321,389,"bigcandy","wall_1").setOrigin(.5010266940451745,.5),this.add.image(762,295,"bigcandy","wall_2").setOrigin(.5008695652173913,.5),this.add.image(1210,401,"bigcandy","wall_3"),this.add.image(1072,485,"bigcandy","window").setOrigin(.5014164305949008,.5);var t=this.add.image(529,481,"bigcandy","window");t.setOrigin(.5014164305949008,.5),t.flipX=!0,this.add.image(1127,133,"bigcandy","chimney").setOrigin(.5050505050505051,.5),this.floor=e,this.events.emit("scene-awake")}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(n(2867).Z)},2962:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}n.d(t,{Z:()=>c}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(u,e);var t,n,r,c,l=(r=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(c){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(e=l.call(this,"Candy")).floor,e.floorSpawn=[760,760],e.wallSpawn=[750,320],e.wallBounds=[580,1e3],e.floorFrame=1,e}return t=u,(n=[{key:"_preload",value:function(){this.load.pack("candy-pack","assets/media/igloos/buildings/sprites/candy/candy-pack.json")}},{key:"_create",value:function(){var e=this.add.image(765,639,"candy","floor");e.setOrigin(.5006337135614702,.5),this.add.image(570,378,"candy","wall_1").setOrigin(.5010266940451745,.5),this.add.image(972,388,"candy","wall_2"),this.add.image(887,120,"candy","chimney").setOrigin(.5050505050505051,.5),this.add.image(828,476,"candy","window").setOrigin(.5014164305949008,.5),this.add.image(491,467,"candy","door"),this.floor=e,this.events.emit("scene-awake")}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(n(2867).Z)},9142:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}n.d(t,{Z:()=>c}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(u,e);var t,n,r,c,l=(r=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(c){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(e=l.call(this,"DeluxeBlue")).floor,e.floorSpawn=[720,720],e.wallSpawn=[720,260],e.wallBounds=[350,1200],e.floorFrame=2,e}return t=u,(n=[{key:"_preload",value:function(){this.load.pack("deluxeblue-pack","assets/media/igloos/buildings/sprites/deluxeblue/deluxeblue-pack.json")}},{key:"_create",value:function(){var e=this.add.image(760,636,"deluxeblue","floor");e.setOrigin(.5003940110323088,.5013477088948787),this.add.image(243,478,"deluxeblue","door"),this.add.image(321,389,"deluxeblue","wall_1").setOrigin(.5010266940451745,.5),this.add.image(762,295,"deluxeblue","wall_2").setOrigin(.5008695652173913,.5),this.add.image(1210,401,"deluxeblue","wall_3"),this.add.image(1072,485,"deluxeblue","window").setOrigin(.5014164305949008,.5);var t=this.add.image(529,481,"deluxeblue","window");t.setOrigin(.5014164305949008,.5),t.flipX=!0,this.add.image(1127,133,"deluxeblue","chimney").setOrigin(.5050505050505051,.5),this.floor=e,this.events.emit("scene-awake")}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(n(2867).Z)},2984:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}n.d(t,{Z:()=>c}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(u,e);var t,n,r,c,l=(r=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(c){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(e=l.call(this,"DeluxeSnow")).floor,e.floorSpawn=[720,720],e.wallSpawn=[720,260],e.wallBounds=[350,1200],e.floorFrame=2,e}return t=u,(n=[{key:"_preload",value:function(){this.load.pack("deluxesnow-pack","assets/media/igloos/buildings/sprites/deluxesnow/deluxesnow-pack.json")}},{key:"_create",value:function(){var e=this.add.image(760,636,"deluxesnow","floor");e.setOrigin(.5003940110323088,.5013477088948787),this.add.image(243,478,"deluxesnow","door"),this.add.image(321,389,"deluxesnow","wall_1").setOrigin(.5010266940451745,.5),this.add.image(762,295,"deluxesnow","wall_2").setOrigin(.5008695652173913,.5),this.add.image(1210,401,"deluxesnow","wall_3"),this.floor=e,this.events.emit("scene-awake")}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(n(2867).Z)},573:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}n.d(t,{Z:()=>c}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(u,e);var t,n,r,c,l=(r=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(c){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(e=l.call(this,"DeluxeStone")).floor,e.floorSpawn=[720,720],e.wallSpawn=[720,260],e.wallBounds=[350,1200],e.floorFrame=2,e}return t=u,(n=[{key:"_preload",value:function(){this.load.pack("deluxestone-pack","assets/media/igloos/buildings/sprites/deluxestone/deluxestone-pack.json")}},{key:"_create",value:function(){var e=this.add.image(760,636,"deluxestone","floor");e.setOrigin(.5003940110323088,.5013477088948787),this.add.image(243,478,"deluxestone","door"),this.add.image(321,389,"deluxestone","wall_1").setOrigin(.5010266940451745,.5),this.add.image(762,295,"deluxestone","wall_2").setOrigin(.5008695652173913,.5),this.add.image(1210,401,"deluxestone","wall_3"),this.floor=e,this.events.emit("scene-awake")}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(n(2867).Z)},1323:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}n.d(t,{Z:()=>c}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(u,e);var t,n,r,c,l=(r=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(c){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(e=l.call(this,"Gym")).floor,e.floorSpawn=[760,780],e.wallSpawn=[760,480],e.wallBounds=[510,1110],e.floorFrame=6,e}return t=u,(n=[{key:"_preload",value:function(){this.load.pack("gym-pack","assets/media/igloos/buildings/sprites/gym/gym-pack.json")}},{key:"_create",value:function(){var e=this.add.layer(),t=this.add.image(1342,742,"gym","wood");t.setOrigin(.5084745762711864,.5185185185185185),t.flipX=!0,e.add(t);var n=this.add.image(177,742,"gym","wood");n.setOrigin(.5084745762711864,.5185185185185185),e.add(n);var r=this.add.image(760,753,"gym","floor");r.setOrigin(.5004095004095004,.5),e.add(r),this.add.image(760,400,"gym","wall").setOrigin(.5003903200624512,.5),this.add.image(339,571,"gym","door").setOrigin(.5084745762711864,.5),this.floor=e,this.events.emit("scene-awake")}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(n(2867).Z)},8762:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}n.d(t,{Z:()=>c}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(u,e);var t,n,r,c,l=(r=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(c){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(e=l.call(this,"LogCabin")).floor,e.floorSpawn=[760,728],e.wallSpawn=[760,450],e.wallBounds=[490,1030],e.floorFrame=5,e}return t=u,(n=[{key:"_preload",value:function(){this.load.pack("logcabin-pack","assets/media/igloos/buildings/sprites/logcabin/logcabin-pack.json")}},{key:"_create",value:function(){var e=this.add.layer(),t=this.add.image(760,703,"logcabin","floor_1");e.add(t);var n=this.add.image(748,838,"logcabin","floor_2");n.setOrigin(.5,.5070422535211268),e.add(n),this.add.image(760,426,"logcabin","wall").setOrigin(.5003441156228493,.5006896551724138),this.add.image(421,555,"logcabin","door"),this.floor=e,this.events.emit("scene-awake")}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(n(2867).Z)},3203:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}n.d(t,{Z:()=>c}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(u,e);var t,n,r,c,l=(r=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(c){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(e=l.call(this,"Snow")).floor,e.floorSpawn=[760,760],e.wallSpawn=[750,320],e.wallBounds=[580,1e3],e.floorFrame=1,e}return t=u,(n=[{key:"_preload",value:function(){this.load.pack("snow-pack","assets/media/igloos/buildings/sprites/snow/snow-pack.json")}},{key:"_create",value:function(){var e=this.add.image(765,639,"snow","floor");e.setOrigin(.5006337135614702,.5),this.add.image(570,378,"snow","wall_1").setOrigin(.5010266940451745,.5),this.add.image(972,388,"snow","wall_2"),this.add.image(491,467,"snow","door"),this.floor=e,this.events.emit("scene-awake")}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(n(2867).Z)},4586:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}n.d(t,{Z:()=>c}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(u,e);var t,n,r,c,l=(r=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(c){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(e=l.call(this,"SplitLevel")).floor,e.floorSpawn=[1080,490],e.wallSpawn=[970,200],e.wallBounds=[410,1110],e.floorFrame=3,e}return t=u,(n=[{key:"_preload",value:function(){this.load.pack("splitlevel-pack","assets/media/igloos/buildings/sprites/splitlevel/splitlevel-pack.json")}},{key:"_create",value:function(){var e=this.add.layer(),t=this.add.image(760,630,"splitlevel","floor");t.setOrigin(.5003861003861004,.5),e.add(t);var n=this.add.image(763,667,"splitlevel","stairs_top");n.setOrigin(.5,.5035971223021583),e.add(n),this.add.image(235,556,"splitlevel","door"),this.add.image(757,380,"splitlevel","wall_1").setOrigin(.5003615328994938,.5),this.add.image(777,667,"splitlevel","stairs"),this.add.image(925,811,"splitlevel","wall_2").setOrigin(.5,.5015197568389058),this.floor=e,this.events.emit("scene-awake")}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(n(2867).Z)},6199:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}n.d(t,{Z:()=>c}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(u,e);var t,n,r,c,l=(r=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(c){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(e=l.call(this,"Stone")).floor,e.floorSpawn=[760,760],e.wallSpawn=[750,320],e.wallBounds=[580,1e3],e.floorFrame=1,e}return t=u,(n=[{key:"_preload",value:function(){this.load.pack("stone-pack","assets/media/igloos/buildings/sprites/stone/stone-pack.json")}},{key:"_create",value:function(){var e=this.add.image(765,639,"stone","floor");e.setOrigin(.5006337135614702,.5),this.add.image(570,378,"stone","wall_1").setOrigin(.5010266940451745,.5),this.add.image(972,388,"stone","wall_2"),this.add.image(491,467,"stone","door"),this.floor=e,this.events.emit("scene-awake")}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(n(2867).Z)},5257:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=a(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},i.apply(this,arguments)}function a(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}n.d(t,{Z:()=>u}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(4819),n(5003),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(f,e);var t,n,r,a,u=(r=f,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(r);if(a){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=u.call(this,e)).page,t.pages,t.buttons,t}return t=f,n=[{key:"init",value:function(){this.load.on("start",this.showLoading,this),this.events.on("showloading",this.showLoading,this),i(l(f.prototype),"init",this).call(this)}},{key:"showLoading",value:function(){this.interface.prompt.showLoading(this,this.load.progress)}},{key:"create",value:function(){this._create(),this.page=0,this.setPageVisible()}},{key:"showPage",value:function(e){this.setPageVisible(!1),this.page=e,this.setPageVisible(),this.setButtonsVisible()}},{key:"prevPage",value:function(){var e=this.page-1;e<0||this.showPage(e)}},{key:"nextPage",value:function(){var e=this.page+1;e>this.pages.length-1||this.showPage(e)}},{key:"setPageVisible",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.pages[this.page].visible=e}},{key:"setButtonsVisible",value:function(){var e=this.page>0&&this.page<this.pages.length-1;this.buttons.visible=e}},{key:"close",value:function(){this.scene.stop()}}],n&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(n(5136).Z)},7661:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}n.d(t,{Z:()=>c}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(u,e);var t,n,r,c,l=(r=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(c){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=l.call(this,e)).page,t.pages,t}return t=u,n=[{key:"init",value:function(){this.load.on("start",this.showLoading,this),this.events.on("showloading",this.showLoading,this)}},{key:"showLoading",value:function(){this.interface.prompt.showLoading(this,this.load.progress)}},{key:"create",value:function(){this._create(),this.page=0,this.setPageVisible()}},{key:"showPage",value:function(e){this.setPageVisible(!1),this.page=e,this.setPageVisible()}},{key:"prevPage",value:function(){var e=this.page-1;e<0||this.showPage(e)}},{key:"nextPage",value:function(){var e=this.page+1;e>this.pages.length-1||this.showPage(e)}},{key:"firstPage",value:function(){var e=this.pages.length-this.pages.length;this.showPage(e)}},{key:"eventPage",value:function(){var e=this.page+1;this.showPage(e)}},{key:"featuredPage",value:function(){var e=this.page+2;this.showPage(e)}},{key:"jokesPage",value:function(){var e=this.page+3;this.showPage(e)}},{key:"comicsPage",value:function(){var e=this.page+4;this.showPage(e)}},{key:"needPage",value:function(){var e=this.page+5;this.showPage(e)}},{key:"setPageVisible",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.pages[this.page].visible=e}},{key:"close",value:function(){this.scene.stop()}}],n&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(n(5136).Z)},3622:(e,t,n)=>{"use strict";n.d(t,{Z:()=>X}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(4819),n(5003),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(390),o=n(5257);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(u,e);var t,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(n);if(o){var r=l(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return s(this,e)});function u(e,t,n,o,a){var s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(s=i.call(this,e,null!=t?t:0,null!=n?n:0,o||"clothingcatalog",null!=a?a:"color_button")).item=0,s.setOrigin(0,0);var l=new r.zx(c(s));return l.spriteName="color_button",l.callback=function(){return s.scene.buy(s.item)},l.activeFrame=!1,s}return t=u,Object.defineProperty(t,"prototype",{writable:!1}),t}(n(6122).Z);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function p(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(a,Phaser.GameObjects.Image);var t,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(n);if(o){var r=y(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return p(this,e)});function a(e,t,n,o,s){var c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(c=i.call(this,e,null!=t?t:0,null!=n?n:0,o||"clothingcatalog",null!=s?s:"flag")).item=0;var l=new r.zx(h(c));return l.spriteName="flag",l.callback=function(){return c.scene.buy(c.item)},l.activeFrame=!1,c}return t=a,Object.defineProperty(t,"prototype",{writable:!1}),t}();function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function g(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(a,Phaser.GameObjects.Image);var t,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(n);if(o){var r=k(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return g(this,e)});function a(e,t,n,o,s){var c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(c=i.call(this,e,null!=t?t:0,null!=n?n:0,o||"clothingcatalog",null!=s?s:"photo_button")).item=0;var l=new r.zx(w(c));return l.spriteName="photo_button",l.callback=function(){return c.scene.buy(c.item)},l.activeFrame=!1,c}return t=a,Object.defineProperty(t,"prototype",{writable:!1}),t}();function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function x(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(a,Phaser.GameObjects.Image);var t,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=P(n);if(o){var r=P(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return x(this,e)});function a(e,t,n,o,s){var c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(c=i.call(this,e,null!=t?t:0,null!=n?n:0,o||"clothingcatalog",null!=s?s:"buy1")).item=0,c.setOrigin(0,0);var l=new r.zx(j(c));return l.spriteName="buy1",l.callback=function(){return c.scene.buy(c.item)},c}return t=a,Object.defineProperty(t,"prototype",{writable:!1}),t}();function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function T(e,t){return T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},T(e,t)}function E(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return B(e)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}(a,Phaser.GameObjects.Image);var t,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=A(n);if(o){var r=A(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return E(this,e)});function a(e,t,n,o,s){var c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(c=i.call(this,e,null!=t?t:0,null!=n?n:0,o||"clothingcatalog",null!=s?s:"buy2")).item=0,c.setOrigin(0,0);var l=new r.zx(B(c));return l.spriteName="buy2",l.callback=function(){return c.scene.buy(c.item)},c}return t=a,Object.defineProperty(t,"prototype",{writable:!1}),t}();function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(){return M="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=D(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},M.apply(this,arguments)}function D(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Z(e)););return e}function L(e,t){return L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},L(e,t)}function N(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Z(e){return Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Z(e)}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(s,e);var t,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Z(o);if(i){var n=Z(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return N(this,e)});function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,"ClothingCatalog")).photo12,e.photo11,e.photo10,e.photo9,e.photo8,e.photo7,e.photo6,e.photo5,e.photo4,e.photo3,e.photo2,e.photo1,e.buttons,e.coins,e.pages,e}return t=s,(n=[{key:"preload",value:function(){this.load.pack("clothingcatalog-pack","assets/media/interface/catalogs/clothing/clothingcatalog-pack.json")}},{key:"_create",value:function(){var e=this,t=this.add.rectangle(760,480,1520,960);t.isFilled=!0,t.fillColor=0,t.fillAlpha=.2;var n=this.add.container(0,0);n.visible=!1;var o=this.add.image(0,0,"clothingcatalog","page/page0016");o.setOrigin(0,0),n.add(o);var i=this.add.image(492,590,"clothingcatalog","page_left");i.setOrigin(0,0),n.add(i);var a=this.add.image(491,39,"clothingcatalog","close_left");a.setOrigin(0,0),n.add(a);var s=this.add.container(0,0);s.visible=!1;var c=this.add.image(0,0,"clothingcatalog","page/page0015");c.setOrigin(0,0),s.add(c);var l=new m(this,1231,685);s.add(l);var f=new m(this,1112,685);s.add(f);var d=new m(this,987,685);s.add(d);var p=new m(this,872,685);s.add(p);var h=new m(this,1231,547);s.add(h);var y=new m(this,1112,547);s.add(y);var b=new m(this,987,547);s.add(b);var v=new m(this,872,547);s.add(v);var g=new m(this,1231,408);s.add(g);var w=new m(this,1112,408);s.add(w);var k=new m(this,991,408);s.add(k);var O=new m(this,872,408);s.add(O);var S=new m(this,1230,270);s.add(S);var x=new m(this,1113,271);s.add(x);var j=new m(this,988,271);s.add(j);var P=new m(this,871,270);s.add(P);var C=new m(this,1230,129);s.add(C);var T=new m(this,1113,129);s.add(T);var E=new m(this,986,129);s.add(E);var B=new m(this,871,129);s.add(B);var A=new m(this,657,676);s.add(A);var I=new m(this,536,677);s.add(I);var z=new m(this,417,677);s.add(z);var M=new m(this,295,676);s.add(M);var D=new m(this,652,517);s.add(D);var L=new m(this,532,517);s.add(L);var N=new m(this,413,517);s.add(N);var Z=new m(this,294,518);s.add(Z);var X=new m(this,656,366);s.add(X);var Y=new m(this,537,364);s.add(Y);var W=new m(this,416,364);s.add(W);var H=new m(this,295,365);s.add(H);var U=new m(this,656,210);s.add(U);var G=new m(this,535,210);s.add(G);var q=new m(this,418,211);s.add(q);var V=new m(this,295,210);s.add(V);var $=this.add.container(0,0);$.visible=!1;var K=this.add.image(0,0,"clothingcatalog","page/page0014");K.setOrigin(0,0),$.add(K);var J=new _(this,1180,620);$.add(J);var Q=new _(this,920,620);$.add(Q);var ee=new _(this,1180,360);$.add(ee);var te=new _(this,920,360);$.add(te);var ne=this.add.image(1180,620,"clothingcatalog","photo/12");$.add(ne);var re=this.add.image(920,620,"clothingcatalog","photo/11");$.add(re);var oe=this.add.image(1180,360,"clothingcatalog","photo/10");$.add(oe);var ie=this.add.image(920,360,"clothingcatalog","photo/9");$.add(ie);var ae=this.add.image(1180,630,"clothingcatalog","photo/penguin");$.add(ae);var se=this.add.image(920,630,"clothingcatalog","photo/penguin");$.add(se);var ce=this.add.image(1180,370,"clothingcatalog","photo/penguin");$.add(ce);var le=this.add.image(920,370,"clothingcatalog","photo/penguin");$.add(le);var ue=new _(this,600,620);$.add(ue);var fe=new _(this,340,620);$.add(fe);var de=new _(this,600,360);$.add(de);var pe=new _(this,340,360);$.add(pe);var he=this.add.image(600,620,"clothingcatalog","photo/8");$.add(he);var ye=this.add.image(340,620,"clothingcatalog","photo/7");$.add(ye);var me=this.add.image(600,360,"clothingcatalog","photo/6");$.add(me);var be=this.add.image(340,360,"clothingcatalog","photo/5");$.add(be);var ve=this.add.image(600,630,"clothingcatalog","photo/penguin");$.add(ve);var ge=this.add.image(340,630,"clothingcatalog","photo/penguin");$.add(ge);var we=this.add.image(600,370,"clothingcatalog","photo/penguin");$.add(we);var ke=this.add.image(340,370,"clothingcatalog","photo/penguin");$.add(ke);var _e=this.add.container(0,0);_e.visible=!1;var Oe=this.add.image(0,0,"clothingcatalog","page/page0013");Oe.setOrigin(0,0),_e.add(Oe);var Se=new R(this,255,329);Se.angle=-16,_e.add(Se);var xe=new R(this,301,80);xe.angle=19,_e.add(xe);var je=new F(this,619,580);je.angle=-23,_e.add(je);var Pe=new F(this,578,216);Pe.angle=-28,_e.add(Pe);var Re=new _(this,1187,620);_e.add(Re);var Ce=new _(this,927,620);_e.add(Ce);var Te=new _(this,1187,360);_e.add(Te);var Ee=new _(this,927,360);_e.add(Ee);var Be=this.add.image(1187,620,"clothingcatalog","photo/4");_e.add(Be);var Ae=this.add.image(927,620,"clothingcatalog","photo/3");_e.add(Ae);var Fe=this.add.image(1187,360,"clothingcatalog","photo/2");_e.add(Fe);var Ie=this.add.image(927,360,"clothingcatalog","photo/1");_e.add(Ie);var ze=this.add.image(1187,630,"clothingcatalog","photo/penguin");_e.add(ze);var Me=this.add.image(927,630,"clothingcatalog","photo/penguin");_e.add(Me);var De=this.add.image(1187,370,"clothingcatalog","photo/penguin");_e.add(De);var Le=this.add.image(927,370,"clothingcatalog","photo/penguin");_e.add(Le);var Ne=this.add.container(0,0);Ne.visible=!1;var Ze=this.add.image(0,0,"clothingcatalog","page/page0012");Ze.setOrigin(0,0),Ne.add(Ze);var Xe=new R(this,343,302);Xe.angle=10,Ne.add(Xe);var Ye=new R(this,865,653);Ye.angle=18,Ne.add(Ye);var We=new R(this,933,524);We.angle=3,Ne.add(We);var He=new R(this,803,165);He.angle=52,Ne.add(He);var Ue=new F(this,606,448);Ue.angle=-13,Ne.add(Ue);var Ge=new F(this,1179,327);Ge.angle=-3,Ne.add(Ge);var qe=new F(this,980,131);qe.angle=-26,Ne.add(qe);var Ve=this.add.container(0,0);Ve.visible=!1;var $e=this.add.image(0,0,"clothingcatalog","page/page0011");$e.setOrigin(0,0),Ve.add($e);var Ke=new R(this,266,643);Ke.angle=33,Ve.add(Ke);var Je=new R(this,264,529);Je.angle=-36.99999999999994,Ve.add(Je);var Qe=new R(this,221,203);Qe.angle=40,Ve.add(Qe);var et=new R(this,928,680);et.angle=-5,Ve.add(et);var tt=new R(this,750,656);tt.angle=-32.00000000000006,Ve.add(tt);var nt=new R(this,719,180);nt.angle=33,Ve.add(nt);var rt=new F(this,575,302);rt.angle=-34,Ve.add(rt);var ot=new F(this,405,153);ot.angle=-9,Ve.add(ot);var it=new F(this,1054,317);it.angle=-14,Ve.add(it);var at=new F(this,964,228);at.angle=-13,Ve.add(at);var st=new F(this,877,91);st.angle=-13,Ve.add(st);var ct=this.add.container(0,0);ct.visible=!1;var lt=this.add.image(0,0,"clothingcatalog","page/page0010");lt.setOrigin(0,0),ct.add(lt);var ut=new R(this,419,613);ut.angle=-14,ct.add(ut);var ft=new R(this,215,381);ft.angle=-2,ct.add(ft);var dt=new R(this,223,182);dt.angle=0,ct.add(dt);var pt=new R(this,894,639);pt.angle=0,ct.add(pt);var ht=new R(this,808,570);ht.angle=-47,ct.add(ht);var yt=new R(this,756,359);yt.angle=-6,ct.add(yt);var mt=new R(this,761,95);mt.angle=-20,ct.add(mt);var bt=new F(this,515,115);bt.angle=7,ct.add(bt);var vt=new F(this,1205,284);vt.angle=-19,ct.add(vt);var gt=this.add.container(0,0);gt.visible=!1;var wt=this.add.image(0,0,"clothingcatalog","page/page0009");wt.setOrigin(0,0),gt.add(wt);var kt=new R(this,319,94);kt.angle=33,gt.add(kt);var _t=new R(this,967,100);_t.angle=2,gt.add(_t);var Ot=new R(this,1095,523);Ot.angle=-22,gt.add(Ot);var St=new F(this,546,365);St.angle=-2,gt.add(St);var xt=new F(this,883,278);xt.angle=-34,gt.add(xt);var jt=new F(this,1005,644);jt.angle=-3,gt.add(jt);var Pt=new F(this,1236,329);Pt.angle=41,gt.add(Pt);var Rt=this.add.container(0,0);Rt.visible=!1;var Ct=this.add.image(0,0,"clothingcatalog","page/page0008");Ct.setOrigin(0,0),Rt.add(Ct);var Tt=new R(this,220,587);Tt.scaleX=1.2,Tt.scaleY=1.2,Tt.angle=-13,Rt.add(Tt);var Et=new R(this,210,345);Et.angle=-27,Rt.add(Et);var Bt=new R(this,824,321);Bt.scaleX=1.3,Bt.scaleY=1.3,Bt.angle=33,Rt.add(Bt);var At=new F(this,1081,170);At.scaleX=1.3,At.scaleY=1.3,At.angle=0,Rt.add(At);var Ft=this.add.container(0,0);Ft.visible=!1;var It=this.add.image(0,0,"clothingcatalog","page/page0007");It.setOrigin(0,0),Ft.add(It);var zt=new R(this,269,322);zt.angle=-17,Ft.add(zt);var Mt=new R(this,871,69);Mt.angle=33,Ft.add(Mt);var Dt=new F(this,622,494);Dt.angle=17,Ft.add(Dt);var Lt=new F(this,594,386);Lt.angle=-26,Ft.add(Lt);var Nt=new F(this,496,230);Nt.angle=-34,Ft.add(Nt);var Zt=new F(this,1026,349);Zt.angle=-23,Ft.add(Zt);var Xt=this.add.container(0,0);Xt.visible=!1;var Yt=this.add.image(0,0,"clothingcatalog","page/page0006");Yt.setOrigin(0,0),Xt.add(Yt);var Wt=new R(this,206,641);Wt.angle=-38,Xt.add(Wt);var Ht=new R(this,325,173);Ht.angle=33,Xt.add(Ht);var Ut=new R(this,523,384);Ut.angle=10,Xt.add(Ut);var Gt=new R(this,520,145);Gt.angle=33,Xt.add(Gt);var qt=new R(this,555,75);qt.angle=11,Xt.add(qt);var Vt=new R(this,907,219);Vt.angle=16,Xt.add(Vt);var $t=new F(this,802,509);$t.angle=-34,Xt.add($t);var Kt=new F(this,1108,218);Kt.angle=-29,Xt.add(Kt);var Jt=new F(this,1121,372);Jt.angle=-39.99999999999994,Xt.add(Jt);var Qt=this.add.container(0,0);Qt.visible=!1;var en=this.add.image(0,0,"clothingcatalog","page/page0005");en.setOrigin(0,0),Qt.add(en);var tn=new R(this,213,673);tn.angle=-45.00000000000006,Qt.add(tn);var nn=new R(this,275,91);nn.angle=33,Qt.add(nn);var rn=new R(this,789,292);rn.angle=20,Qt.add(rn);var on=new R(this,845,126);on.angle=-19,Qt.add(on);var an=new F(this,537,194);an.angle=-21,Qt.add(an);var sn=new F(this,546,672);sn.angle=-2,Qt.add(sn);var cn=new F(this,1242,235);cn.angle=40,Qt.add(cn);var ln=this.add.container(0,0);ln.visible=!1;var un=this.add.image(0,0,"clothingcatalog","page/page0004");un.setOrigin(0,0),ln.add(un);var fn=new R(this,222,679);fn.angle=-46,ln.add(fn);var dn=new R(this,279,296);dn.angle=31,ln.add(dn);var pn=new R(this,574,141);pn.angle=49,ln.add(pn);var hn=new R(this,760,614);hn.angle=-45.00000000000006,ln.add(hn);var yn=new R(this,1080,761);yn.angle=-31,ln.add(yn);var mn=new F(this,422,402);mn.angle=-20,ln.add(mn);var bn=new F(this,667,434);bn.scaleX=.7,bn.scaleY=.7,bn.angle=-10,ln.add(bn);var vn=new F(this,844,351);vn.angle=-46,ln.add(vn);var gn=new F(this,937,453);gn.angle=-26,ln.add(gn);var wn=new F(this,1023,240);wn.angle=9,ln.add(wn);var kn=new F(this,1164,335);kn.angle=-25,ln.add(kn);var _n=new F(this,1227,589);_n.angle=20,ln.add(_n);var On=this.add.container(0,0);On.visible=!1;var Sn=this.add.image(0,0,"clothingcatalog","page/page0003");Sn.setOrigin(0,0),On.add(Sn);var xn=new R(this,236,366);xn.angle=33,On.add(xn);var jn=new R(this,378,386);jn.angle=-13,On.add(jn);var Pn=new R(this,359,110);Pn.angle=31,On.add(Pn);var Rn=new R(this,942,154);Rn.angle=45,On.add(Rn);var Cn=new F(this,384,535);Cn.angle=-34,On.add(Cn);var Tn=new F(this,1178,309);Tn.angle=-29,On.add(Tn);var En=new F(this,648,77);En.angle=17,On.add(En);var Bn=new F(this,431,605);Bn.angle=5,On.add(Bn);var An=this.add.container(0,0);An.visible=!1;var Fn=this.add.image(0,0,"clothingcatalog","page/page0002");Fn.setOrigin(0,0),An.add(Fn);var In=new u(this,1200,525);In.tintTopLeft=4718591,In.tintTopRight=4718591,In.tintBottomLeft=4718591,In.tintBottomRight=4718591,An.add(In);var zn=new u(this,1100,525);zn.tintFill=!1,zn.tintTopLeft=7536384,zn.tintTopRight=7536384,zn.tintBottomLeft=7536384,zn.tintBottomRight=7536384,An.add(zn);var Mn=new u(this,1e3,525);Mn.tintFill=!1,Mn.tintTopLeft=6619289,Mn.tintTopRight=6619289,Mn.tintBottomLeft=6619289,Mn.tintBottomRight=6619289,An.add(Mn);var Dn=new u(this,900,525);Dn.tintFill=!1,Dn.tintTopLeft=25856,Dn.tintTopRight=25856,Dn.tintBottomLeft=25856,Dn.tintBottomRight=25856,An.add(Dn);var Ln=new u(this,800,525);Ln.tintFill=!1,Ln.tintTopLeft=16724633,Ln.tintTopRight=16724633,Ln.tintBottomLeft=16724633,Ln.tintBottomRight=16724633,An.add(Ln);var Nn=new u(this,1146,425);Nn.tintFill=!1,Nn.tintTopLeft=39372,Nn.tintTopRight=39372,Nn.tintBottomLeft=39372,Nn.tintBottomRight=39372,An.add(Nn);var Zn=new u(this,1046,425);Zn.tintFill=!1,Zn.tintTopLeft=16763904,Zn.tintTopRight=16763904,Zn.tintBottomLeft=16763904,Zn.tintBottomRight=16763904,An.add(Zn);var Xn=new u(this,946,425);Xn.tintFill=!1,Xn.tintTopLeft=16737637,Xn.tintTopRight=16737637,Xn.tintBottomLeft=16737637,Xn.tintBottomRight=16737637,An.add(Xn);var Yn=new u(this,846,425);Yn.tintFill=!1,Yn.tintTopLeft=10052864,Yn.tintTopRight=10052864,Yn.tintBottomLeft=10052864,Yn.tintBottomRight=10052864,An.add(Yn);var Wn=new u(this,1200,325);Wn.tintFill=!1,Wn.tintTopLeft=16737536,Wn.tintTopRight=16737536,Wn.tintBottomLeft=16737536,Wn.tintBottomRight=16737536,An.add(Wn);var Hn=new u(this,1100,325);Hn.tintFill=!1,Hn.tintTopLeft=39168,Hn.tintTopRight=39168,Hn.tintBottomLeft=39168,Hn.tintBottomRight=39168,An.add(Hn);var Un=new u(this,1e3,325);Un.tintFill=!1,Un.tintTopLeft=13369344,Un.tintTopRight=13369344,Un.tintBottomLeft=13369344,Un.tintBottomRight=13369344,An.add(Un);var Gn=new u(this,900,325);Gn.tintFill=!1,Gn.tintTopLeft=12901,Gn.tintTopRight=12901,Gn.tintBottomLeft=12901,Gn.tintBottomRight=12901,An.add(Gn);var qn=new u(this,800,325);qn.tintFill=!1,qn.tintTopLeft=3289650,qn.tintTopRight=3289650,qn.tintBottomLeft=3289650,qn.tintBottomRight=3289650,An.add(qn);var Vn=this.add.container(0,0);Vn.visible=!1;var $n=this.add.image(0,0,"clothingcatalog","page/page0001");$n.setOrigin(0,0),Vn.add($n);var Kn=this.add.image(469,42,"clothingcatalog","page_front");Kn.setOrigin(0,0),Vn.add(Kn);var Jn=this.add.image(925,37,"clothingcatalog","close_right");Jn.setOrigin(0,0),Vn.add(Jn);var Qn=this.add.container(190,41);Qn.visible=!1;var er=this.add.image(1012,0,"clothingcatalog","close_right");er.setOrigin(0,0),Qn.add(er);var tr=this.add.image(1012,549,"clothingcatalog","page_right");tr.setOrigin(0,0),Qn.add(tr);var nr=this.add.image(0,549,"clothingcatalog","page_left");nr.setOrigin(0,0),Qn.add(nr);var rr=this.add.text(1130,790,"",{});rr.setOrigin(1,0),rr.text="YOUR COINS:",rr.setStyle({align:"right",fixedWidth:600,fontFamily:"CCComiccrazy",fontSize:"32px",stroke:"#000",strokeThickness:9}),Qn.add(rr);var or=[Vn,An,On,ln,Qt,Xt,Ft,Rt,gt,ct,Ve,Ne,_e,$,s,n];new r.vj(t);var ir=new r.zx(i);ir.spriteName="page_left",ir.callback=function(){return e.prevPage()},ir.activeFrame=!1,ir.pixelPerfect=!0;var ar=new r.zx(a);ar.spriteName="close_left",ar.callback=function(){return e.close()},ar.pixelPerfect=!0,l.item=501,f.item=521,d.item=520,p.item=519,h.item=518,y.item=526,b.item=517,v.item=525,g.item=516,w.item=515,k.item=523,O.item=514,S.item=522,x.item=513,j.item=512,P.item=534,C.item=528,T.item=511,E.item=524,B.item=527,A.item=531,I.item=503,z.item=510,M.item=509,D.item=508,L.item=530,N.item=507,Z.item=536,X.item=506,Y.item=535,W.item=500,H.item=505,U.item=529,G.item=504,q.item=502,V.item=533,J.item=982,Q.item=969,ee.item=9032,te.item=9031,ue.item=994,fe.item=9035,de.item=9034,pe.item=9033,Se.item=3022,xe.item=1058,je.item=6021,Pe.item=5032,Re.item=976,Ce.item=985,Te.item=9038,Ee.item=9037,Xe.item=3020,Ye.item=6019,We.item=794,He.item=762,Ue.item=4084,Ge.item=668,qe.item=477,Ke.item=4083,Je.item=4079,Qe.item=793,et.item=4081,tt.item=796,nt.item=4080,rt.item=1055,ot.item=667,it.item=1054,at.item=673,st.item=1053,ut.item=831,ft.item=4097,dt.item=117,pt.item=830,ht.item=363,yt.item=4096,mt.item=656,bt.item=671,vt.item=1022,kt.item=108,_t.item=1060,Ot.item=375,St.item=4093,xt.item=1061,jt.item=4095,Pt.item=4092,Tt.item=263,Et.item=424,Bt.item=4094,At.item=1059,zt.item=1063,Mt.item=1065,Dt.item=4098,Lt.item=732,Nt.item=118,Zt.item=4101,Wt.item=4103,Ht.item=1067,Ut.item=234,Gt.item=843,qt.item=433,Vt.item=125,$t.item=6022,Kt.item=1066,Jt.item=4102,tn.item=4099,nn.item=728,rn.item=4100,on.item=651,an.item=1064,sn.item=6004,cn.item=233,fn.item=4108,dn.item=670,pn.item=5043,hn.item=784,yn.item=357,mn.item=2010,bn.item=4109,vn.item=657,gn.item=184,wn.item=5042,kn.item=1074,_n.item=251,xn.item=1073,jn.item=4106,Pn.item=1072,Rn.item=2011,Cn.item=3026,Tn.item=3027,En.item=3025,Bn.item=4107,In.item=15,zn.item=13,Mn.item=8,Dn.item=11,Ln.item=3,Nn.item=12,Zn.item=7,Xn.item=10,Yn.item=9,Wn.item=6,Hn.item=2,Un.item=5,Gn.item=1,qn.item=4;var sr=new r.zx(Kn);sr.spriteName="page_front",sr.callback=function(){return e.nextPage()},sr.activeFrame=!1;var cr=new r.zx(Jn);cr.spriteName="close_right",cr.callback=function(){return e.close()},cr.pixelPerfect=!0;var lr=new r.zx(er);lr.spriteName="close_right",lr.callback=function(){return e.close()},lr.pixelPerfect=!0;var ur=new r.zx(tr);ur.spriteName="page_right",ur.callback=function(){return e.nextPage()},ur.activeFrame=!1,ur.pixelPerfect=!0;var fr=new r.zx(nr);fr.spriteName="page_left",fr.callback=function(){return e.prevPage()},fr.activeFrame=!1,fr.pixelPerfect=!0,this.photo12=ne,this.photo11=re,this.photo10=oe,this.photo9=ie,this.photo8=he,this.photo7=ye,this.photo6=me,this.photo5=be,this.photo4=Be,this.photo3=Ae,this.photo2=Fe,this.photo1=Ie,this.buttons=Qn,this.coins=rr,this.pages=or,this.events.emit("scene-awake")}},{key:"create",value:function(){M(Z(s.prototype),"create",this).call(this),this.setCoins(this.world.client.coins)}},{key:"setCoins",value:function(e){this.coins.text="YOUR COINS: ".concat(e)}},{key:"buy",value:function(e){this.interface.prompt.showItem(e)}}])&&z(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(o.Z)},4870:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(4819),n(5003),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(390),o=n(5257);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(u,Phaser.GameObjects.Image);var t,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(n);if(o){var r=l(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return s(this,e)});function u(e,t,n,o,a){var s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(s=i.call(this,e,null!=t?t:0,null!=n?n:0,o||"furniturecatalog",null!=a?a:"buy")).item=0,s.setOrigin(0,0);var l=new r.zx(c(s));return l.spriteName="buy",l.callback=function(){return s.scene.buy(s.item)},s}return t=u,Object.defineProperty(t,"prototype",{writable:!1}),t}();function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=h(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},p.apply(this,arguments)}function h(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function m(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(s,e);var t,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(o);if(i){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m(this,e)});function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,"FurnitureCatalog")).buttons,e.coins,e.pages,e}return t=s,(n=[{key:"preload",value:function(){this.load.pack("furniturecatalog-pack","assets/media/interface/catalogs/furniture/furniturecatalog-pack.json")}},{key:"_create",value:function(){var e=this,t=this.add.rectangle(760,480,1520,960);t.isFilled=!0,t.fillColor=0,t.fillAlpha=.2;var n=this.add.container(0,0);n.visible=!1;var o=this.add.image(0,0,"furniturecatalog","page/page0008");o.setOrigin(0,0),n.add(o);var i=this.add.image(492,590,"furniturecatalog","page_left");i.setOrigin(0,0),n.add(i);var a=this.add.image(491,39,"furniturecatalog","close_left");a.setOrigin(0,0),n.add(a);var s=this.add.container(0,0);s.visible=!1;var c=this.add.image(0,0,"furniturecatalog","page/page0007");c.setOrigin(0,0),s.add(c);var l=new u(this,541,202);s.add(l);var f=new u(this,302,434);s.add(f);var d=new u(this,503,662);s.add(d);var p=new u(this,1069,205);s.add(p);var h=new u(this,1026,405);s.add(h);var y=new u(this,998,648);s.add(y);var m=this.add.container(0,0);m.visible=!1;var b=this.add.image(0,0,"furniturecatalog","page/page0006");b.setOrigin(0,0),m.add(b);var v=new u(this,500,199);m.add(v);var g=new u(this,296,433);m.add(g);var w=new u(this,519,676);m.add(w);var k=new u(this,834,267);m.add(k);var _=new u(this,1105,468);m.add(_);var O=new u(this,847,666);m.add(O);var S=this.add.container(0,0);S.visible=!1;var x=this.add.image(0,0,"furniturecatalog","page/page0005");x.setOrigin(0,0),S.add(x);var j=new u(this,244,374);S.add(j);var P=new u(this,433,421);S.add(P);var R=new u(this,610,373);S.add(R);var C=new u(this,527,670);S.add(C);var T=new u(this,851,161);S.add(T);var E=new u(this,1133,321);S.add(E);var B=new u(this,851,573);S.add(B);var A=new u(this,1120,701);S.add(A);var F=this.add.container(0,0);F.visible=!1;var I=this.add.image(0,0,"furniturecatalog","page/page0004");I.setOrigin(0,0),F.add(I);var z=new u(this,527,385);F.add(z);var M=new u(this,311,645);F.add(M);var D=new u(this,846,197);F.add(D);var L=new u(this,845,422);F.add(L);var N=new u(this,1110,412);F.add(N);var Z=this.add.container(0,0);Z.visible=!1;var X=this.add.image(0,0,"furniturecatalog","page/page0003");X.setOrigin(0,0),Z.add(X);var Y=new u(this,543,288);Z.add(Y);var W=new u(this,289,618);Z.add(W);var H=new u(this,1092,206);Z.add(H);var U=new u(this,891,448);Z.add(U);var G=new u(this,1100,692);Z.add(G);var q=this.add.container(0,0);q.visible=!1;var V=this.add.image(0,0,"furniturecatalog","page/page0002");V.setOrigin(0,0),q.add(V);var $=new u(this,569,277);q.add($);var K=new u(this,280,626);q.add(K);var J=new u(this,1073,211);q.add(J);var Q=new u(this,1142,329);q.add(Q);var ee=new u(this,1103,704);q.add(ee);var te=this.add.container(0,0);te.visible=!1;var ne=this.add.image(0,0,"furniturecatalog","page/page0001");ne.setOrigin(0,0),te.add(ne);var re=this.add.image(468,44,"furniturecatalog","page_front");re.setOrigin(0,0),te.add(re);var oe=this.add.image(924,39,"furniturecatalog","close_right");oe.setOrigin(0,0),te.add(oe);var ie=this.add.container(190,41);ie.visible=!1;var ae=this.add.image(1012,0,"furniturecatalog","close_right");ae.setOrigin(0,0),ie.add(ae);var se=this.add.image(1012,549,"furniturecatalog","page_right");se.setOrigin(0,0),ie.add(se);var ce=this.add.image(0,549,"furniturecatalog","page_left");ce.setOrigin(0,0),ie.add(ce);var le=this.add.text(1130,790,"",{});le.setOrigin(1,0),le.text="YOUR COINS:",le.setStyle({align:"right",fixedWidth:600,fontFamily:"CCComiccrazy",fontSize:"32px",stroke:"#000",strokeThickness:9}),ie.add(le);var ue=[te,q,Z,F,S,m,s,n];new r.vj(t);var fe=new r.zx(i);fe.spriteName="page_left",fe.callback=function(){return e.prevPage()},fe.activeFrame=!1,fe.pixelPerfect=!0;var de=new r.zx(a);de.spriteName="close_left",de.callback=function(){return e.close()},de.pixelPerfect=!0,l.item=546,f.item=547,d.item=548,p.item=311,h.item=84,y.item=544,v.item=562,g.item=563,w.item=564,k.item=83,_.item=81,O.item=82,j.item=551,P.item=552,R.item=553,C.item=550,T.item=355,E.item=354,B.item=177,A.item=178,z.item=560,M.item=561,D.item=75,L.item=73,N.item=74,Y.item=441,W.item=440,H.item=443,U.item=367,G.item=366,$.item=570,K.item=575,J.item=572,Q.item=571,ee.item=186;var pe=new r.zx(re);pe.spriteName="page_front",pe.callback=function(){return e.nextPage()},pe.activeFrame=!1;var he=new r.zx(oe);he.spriteName="close_right",he.callback=function(){return e.close()},he.pixelPerfect=!0;var ye=new r.zx(ae);ye.spriteName="close_right",ye.callback=function(){return e.close()},ye.pixelPerfect=!0;var me=new r.zx(se);me.spriteName="page_right",me.callback=function(){return e.nextPage()},me.activeFrame=!1,me.pixelPerfect=!0;var be=new r.zx(ce);be.spriteName="page_left",be.callback=function(){return e.prevPage()},be.activeFrame=!1,be.pixelPerfect=!0,this.buttons=ie,this.coins=le,this.pages=ue,this.events.emit("scene-awake")}},{key:"create",value:function(){p(b(s.prototype),"create",this).call(this),this.setCoins(this.world.client.coins)}},{key:"setCoins",value:function(e){this.coins.text="YOUR COINS: ".concat(e)}},{key:"buy",value:function(e){this.interface.prompt.showFurniture(e)}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(o.Z)},5675:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(4819),n(5003),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(390);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=s(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},a.apply(this,arguments)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(d,e);var t,n,o,s,f=(o=d,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(o);if(s){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function d(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(e=f.call(this,"Hydro")).pages,e}return t=d,(n=[{key:"preload",value:function(){this.load.pack("catalogs-master-pack","assets/media/interface/catalogs/catalogs-master-pack.json"),this.load.pack("hydro-pack","assets/media/interface/catalogs/hydro-pack.json")}},{key:"_create",value:function(){var e=this,t=this.add.rectangle(760,480,1520,960);t.isFilled=!0,t.fillColor=0,t.fillAlpha=.1;var n=this.add.container(0,0),o=this.add.image(760,481,"hydro");n.add(o);var i=this.add.image(1070,45,"catalogs-master","closebtn");n.add(i);var a=this.add.image(784,509,"catalogs-master","buybtn");n.add(a);var s=this.add.text(743,490,"",{});s.text="300",s.setStyle({align:"center",color:"#6f4100ff",fontFamily:"Burbank Small",fontSize:"32px",fontStyle:"bold"}),n.add(s);var c=this.add.image(946,509,"catalogs-master","buybtn");n.add(c);var l=this.add.text(904,490,"",{});l.text="300",l.setStyle({align:"center",color:"#6f4100ff",fontFamily:"Burbank Small",fontSize:"32px",fontStyle:"bold"}),n.add(l);var u=this.add.text(437,65,"",{});u.text="HYDRO-HOPPER",u.setStyle({align:"center",color:"#ffffffff",fontFamily:"Burbank Small",fontSize:"60px",fontStyle:"bold italic",stroke:"#000000ff",strokeThickness:10}),n.add(u);var f=this.add.text(889,73,"",{});f.text="GAME\nUPGRADES",f.setStyle({align:"center",color:"6f4100",fontFamily:"Burbank Small",fontSize:"32px",fontStyle:"bold italic",stroke:"#000000ff",strokeThickness:1}),f.setLineSpacing(-10),n.add(f);var d=this.add.text(486,218,"",{});d.text="How these wakeboards work:",d.setStyle({color:"#ffffffff",fontFamily:"Burbank Small",fontSize:"23px",fontStyle:"bold","shadow.offsetX":1,"shadow.offsetY":1,"shadow.color":"#042635ff","shadow.blur":3,"shadow.fill":!0}),d.setWordWrapWidth(250),n.add(d);var p=this.add.text(488,287,"",{});p.text="Enter Hydro-Hopper whilst holding a wakeboard.\nYou'll get to use it in the game!",p.setStyle({color:"#ffffffff",fontFamily:"Burbank Small",fontSize:"20px","shadow.offsetX":1,"shadow.offsetY":1,"shadow.color":"#042635ff","shadow.blur":3,"shadow.fill":!0}),p.setWordWrapWidth(280),n.add(p);var h=this.add.text(718,441,"",{});h.text="Yellow Arrow Wakeboard",h.setStyle({align:"center",color:"#000000ff",fontFamily:"Burbank Small",fontSize:"21px",fontStyle:"bold","shadow.color":"#042635ff"}),h.setLineSpacing(-8),h.setWordWrapWidth(200),n.add(h);var y=this.add.text(881,441,"",{});y.text="Pink Striped Wakeboard",y.setStyle({align:"center",color:"#000000ff",fontFamily:"Burbank Small",fontSize:"21px",fontStyle:"bold","shadow.color":"#042635ff"}),y.setLineSpacing(-8),y.setWordWrapWidth(200),n.add(y);var m=[n];new r.vj(t),new r.rF(i).callback=function(){e.close()};var b=new r.zx(a);b.spriteName="buybtn",b.callback=function(){return e.interface.prompt.showItem(711)},b.activeFrame=!1;var v=new r.zx(c);v.spriteName="buybtn",v.callback=function(){return e.interface.prompt.showItem(712)},v.activeFrame=!1,this.pages=m,this.events.emit("scene-awake")}},{key:"create",value:function(){a(u(d.prototype),"create",this).call(this)}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),d}(n(7661).Z)},9250:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S}),n(6699),n(2023),n(8309),n(2222),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(4819),n(5003),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(390),o=n(5257);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(u,Phaser.GameObjects.Image);var t,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(n);if(o){var r=l(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return s(this,e)});function u(e,t,n,o,a){var s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(s=i.call(this,e,null!=t?t:0,null!=n?n:0,o||"igloocatalog",null!=a?a:"buy")).floor=0,s.setOrigin(0,0);var l=new r.zx(c(s));return l.spriteName="buy",l.callback=function(){return s.scene.buyFloor(s.floor)},s}return t=u,Object.defineProperty(t,"prototype",{writable:!1}),t}();function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function p(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(a,Phaser.GameObjects.Image);var t,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(n);if(o){var r=y(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return p(this,e)});function a(e,t,n,o,s){var c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(c=i.call(this,e,null!=t?t:0,null!=n?n:0,o||"igloocatalog",null!=s?s:"upgrade")).igloo=0,c.setOrigin(0,0);var l=new r.zx(h(c));return l.spriteName="upgrade",l.callback=function(){return c.scene.buyIgloo(c.igloo)},c}return t=a,Object.defineProperty(t,"prototype",{writable:!1}),t}();function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=w(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},g.apply(this,arguments)}function w(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function _(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(s,e);var t,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(o);if(i){var n=O(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return _(this,e)});function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,"IglooCatalog")).buttons,e.coins,e.pages,e}return t=s,(n=[{key:"preload",value:function(){this.load.pack("igloocatalog-pack","assets/media/interface/catalogs/igloo/igloocatalog-pack.json")}},{key:"_create",value:function(){var e=this,t=this.add.rectangle(760,480,1520,960);t.isFilled=!0,t.fillColor=0,t.fillAlpha=.2;var n=this.add.container(0,0);n.visible=!1;var o=this.add.image(0,0,"igloocatalog","page/page0010");o.setOrigin(0,0),n.add(o);var i=this.add.image(491,39,"igloocatalog","close_left");i.setOrigin(0,0),n.add(i);var a=this.add.image(492,590,"igloocatalog","page_left");a.setOrigin(0,0),n.add(a);var s=this.add.container(0,0);s.visible=!1;var c=this.add.image(0,0,"igloocatalog","page/page0009");c.setOrigin(0,0),s.add(c);var l=new m(this,291,536);s.add(l);var f=new m(this,865,532);s.add(f);var d=this.add.container(0,0);d.visible=!1;var p=this.add.image(0,0,"igloocatalog","page/page0008");p.setOrigin(0,0),d.add(p);var h=new m(this,291,574);d.add(h);var y=new m(this,862,533);d.add(y);var b=this.add.container(0,0);b.visible=!1;var v=this.add.image(0,0,"igloocatalog","page/page0007");v.setOrigin(0,0),b.add(v);var g=new m(this,291,533);b.add(g);var w=new m(this,864,533);b.add(w);var k=this.add.container(0,0);k.visible=!1;var _=this.add.image(0,0,"igloocatalog","page/page0006");_.setOrigin(0,0),k.add(_);var O=new m(this,292,529);k.add(O);var S=new m(this,864,573);k.add(S);var x=this.add.container(0,0);x.visible=!1;var j=this.add.image(0,0,"igloocatalog","page/page0005");j.setOrigin(0,0),x.add(j);var P=new m(this,291,572);x.add(P);var R=new m(this,866,586);x.add(R);var C=this.add.container(0,0);C.visible=!1;var T=this.add.image(0,0,"igloocatalog","page/page0004");T.setOrigin(0,0),C.add(T);var E=new m(this,298,540);C.add(E);var B=new m(this,866,573);C.add(B);var A=this.add.container(0,0);A.visible=!1;var F=this.add.image(0,0,"igloocatalog","page/page0003");F.setOrigin(0,0),A.add(F);var I=new u(this,522,178);A.add(I);var z=new u(this,523,359);A.add(z);var M=new u(this,522,529);A.add(M);var D=new u(this,522,699);A.add(D);var L=new u(this,841,660);L.scaleX=1,L.scaleY=1,A.add(L);var N=this.add.container(0,0);N.visible=!1;var Z=this.add.image(0,0,"igloocatalog","page/page0002");Z.setOrigin(0,0),N.add(Z);var X=new u(this,537,436);N.add(X);var Y=new u(this,537,661);N.add(Y);var W=new u(this,1100,179);N.add(W);var H=new u(this,1100,354.4866943359375);N.add(H);var U=new u(this,1100,513);N.add(U);var G=new u(this,1100,687);N.add(G);var q=this.add.container(0,0);q.visible=!1;var V=this.add.image(0,0,"igloocatalog","page/page0001");V.setOrigin(0,0),q.add(V);var $=this.add.image(468,44,"igloocatalog","page_front");$.setOrigin(0,0),q.add($);var K=this.add.image(924,39,"igloocatalog","close_right");K.setOrigin(0,0),q.add(K);var J=this.add.container(190,41);J.visible=!1;var Q=this.add.image(1012,0,"igloocatalog","close_right");Q.setOrigin(0,0),J.add(Q);var ee=this.add.image(1012,549,"igloocatalog","page_right");ee.setOrigin(0,0),J.add(ee);var te=this.add.image(0,549,"igloocatalog","page_left");te.setOrigin(0,0),J.add(te);var ne=this.add.text(1130,790,"",{});ne.setOrigin(1,0),ne.text="YOUR COINS:",ne.setStyle({align:"right",fixedWidth:600,fontFamily:"CCComiccrazy",fontSize:"32px",stroke:"#000",strokeThickness:9}),J.add(ne);var re=[q,N,A,C,x,k,b,d,s,n];new r.vj(t);var oe=new r.zx(i);oe.spriteName="close_left",oe.callback=function(){return e.close()},oe.pixelPerfect=!0;var ie=new r.zx(a);ie.spriteName="page_left",ie.callback=function(){return e.prevPage()},ie.activeFrame=!1,ie.pixelPerfect=!0,l.igloo=9,f.igloo=6,h.igloo=14,y.igloo=2,g.igloo=21,w.igloo=1,O.igloo=16,S.igloo=13,P.igloo=27,R.igloo=26,E.igloo=20,B.igloo=28,I.floor=16,z.floor=2,M.floor=15,D.floor=14,L.floor=0,X.floor=19,Y.floor=8,W.floor=18,r.zx.getComponent(H).callback=function(){return e.interface.prompt.showFurniture(549)},U.floor=5,G.floor=10;var ae=new r.zx($);ae.spriteName="page_front",ae.callback=function(){return e.nextPage()},ae.activeFrame=!1;var se=new r.zx(K);se.spriteName="close_right",se.callback=function(){return e.close()},se.pixelPerfect=!0;var ce=new r.zx(Q);ce.spriteName="close_right",ce.callback=function(){return e.close()},ce.pixelPerfect=!0;var le=new r.zx(ee);le.spriteName="page_right",le.callback=function(){return e.nextPage()},le.activeFrame=!1,le.pixelPerfect=!0;var ue=new r.zx(te);ue.spriteName="page_left",ue.callback=function(){return e.prevPage()},ue.activeFrame=!1,ue.pixelPerfect=!0,this.buttons=J,this.coins=ne,this.pages=re,this.events.emit("scene-awake")}},{key:"create",value:function(){g(O(s.prototype),"create",this).call(this),this.setCoins(this.world.client.coins)}},{key:"setCoins",value:function(e){this.coins.text="YOUR COINS: ".concat(e)}},{key:"buyFloor",value:function(e){var t=this;if(e==this.world.room.args.flooring)return this.interface.prompt.showError("You already have this flooring.");this.showPrompt(e,"flooring",(function(){t.network.send("update_flooring",{flooring:e}),t.interface.prompt.window.visible=!1,t.close()}))}},{key:"buyIgloo",value:function(e){var t=this;if(this.world.client.igloos.includes(e))return this.interface.prompt.showError("You already have this igloo.");this.showPrompt(e,"igloos",(function(){t.network.send("add_igloo",{igloo:e}),t.interface.prompt.window.visible=!1}))}},{key:"showPrompt",value:function(e,t,n){var r=this,o=this.crumbs[t][e].name,i=this.crumbs[t][e].cost,a="Would you like to buy ".concat(o," for ").concat(i," coins. You currently have ").concat(this.world.client.coins," coins.");this.interface.prompt.showWindow(a,"dual",n,(function(){r.interface.prompt.window.visible=!1}))}}])&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(o.Z)},7441:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(4819),n(5003),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(390);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=s(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},a.apply(this,arguments)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(d,e);var t,n,o,s,f=(o=d,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(o);if(s){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function d(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(e=f.call(this,"Music")).pages,e}return t=d,(n=[{key:"preload",value:function(){this.load.pack("music-pack","assets/media/interface/catalogs/music/music-pack.json"),this.load.pack("catalogs-master-pack","assets/media/interface/catalogs/catalogs-master-pack.json")}},{key:"_create",value:function(){var e=this,t=this.add.rectangle(760,480,1520,960);t.isFilled=!0,t.fillColor=0,t.fillAlpha=.1;var n=this.add.container(0,0),o=this.add.image(760,460,"musiccatalog");n.add(o);var i=this.add.image(1167,142,"catalogs-master","closebtn");n.add(i);var a=this.add.image(583,351,"catalogs-master","buybtn");n.add(a);var s=this.add.image(1070,351,"catalogs-master","buybtn");n.add(s);var c=this.add.image(422,534,"catalogs-master","buybtn");n.add(c);var l=this.add.image(1085,534,"catalogs-master","buybtn");n.add(l);var u=this.add.image(394,702,"catalogs-master","buybtn");n.add(u);var f=this.add.image(878,702,"catalogs-master","buybtn");n.add(f);var d=this.add.text(844,683,"",{});d.text="380",d.setStyle({align:"center",color:"6f4100",fontFamily:"Burbank Small",fontSize:"32px"}),n.add(d);var p=this.add.text(355,683,"",{});p.text="350",p.setStyle({align:"center",color:"6f4100",fontFamily:"Burbank Small",fontSize:"32px"}),n.add(p);var h=this.add.text(1054,517,"",{});h.text="120",h.setStyle({align:"center",color:"6f4100",fontFamily:"Burbank Small",fontSize:"32px"}),n.add(h);var y=this.add.text(387,517,"",{});y.text="350",y.setStyle({align:"center",color:"6f4100",fontFamily:"Burbank Small",fontSize:"32px"}),n.add(y);var m=this.add.text(550,333,"",{});m.text="300",m.setStyle({align:"center",color:"6f4100",fontFamily:"Burbank Small",fontSize:"32px"}),n.add(m);var b=this.add.text(1039,333,"",{});b.text="300",b.setStyle({align:"center",color:"6f4100",fontFamily:"Burbank Small",fontSize:"32px"}),n.add(b);var v=[n];new r.vj(t),new r.rF(i).callback=function(){e.close()};var g=new r.zx(a);g.spriteName="buybtn",g.callback=function(){return e.interface.prompt.showItem(729)},g.activeFrame=!1;var w=new r.zx(s);w.spriteName="buybtn",w.callback=function(){return e.interface.prompt.showItem(234)},w.activeFrame=!1;var k=new r.zx(c);k.spriteName="buybtn",k.callback=function(){return e.interface.prompt.showItem(293)},k.activeFrame=!1;var _=new r.zx(l);_.spriteName="buybtn",_.callback=function(){return e.interface.prompt.showItem(340)},_.activeFrame=!1;var O=new r.zx(u);O.spriteName="buybtn",O.callback=function(){return e.interface.prompt.showItem(233)},O.activeFrame=!1;var S=new r.zx(f);S.spriteName="buybtn",S.callback=function(){return e.interface.prompt.showItem(180)},S.activeFrame=!1,this.pages=v,this.events.emit("scene-awake")}},{key:"create",value:function(){a(u(d.prototype),"create",this).call(this)}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),d}(n(7661).Z)},402:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(4819),n(5003),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(390);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=s(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},a.apply(this,arguments)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(d,e);var t,n,o,s,f=(o=d,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(o);if(s){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function d(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(e=f.call(this,"Waves")).pages,e}return t=d,(n=[{key:"preload",value:function(){this.load.pack("catalogs-master-pack","assets/media/interface/catalogs/catalogs-master-pack.json"),this.load.pack("waves-pack","assets/media/interface/catalogs/waves-pack.json")}},{key:"_create",value:function(){var e=this,t=this.add.rectangle(760,480,1520,960);t.isFilled=!0,t.fillColor=0,t.fillAlpha=.1;var n=this.add.container(0,0),o=this.add.image(760,481,"waves");n.add(o);var i=this.add.image(1070,45,"catalogs-master","closebtn");n.add(i);var a=this.add.image(784,532,"catalogs-master","buybtn");n.add(a);var s=this.add.text(743,513,"",{});s.text="300",s.setStyle({align:"center",color:"#6f4100ff",fontFamily:"Burbank Small",fontSize:"32px",fontStyle:"bold"}),n.add(s);var c=this.add.image(946,532,"catalogs-master","buybtn");n.add(c);var l=this.add.text(904,513,"",{});l.text="300",l.setStyle({align:"center",color:"#6f4100ff",fontFamily:"Burbank Small",fontSize:"32px",fontStyle:"bold"}),n.add(l);var u=this.add.text(449,72,"",{});u.text="CATCHIN' WAVES",u.setStyle({align:"center",color:"#bb9b54ff",fontFamily:"Burbank Small",fontSize:"55px",fontStyle:"bold italic",stroke:"#2f2204ff",strokeThickness:10}),n.add(u);var f=this.add.text(889,73,"",{});f.text="GAME\nUPGRADES",f.setStyle({align:"center",color:"6f4100",fontFamily:"Burbank Small",fontSize:"32px",fontStyle:"bold italic",stroke:"#000000ff",strokeThickness:1}),f.setLineSpacing(-10),n.add(f);var d=this.add.text(494,218,"",{});d.text="How these surfboards work:",d.setStyle({color:"#000000ff",fontFamily:"Burbank Small",fontSize:"23px",fontStyle:"bold","shadow.color":"#000000ff"}),d.setWordWrapWidth(240),n.add(d);var p=this.add.text(494,285,"",{});p.text="Enter Catchin' Waves whilst holding a surfboard. You'll get to surf with it in the game!",p.setStyle({color:"#000000ff",fontFamily:"Burbank Small",fontSize:"20px","shadow.color":"#000000ff"}),p.setWordWrapWidth(250),n.add(p);var h=this.add.rectangle(791,107,180,70);n.add(h);var y=this.add.text(709,482,"",{});y.text="Daisy Surfboard",y.setStyle({align:"center",color:"#000000ff",fontFamily:"Burbank Small",fontSize:"20px",fontStyle:"bold","shadow.color":"#042635ff"}),n.add(y);var m=this.add.text(867,482,"",{});m.text="Flame Surfboard",m.setStyle({align:"center",color:"#000000ff",fontFamily:"Burbank Small",fontSize:"20px",fontStyle:"bold","shadow.color":"#042635ff"}),n.add(m);var b=[n];new r.vj(t),new r.rF(i).callback=function(){e.close()};var v=new r.zx(a);v.spriteName="buybtn",v.callback=function(){return e.interface.prompt.showItem(702)},v.activeFrame=!1;var g=new r.zx(c);g.spriteName="buybtn",g.callback=function(){return e.interface.prompt.showItem(701)},g.activeFrame=!1,new r.rF(h).callback=function(){return e.interface.prompt.showItem(703)},this.pages=b,this.events.emit("scene-awake")}},{key:"create",value:function(){a(u(d.prototype),"create",this).call(this)}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),d}(n(7661).Z)},1816:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=s(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},a.apply(this,arguments)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}n.d(t,{Z:()=>f}),n(2707),n(9826),n(1539),n(9601),n(7327),n(8304),n(489),n(2419),n(8011),n(9070),n(4819),n(5003),n(7042),n(8309),n(1038),n(8783),n(4916),n(2526),n(1817),n(2165),n(6992),n(3948),n(9753);var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(d,e);var t,n,r,s,f=(r=d,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(r);if(s){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(t=f.call(this,e)).key=e,t.penguins=null,t.block=null,t.triggers=null,t.isReady=!1,t.waiting=[],t}return t=d,n=[{key:"client",get:function(){return this.world.client}},{key:"init",value:function(e){this.id=e.id,a(u(d.prototype),"init",this).call(this)}},{key:"create",value:function(){this._create(),this.sortChildren(),this.roomPhysics&&this.addPhysics(),this.roomAnims&&this.addAnims(),this.addInput(),this.setMusic(),this.interface.showInterface()}},{key:"preload",value:function(){var e=this;this.load.on("progress",this.onProgress,this),this.events.once("create",(function(){return e.isReady=!0})),this.music&&!this.cache.audio.exists(this.music)&&this.load.audio(this.music,"assets/media/music/".concat(this.music,".mp3")),this._preload()}},{key:"onProgress",value:function(e){this.interface.loading.progress.scaleX=e}},{key:"sortChildren",value:function(){if(this.sort){var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}(this.sort);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.depth=n.y}}catch(e){t.e(e)}finally{t.f()}}}},{key:"addPenguin",value:function(e,t){this.penguins[e]=t,this.interface.main.buddy.showPage()}},{key:"removePenguin",value:function(e){var t=this.penguins[e];t.isTweening&&t.removeTween(),t.balloon&&t.balloon.destroy(),t.nameTag.destroy(),t.destroy(),delete this.penguins[e],this.interface.main.buddy.showPage()}},{key:"addInput",value:function(){var e=this;this.input.on("pointerup",(function(t,n){return e.client.onPointerUp(t,n)}))}},{key:"onSnowballComplete",value:function(e,t){}},{key:"stop",value:function(){this.interface.main.snowballFactory.clearBalls(),this.soundManager.stopAllButMusic(),this.scene.stop()}},{key:"getWaiting",value:function(e){return this.waiting.find((function(t){return t.id==e}))}},{key:"updateWaiting",value:function(e,t){var n=this.getWaiting(e);n&&(n=Object.assign(n,t))}},{key:"removeWaiting",value:function(e){this.waiting=this.waiting.filter((function(t){return t.id!=e}))}},{key:"roomPhysics",get:function(){var e=this.key.toLowerCase();return this.cache.json.get("".concat(e,"-physics"))}},{key:"addPhysics",value:function(){this.matter.world.setBounds(0,0,this.game.config.width,this.game.config.height),this.block=this.addBody("block",1118481),this.triggers=this.addTriggers()}},{key:"addBody",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.roomPhysics[e])return null;var n=this.matter.add.fromPhysicsEditor(0,0,this.roomPhysics[e]);return this.matter.body.setPosition(n,n.centerOffset),t=t||n.render.fillColor,n.render.lineColor=t,n.render.fillColor=t,n.render.fillOpacity=.5,n}},{key:"addTriggers",value:function(){var e=this;if(!this.roomTriggers)return null;var t=[],n=function(n){var r=e.addBody(n,65280);r.callback=function(){return e.checkTrigger(e.roomTriggers[n])},t.push(r)};for(var r in this.roomTriggers)n(r);return t}},{key:"checkTrigger",value:function(e){e&&e()}},{key:"triggerRoom",value:function(e,t,n){var r=this.crumbs.scenes.rooms[e];this.world.client.sendJoinRoom(e,r.key,t,n)}},{key:"triggerGame",value:function(e){var t=this,n=this.getString("".concat(this.crumbs.games[e].key,"_prompt"));this.interface.prompt.showWindow(n,"dual",(function(){t.interface.prompt.window.visible=!1}))}},{key:"addAnims",value:function(){var e=this.key.toLowerCase(),t=this.cache.json.get("".concat(e,"-anims"));this.anims.fromJSON(t)}}],n&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),d}(n(5136).Z)},1487:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d}),n(2707),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(4819),n(5003),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(1816),o=n(390);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=c(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},s.apply(this,arguments)}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function u(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(d,e);var t,n,r,i,c=(r=d,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(r);if(i){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function d(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(e=c.call(this,"Arcade")).danceFloor,e.dancingPenguin1,e.dancingPenguin2,e.dancingPenguin3,e.dancingPenguin4,e.dancingPenguin5,e.dancingPenguin6,e.bg,e.leftSpeaker,e.rightSpeaker,e.targetBg,e.layer1,e.layer2,e.layer3,e.targetFg,e.stairsRailing,e.vsRailing,e.scoreboardBg,e.scoreboard,e.scoreboardFg,e.blankMachine,e.bitsAndBoltsAnim,e.bitsAndBoltsHover,e.bitsAndBoltsMachine,e.bitsAndBoltsStool,e.thinIceAnim,e.thinIceHover,e.thinIceMachine,e.astroBarrierAnim,e.astroBarrierHover,e.astroBarrierMachine,e.vendingMachine,e.bin,e.astroBarrierStool,e.thinIceStool,e.leftChair1,e.leftChair2,e.leftChair2Back,e.leftChair3,e.leftChair3Back,e.leftChair4,e.leftTable,e.rightChair1,e.rightChair2,e.rightChair3,e.rightChair3Back,e.rightChair4,e.rightChair4Back,e.rightTable,e.lights,e.sort,e.roomTriggers={dance:function(){return e.triggerRoom(13,1200,792)},ice:function(){return null},astro:function(){return null},bolts:function(){return null}},e}return t=d,(n=[{key:"_preload",value:function(){this.load.pack("arcade-pack-new","assets/media/rooms/arcade/arcade-pack-new.json")}},{key:"_create",value:function(){var e=this,t=this.add.rectangle(769,773,350,250);t.isFilled=!0,t.fillColor=2032417;var n=this.add.sprite(761,801,"arcade-new","danceFloor0001.png");n.scaleX=.5,n.scaleY=.5;var r=this.add.sprite(822,778,"arcade-new","dancingPenguin0001.png"),i=this.add.sprite(771,814,"arcade-new","dancingPenguin0001.png"),a=this.add.sprite(663,809,"arcade-new","dancingPenguin0001.png"),s=this.add.sprite(707,846,"arcade-new","dancingPenguin0001.png"),c=this.add.sprite(812,850,"arcade-new","dancingPenguin0001.png"),l=this.add.sprite(723,777,"arcade-new","dancingPenguin0001.png"),u=this.add.sprite(760,480,"arcade-new","bg.png"),f=this.add.sprite(298,124,"arcade-new","leftSpeaker0001.png"),d=this.add.sprite(1239,124,"arcade-new","rightSpeaker0001.png"),p=this.add.sprite(760,237,"arcade-new","targetBg.png"),h=this.add.sprite(760,242,"arcade-new","layer1.png"),y=this.add.sprite(760,279,"arcade-new","layer2.png"),m=this.add.sprite(760,304,"arcade-new","layer3.png"),b=this.add.sprite(760,313,"arcade-new","targetFg.png"),v=this.add.sprite(1412,716,"arcade-new","stairsRailing.png"),g=this.add.sprite(760,440,"arcade-new","vsRailing.png"),w=this.add.sprite(760,59,"arcade-new","scoreboardBg.png"),k=this.add.sprite(760,88,"arcade-new","scoreboardBlueWin0334.png"),_=this.add.sprite(760,86,"arcade-new","scoreboardFg.png"),O=this.add.sprite(364,300,"arcade-new","blankMachine.png"),S=this.add.sprite(235,391,"arcade-new","bitsAndBoltsAnim.png0001.png"),x=this.add.sprite(216,393,"arcade-new","bitsAndBoltsHover0001.png"),j=this.add.sprite(233,406,"arcade-new","bitsAndBoltsMachine.png"),P=this.add.sprite(311.5891140376454,484.5944387857579,"arcade-new","bitsAndBoltsStool.png");P.setOrigin(.49315190062742337,.16587295368964744);var R=this.add.sprite(1176,272,"arcade-new","thinIceAnim0001.png"),C=this.add.sprite(1201,265,"arcade-new","thinIceHover0001.png"),T=this.add.sprite(1178,297,"arcade-new","thinIceMachine0001.png"),E=this.add.sprite(1253,373,"arcade-new","astroBarrierAnim0001.png"),B=this.add.sprite(1273,377,"arcade-new","astroBarrierHover0001.png"),A=this.add.sprite(1263,404,"arcade-new","astroBarrierMachine.png"),F=this.add.sprite(94,538,"arcade-new","vendingMachine0001.png"),I=this.add.sprite(33,663,"arcade-new","bin.png"),z=this.add.sprite(1188.0732063867658,463.3426043765047,"arcade-new","astroBarrierStool.png");z.setOrigin(.48455343977943055,.17409455358796386);var M=this.add.sprite(1101.0732063867658,376.9524139566534,"arcade-new","thinIceStool.png");M.setOrigin(.48455343977943055,.15881773578740002);var D=this.add.sprite(317.6951414295994,701.6806776606555,"arcade-new","leftChair1.png");D.setOrigin(.5632793492177711,.4283129050819656);var L=this.add.sprite(390.787118440437,824.0065527220394,"arcade-new","leftChair2.png");L.setOrigin(.4213559296257846,.11850727265841281);var N=this.add.sprite(426,848,"arcade-new","leftChair2Back.png"),Z=this.add.sprite(208.87254272923522,854.2194342816024,"arcade-new","leftChair3.png");Z.setOrigin(.6342289225831509,.1836032539111443);var X=this.add.sprite(174,882,"arcade-new","leftChair3Back.png"),Y=this.add.sprite(181.9224867581063,761.0919770108376,"arcade-new","leftChair4.png");Y.setOrigin(.7719443106879423,.40623603945541403);var W=this.add.sprite(267,783,"arcade-new","leftTable.png"),H=this.add.sprite(1200.8305378033951,729.7438181781602,"arcade-new","rightChair1.png");H.setOrigin(.4758951700825163,.4287987842808539);var U=this.add.sprite(1345.0918066277738,765.9046605109634,"arcade-new","rightChair2.png");U.setOrigin(.369614208361352,.4598792166217588);var G=this.add.sprite(1343.1144073868438,854.069205868704,"arcade-new","rightChair3.png");G.setOrigin(.5754865109486892,.05651674817644429);var q=this.add.sprite(1361,898,"arcade-new","rightChair3Back.png"),V=this.add.sprite(1131.793785985382,833.7104486716275,"arcade-new","rightChair4.png");V.setOrigin(.5859972909542038,.06197958778457297);var $=this.add.sprite(1095,868,"arcade-new","rightChair4Back.png"),K=this.add.sprite(1246,802,"arcade-new","rightTable.png"),J=this.add.sprite(760,57,"arcade-new","lights.png"),Q=[D,K,$,V,q,G,U,H,W,Y,X,Z,N,L],ee=new o.rF(x);ee.hoverCallback=function(){return e.onBoltsOver()},ee.hoverOutCallback=function(){return e.onBoltsOut()};var te=new o.$X(x);te.x=310,te.y=485,new o.tk(x).text="Bits and Bolts";var ne=new o.rF(C);ne.hoverCallback=function(){return e.onIceOver()},ne.hoverOutCallback=function(){return e.onIceOut()};var re=new o.$X(C);re.x=1100,re.y=375,new o.tk(C).text="Thin Ice";var oe=new o.rF(B);oe.hoverCallback=function(){return e.onAstroOver()},oe.hoverOutCallback=function(){return e.onAstroOut()};var ie=new o.$X(B);ie.x=1190,ie.y=460,new o.tk(B).text="Astro Barrier",this.danceFloor=n,this.dancingPenguin1=r,this.dancingPenguin2=i,this.dancingPenguin3=a,this.dancingPenguin4=s,this.dancingPenguin5=c,this.dancingPenguin6=l,this.bg=u,this.leftSpeaker=f,this.rightSpeaker=d,this.targetBg=p,this.layer1=h,this.layer2=y,this.layer3=m,this.targetFg=b,this.stairsRailing=v,this.vsRailing=g,this.scoreboardBg=w,this.scoreboard=k,this.scoreboardFg=_,this.blankMachine=O,this.bitsAndBoltsAnim=S,this.bitsAndBoltsHover=x,this.bitsAndBoltsMachine=j,this.bitsAndBoltsStool=P,this.thinIceAnim=R,this.thinIceHover=C,this.thinIceMachine=T,this.astroBarrierAnim=E,this.astroBarrierHover=B,this.astroBarrierMachine=A,this.vendingMachine=F,this.bin=I,this.astroBarrierStool=z,this.thinIceStool=M,this.leftChair1=D,this.leftChair2=L,this.leftChair2Back=N,this.leftChair3=Z,this.leftChair3Back=X,this.leftChair4=Y,this.leftTable=W,this.rightChair1=H,this.rightChair2=U,this.rightChair3=G,this.rightChair3Back=q,this.rightChair4=V,this.rightChair4Back=$,this.rightTable=K,this.lights=J,this.sort=Q,this.events.emit("scene-awake")}},{key:"create",value:function(){s(f(d.prototype),"create",this).call(this),this.astroBarrierAnim.play("astroBarrierAnim"),this.thinIceAnim.play("thinIceAnim"),this.bitsAndBoltsAnim.play("bitsAndBoltsAnim"),this.dancingPenguin(this.dancingPenguin6),this.dancingPenguin(this.dancingPenguin5),this.dancingPenguin(this.dancingPenguin4),this.dancingPenguin(this.dancingPenguin3),this.dancingPenguin(this.dancingPenguin2),this.dancingPenguin(this.dancingPenguin1),this.danceFloor.play("danceFloor")}},{key:"dancingPenguin",value:function(e){var t=Phaser.Math.RND.between(1,194);e.play({key:"dancingPenguin",startFrame:t},!0)}},{key:"onBoltsOver",value:function(){this.bitsAndBoltsHover.setFrame("bitsAndBoltsHover0002.png")}},{key:"onIceOver",value:function(){this.thinIceHover.setFrame("thinIceHover0002.png")}},{key:"onAstroOver",value:function(){this.astroBarrierHover.setFrame("astroBarrierHover0002.png")}},{key:"onBoltsOut",value:function(){this.bitsAndBoltsHover.setFrame("bitsAndBoltsHover0001.png")}},{key:"onIceOut",value:function(){this.thinIceHover.setFrame("thinIceHover0001.png")}},{key:"onAstroOut",value:function(){this.astroBarrierHover.setFrame("astroBarrierHover0001.png")}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),d}(r.Z)},4284:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p}),n(2481),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(1816),o=n(1676),i=n(9101),a=n(5655),s=n(1023);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function f(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(h,e);var t,n,r,c,p=(r=h,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(r);if(c){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function h(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(e=p.call(this,"Beacon")).roomTriggers={jetpack:null,lighthouse:function(){return e.triggerRoom(31,380,237)},telescope:function(){return e.world.interface.main.telescope.visible=!0}},e}return t=h,(n=[{key:"_preload",value:function(){this.load.pack("beacon-pack","assets/media/rooms/beacon/beacon-pack.json")}},{key:"_create",value:function(){var e=this;this.add.image(852,566,"beacon","bg"),this.add.image(781,613,"beacon","Smbolo 2"),this.add.image(258,288,"beacon","monocular");var t=this.add.image(1337,561,"beacon","jetpack");this.add.image(193,585,"beacon","Smbolo 4"),this.add.image(695,359,"beacon","fareoff");var n=this.add.sprite(695,359,"beacon","fareon"),r=this.add.sprite(501,456,"beacon","switch0001");this.add.image(707,412,"beacon","Symbol 299"),this.add.image(719,106,"beacon","Symbol 301"),this.add.image(699,364,"beacon","lightsoff");var c=this.add.sprite(699,364,"beacon","lights");new o.Z(t).spriteName="jetpack";var l=new i.Z(t);l.x=1337,l.y=561,new a.Z(n),new s.Z(r).callback=function(){e.onClickSwitch()};var u=new a.Z(r);u.key="switch",u.end=19,u.repeat=0,u.autoPlay=!1,u.onHover=!0,u.stopOnOut=!1,new a.Z(c),this.events.emit("scene-awake")}},{key:"onClickSwitch",value:function(){}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),h}(r.Z)},8733:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f}),n(2707),n(2481),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(1816),o=n(5655),i=n(1023);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(d,e);var t,n,r,a,f=(r=d,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(r);if(a){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function d(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(e=f.call(this,"Berg")).sort,e.roomTriggers={aqua:null},e}return t=d,(n=[{key:"_preload",value:function(){this.load.pack("iceberg-pack","assets/media/rooms/berg/iceberg-pack.json")}},{key:"_create",value:function(){this.add.image(757,138,"iceberg","sky"),this.add.image(1169,95,"iceberg","city"),this.add.image(760,592,"iceberg","sea"),this.add.image(704,623,"iceberg","Smbolo 10");var e=this.add.sprite(626,245,"iceberg","booom0001");this.add.image(670,476,"iceberg","iceberg");var t=this.add.sprite(627,496,"iceberg","platform0001"),n=this.add.sprite(1265,319,"berg","aqua0001");n.setOrigin(.5,.4014336917562724),this.add.image(638,596,"iceberg","snow");var r=this.add.sprite(715,679,"iceberg","lights0001"),a=this.add.image(588.1650465735426,419.5404346863972,"iceberg","Smbolo 9");a.setOrigin(.5115199304673699,.8145164395745075);var s=this.add.image(575.8624611887145,660.4028958751118,"iceberg","Smbolo 91");s.setOrigin(.4874379940380601,.8541195064216156);var c=[s,a],l=new o.Z(e);l.key="booom",l.end=72;var u=new o.Z(t);u.key="platform",u.end=72,new i.Z(n);var f=new o.Z(n);f.key="aqua",f.start=171,f.end=348,f.repeat=0,f.autoPlay=!1,f.onHover=!0;var d=new o.Z(r);d.key="lights",d.end=96,this.sort=c,this.events.emit("scene-awake")}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),d}(r.Z)},5111:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p}),n(2707),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(1816),o=n(1676),i=n(1023),a=n(9101),s=n(5655);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function f(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(h,e);var t,n,r,c,p=(r=h,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(r);if(c){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function h(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(e=p.call(this,"Boiler")).sort,e.roomTriggers={dance:function(){return e.triggerRoom(13,960,473)},pool:function(){return null}},e}return t=h,(n=[{key:"_preload",value:function(){this.load.pack("boiler-pack","assets/media/rooms/boiler/boiler-pack.json")}},{key:"_create",value:function(){this.add.image(669,617,"boiler","bg"),this.add.image(345,753,"boiler","Symbol 16"),this.add.image(581,165,"boiler","Symbol 23");var e=this.add.image(588,370,"boiler","door");this.add.image(381,596,"boiler","Symbol 25"),this.add.image(144,393,"boiler","Smbolo 1"),this.add.image(603,28,"boiler","Smbolo 3");var t=this.add.image(1024,253,"boiler","Symbol 20");this.add.image(868,460,"boiler","Symbol 22"),this.add.image(798,164,"boiler","Smbolo 2"),this.add.image(1317,347,"boiler","Symbol 15");var n=this.add.sprite(227,660,"boiler","lights0001");this.add.image(378,747,"boiler","machine1");var r=this.add.sprite(304,708,"boiler","news0001");this.add.image(327,845,"boiler","machine2");var c=this.add.sprite(310,774,"boiler","roll0001"),l=this.add.image(745.8648912405165,1030.5505338588346,"boiler","Symbol 182");l.setOrigin(.47716254267778674,.8996285403792021);var u=[l],f=new o.Z(e);f.spriteName="door",f.activeFrame=!1,new i.Z(t);var d=new a.Z(t);d.x=1036,d.y=530;var p=new s.Z(n);p.key="lights",p.end=36;var h=new s.Z(r);h.key="news",h.end=18;var y=new s.Z(c);y.key="roll",y.end=7,this.sort=u,this.events.emit("scene-awake")}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),h}(r.Z)},9730:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u}),n(2707),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(1816),o=n(390);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(f,e);var t,n,r,i,u=(r=f,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(r);if(i){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function f(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(e=u.call(this,"Book")).bg,e.bookshelf,e.bottomDeskDivider,e.bottomDeskLeftChair,e.bottomDeskLeft,e.bottomDeskRight,e.sofaBack,e.coffeeTable,e.sofaFront,e.topDeskLeftStorage,e.noticeboard,e.hatStand,e.topDeskLeftChair,e.topDeskLeft,e.topDeskRightStorage,e.topDeskDivider,e.topDeskRightChair,e.topDeskRight,e.conveyorBottom,e.newspapers,e.conveyorTop,e.mancalaTable1,e.mancalaTable2,e.mancalaTable3,e.mancalaTable4,e.stool1,e.stool2,e.fg,e.sort,e.roomTriggers={coffee:function(){return e.triggerRoom(11,1120,800)}},e}return t=f,(n=[{key:"_preload",value:function(){this.load.pack("book-pack","assets/media/rooms/book/book-pack.json")}},{key:"_create",value:function(){var e=this.add.sprite(756,491,"book","bg"),t=this.add.sprite(419,333,"book","bookshelf"),n=this.add.sprite(877,633,"book","bottomDeskDivider"),r=this.add.sprite(794,756,"book","bottomDeskLeftChair"),i=this.add.sprite(890.7078354253503,786.2114846592042,"book","bottomDeskLeft");i.setOrigin(.4892319618779188,.6530934115617574);var a=this.add.sprite(999,784,"book","bottomDeskRight"),s=this.add.sprite(1396,504,"book","sofaBack"),c=this.add.sprite(1440,628,"book","coffeeTable"),l=this.add.sprite(1367,826,"book","sofaFront"),u=this.add.sprite(318,443,"book","topDeskLeftStorage"),f=this.add.sprite(290.27413229285713,664.3737525085712,"book","noticeboard");f.setOrigin(.532044635651353,.707832351224489);var d=this.add.sprite(797,312,"book","hatStand"),p=this.add.sprite(638,311,"book","topDeskLeftChair"),h=this.add.sprite(611,409,"book","topDeskLeft"),y=this.add.sprite(991,337,"book","topDeskRightStorage"),m=this.add.sprite(835,261,"book","topDeskDivider"),b=this.add.sprite(1054,409,"book","topDeskRightChair"),v=this.add.sprite(1081,469,"book","topDeskRight"),g=this.add.sprite(365.20391795238095,877.1037335238099,"book","conveyorBottom");g.setOrigin(.497664392655892,.7982802019952697);var w=this.add.sprite(300.38824614285704,920.3455175238088,"book","newspapers0001");w.setOrigin(.5063615656940461,.922607540616245);var k=this.add.sprite(477.81567180952385,806.5057847142859,"book","conveyorTop");k.setOrigin(.4865713491766801,.3183737255216702);var _=this.add.sprite(1241,584,"book","mancalaTable0001"),O=this.add.sprite(1123,666,"book","mancalaTable0002"),S=this.add.sprite(1270,708,"book","mancalaTable0003"),x=this.add.sprite(1169,810,"book","mancalaTable0001"),j=this.add.sprite(481,708.5106262196813,"book","stool");j.setOrigin(.5,.17695885633757666);var P=this.add.sprite(597.7078354253503,713.4488730816558,"book","stool");P.setOrigin(.48343378750449045,.20059601319092496);var R=this.add.sprite(748,991,"book","fg");R.setOrigin(.5,1);var C=[P,j,x,S,O,_,v,b,m,y,h,p,d,f,u,c,a,i,r,n,t,R,g,w,k],T=new o.fw(w);T.key="newspapers",T.end=18,this.bg=e,this.bookshelf=t,this.bottomDeskDivider=n,this.bottomDeskLeftChair=r,this.bottomDeskLeft=i,this.bottomDeskRight=a,this.sofaBack=s,this.coffeeTable=c,this.sofaFront=l,this.topDeskLeftStorage=u,this.noticeboard=f,this.hatStand=d,this.topDeskLeftChair=p,this.topDeskLeft=h,this.topDeskRightStorage=y,this.topDeskDivider=m,this.topDeskRightChair=b,this.topDeskRight=v,this.conveyorBottom=g,this.newspapers=w,this.conveyorTop=k,this.mancalaTable1=_,this.mancalaTable2=O,this.mancalaTable3=S,this.mancalaTable4=x,this.stool1=j,this.stool2=P,this.fg=R,this.sort=C,this.events.emit("scene-awake")}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(r.Z)},7308:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u}),n(2707),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(1816),o=n(5655);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(f,e);var t,n,r,i,u=(r=f,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(r);if(i){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function f(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(e=u.call(this,"Cavelake")).sort,e.roomTriggers={hidden:null,minecave:null,popup:function(){return e.world.interface.main.cavepopup.visible=!0}},e}return t=f,(n=[{key:"_preload",value:function(){this.load.pack("cavelake-pack","assets/media/rooms/cavelake/cavelake-pack.json")}},{key:"_create",value:function(){this.add.image(743,190,"cavelake","Symbol 11"),this.add.image(674,728,"cavelake","Smbolo 35"),this.add.image(719,325,"cavelake","Smbolo 37"),this.add.image(957,635,"cavelake","Smbolo 34"),this.add.image(688,365,"cavelake","Smbolo 47"),this.add.image(892,530,"cavelake","Symbol 10"),this.add.image(1123,483,"cavelake","Smbolo 18"),this.add.image(832,674,"cavelake","shape 58"),this.add.image(874,658,"cavelake","Symbol 10"),this.add.image(1481,741,"cavelake","Smbolo 36");var e=this.add.image(1041,967.5522133939583,"cavelake","Smbolo 49");e.setOrigin(.5,.9116939359409789),this.add.image(644,347,"cavelake","Smbolo 50"),this.add.image(338,665,"cavelake","Smbolo 11"),this.add.image(653,394,"cavelake","Smbolo 52");var t=this.add.image(1397.7910445589227,1041.492487625536,"cavelake","Symbol 13");t.setOrigin(.5048017280400073,1.2904610064519262),this.add.image(648,140,"cavelake","Smbolo 51");var n=this.add.sprite(652,251,"cavelake","water10001");n.scaleX=2,n.scaleY=2,n.tintFill=!0;var r=this.add.sprite(700.0642890701754,1016.0431725964909,"cavelake","water20001");r.setOrigin(.5287743697169056,8.056240834864935);var i=this.add.sprite(606.725011745614,1033.7681843421049,"cavelake","water20001");i.setOrigin(.6007102940091703,8.337590227652457),i.flipX=!0,this.add.image(1241,170,"cavelake","Symbol 7"),this.add.image(1080,136,"cavelake","Smbolo 54"),this.add.image(300,303,"cavelake","Smbolo 38"),this.add.image(1369,502,"cavelake","Smbolo 39");var a=this.add.image(762.9915433732508,1010.2642734728257,"cavelake","Symbol_149");a.setOrigin(.5039548141077563,1.0418547541297565);var s=this.add.image(545.4028511256201,1005.2767608609074,"cavelake","Symbol 14");s.setOrigin(.5078372227642497,1.2893312732565585);var c=[a,e,t,s,r,i],l=new o.Z(n);l.key="water1",l.end=6;var u=new o.Z(r);u.key="water2",u.end=12;var f=new o.Z(i);f.key="water2",f.end=12,this.sort=c,this.events.emit("scene-awake")}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(r.Z)},2232:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f}),n(2707),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(1816),o=n(5655),i=n(1676);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(d,e);var t,n,r,a,f=(r=d,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(r);if(a){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function d(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(e=f.call(this,"Central")).sort,e.roomTriggers={plaza:function(){return e.triggerRoom(50,128,652)},town:function(){return e.triggerRoom(10,1310,408)}},e}return t=d,(n=[{key:"_preload",value:function(){this.load.pack("central-pack","assets/media/rooms/central/central-pack.json")}},{key:"_create",value:function(){var e=this;this.add.image(811,179,"central","sky"),this.add.image(719,646,"central","sea"),this.add.image(732,266,"central","Smbolo 32"),this.add.image(420,217,"central","Symbol 888"),this.add.image(679,881,"central","waves"),this.add.image(196,647,"central","Smbolo 26"),this.add.image(148,492,"central","Smbolo 25"),this.add.image(495,553,"central","Smbolo 23"),this.add.image(871,440,"central","Smbolo 31"),this.add.image(795,507,"central","Symbol 1 copia"),this.add.image(810,657,"central","Smbolo 22"),this.add.image(767,480,"central","Smbolo 36"),this.add.image(811,623,"central","Smbolo 38"),this.add.image(1518,458,"central","Smbolo 38"),this.add.image(1525,310,"central","Symbol 88"),this.add.image(199,166,"central","Symbol 134"),this.add.image(1015,289,"central","Smbolo 41"),this.add.image(425,766,"central","Smbolo 43"),this.add.image(1002,769,"central","Smbolo 45");var t=this.add.image(503.71957396351394,823.8095337313498,"central","Smbolo 46");t.setOrigin(.4564188103342839,.8591510088114434),this.add.image(1226,672,"central","Sprite 331");var n=this.add.image(127,658,"central","shape 315");n.scaleX=.7,n.scaleY=.7,this.add.image(120,573,"central","Smbolo 50"),this.add.image(15,711,"central","Symbol 140 copia");var r=this.add.image(412,582,"central","Symbol 888"),a=this.add.image(871,613,"central","Sprite 181"),s=this.add.image(1515.515000541477,530.7786707096961,"central","leftsign");s.setOrigin(.5453756490711842,.8388048463981765);var c=this.add.sprite(136,609,"central","fire0001");c.scaleX=.7,c.scaleY=.7;var l=this.add.image(1317.7246649262058,625.5810540548766,"central","Smbolo 47");l.setOrigin(.43234438353652055,.826887714414231);var u=this.add.image(1103,825.8412781094582,"central","Smbolo 522");u.setOrigin(.5,.8600185233254818),this.add.image(133,308,"central","Smbolo 14"),this.add.image(-38,241,"central","rightsign"),this.add.image(1401,818,"central","Smbolo 33");var f=this.add.image(1301.5087589535815,808.6120913739072,"central","Smbolo 8");f.setOrigin(.21535311676959507,.9401741624899851),this.add.image(816,100,"central","Smbolo 3");var d=this.add.image(633.0350563839235,345.7908853401799,"central","middle");d.setOrigin(.4134464067581241,.907486647093364),this.add.image(1298,816,"central","Smbolo 61");var p=this.add.image(183.7229668306538,806.998301904448,"central","Smbolo 60");p.setOrigin(.5769974923074122,.5995634240356017),this.add.image(62,258,"central","Arbol 1");var h=this.add.image(1035.6449742663624,371.12822182090406,"central","back");h.setOrigin(.564596912509729,.8230471564561165);var y=this.add.image(1048.9853115467968,395.64101275534165,"central","flyer");y.setOrigin(.49976274689000516,1.706211365443236),y.flipX=!0;var m=this.add.image(941.8064533032593,484.59533527092384,"central","front");m.setOrigin(.5725806534473497,2.1080223843686166);var b=this.add.image(1030.8509519987576,432.58486429565227,"central","snow");b.scaleX=.8,b.scaleY=.8,b.setOrigin(.5258848467324116,1.7925836390153003),b.flipX=!0,this.add.image(1103,737,"central","Smbolo 21");var v=this.add.image(1169.7584450245981,481.1705985875134,"central","Symbol 88");v.setOrigin(.5283240775273699,.7297691522780999);var g=this.add.image(-8,413,"central","Symbol 158");g.setOrigin(.5091912720913176,.8849929064665125);var w=this.add.image(815.897109770254,609.8265862152423,"central","Symbol 158");w.setOrigin(.503676508836527,.869593190207852);var k=[a,r,p,f,l,v,t,u,h,m,y,b,w,g,d,s],_=new o.Z(c);_.key="fire",_.end=20;var O=new i.Z(y);O.spriteName="flyer",O.callback=function(){return e.world.interface.main.changelog.visible=!0},O.activeFrame=!1,this.sort=k,this.events.emit("scene-awake")}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),d}(r.Z)},8274:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p}),n(2707),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(1816),o=n(1676),i=n(9101),a=n(1023),s=n(8334);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function f(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(h,e);var t,n,r,c,p=(r=h,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(r);if(c){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function h(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(e=p.call(this,"Coffee")).sort,e.roomTriggers={beans:function(){return null},library:function(){return e.triggerRoom(12,1265,489)},smash:function(){return null},town:function(){return e.triggerRoom(10,260,439)}},e}return t=h,(n=[{key:"_preload",value:function(){this.load.pack("coffee-pack","assets/media/rooms/coffee/coffee-pack.json")}},{key:"_create",value:function(){this.add.image(764,494,"coffee","bg"),this.add.image(982,713,"coffee","Symbol 211");var e=this.add.image(1094.9745915396577,726.2647588729293,"coffee","Symbol 213");e.setOrigin(.4075623934384003,.20631125035839443);var t=this.add.image(963,245,"coffee","door2");this.add.image(1098,423,"coffee","Symbol 173");var n=this.add.image(707.3192683878211,376.53808712469214,"coffee","Symbol 147");n.setOrigin(.8107619795313605,.6008967466010908);var r=this.add.image(707.8609583625088,428.40628436843554,"coffee","Symbol 147");r.setOrigin(.7390476765625843,.46367717122360735);var c=this.add.image(714.1560094209514,516.8089552221917,"coffee","Symbol 147");c.setOrigin(.8765000905860708,.5766815274168291),this.add.image(564,360,"coffee","Symbol 200"),this.add.image(573,463,"coffee","Symbol 202");var l=this.add.image(204,440,"coffee","Symbol 1940001");this.add.image(1127,534,"coffee","Symbol 175"),this.add.image(890,866,"coffee","Smbolo 3");var u=this.add.image(735,681,"coffee","Smbolo 5"),f=this.add.image(632.8223714715443,960.3360185885441,"coffee","Smbolo 4");f.setOrigin(.632246088282344,.6918096892842265),this.add.image(412,805,"coffee","Symbol 217"),this.add.image(58,509,"coffee","Symbol 196"),this.add.image(156,742,"coffee","Symbol 198");var d=this.add.image(1337,436,"coffee","door"),p=this.add.image(1480,748,"coffee","Symbol 223"),h=this.add.image(733,1215.1535917971228,"coffee","Sprite 764");h.setOrigin(.5,1.0354965604745079),this.add.image(1474,471,"coffee","Symbol 103");var y=[u,e,h,f,r,n,c],m=new o.Z(t);m.spriteName="door2",m.activeFrame=!1;var b=new i.Z(t);b.x=963,b.y=352,new a.Z(l),new s.Z(l).text="Play Smoothie Smash";var v=new i.Z(l);v.x=204,v.y=440;var g=new o.Z(d);g.spriteName="door",g.activeFrame=!1;var w=new i.Z(d);w.x=1327,w.y=580,new a.Z(p),new s.Z(p).text="Play Bean Counters";var k=new i.Z(p);k.x=1480,k.y=748,this.sort=y,this.events.emit("scene-awake")}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),h}(r.Z)},382:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h}),n(2707),n(7941),n(9070),n(8304),n(489),n(1539),n(2419),n(8011),n(4819),n(5003),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(1816),o=n(390);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=c(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},s.apply(this,arguments)}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function u(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(h,e);var t,n,r,i,c=(r=h,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(r);if(i){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function h(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),p(f(e=c.call(this,"Dance")),"danceFloor",void 0),p(f(e),"door",void 0),p(f(e),"upstairs",void 0),p(f(e),"bg",void 0),p(f(e),"leftRailing",void 0),p(f(e),"floorSpeaker",void 0),p(f(e),"doorRailingLeft",void 0),p(f(e),"doorRailingRight",void 0),p(f(e),"backChair",void 0),p(f(e),"rightChair",void 0),p(f(e),"table",void 0),p(f(e),"leftChair",void 0),p(f(e),"leftChairBack",void 0),p(f(e),"soundStudio",void 0),p(f(e),"sofa",void 0),p(f(e),"rightRailing",void 0),p(f(e),"boilerSpeaker",void 0),p(f(e),"danceContest",void 0),p(f(e),"rightSpeaker",void 0),p(f(e),"corner",void 0),p(f(e),"upstairsRailing",void 0),p(f(e),"neonSign",void 0),p(f(e),"leftSpeaker",void 0),p(f(e),"fg",void 0),p(f(e),"keeper",void 0),p(f(e),"sort",void 0),e.roomTriggers={arcade:function(){return e.triggerRoom(14,1169,600)},boiler:function(){return e.triggerRoom(16,1064,634)},contest:function(){return null},soundstudio:function(){return null},town:function(){return e.triggerRoom(10,713,561)}},e.music="1165",e}return t=h,(n=[{key:"_preload",value:function(){this.load.pack("danceClub-pack-new","assets/media/rooms/dance/danceClub-pack-new.json")}},{key:"_create",value:function(){var e=this,t=this.add.rectangle(164,296,200,500);t.isFilled=!0,t.fillColor=4143686;var n=this.add.sprite(704,660,"danceClub-new","danceFloor0001.png"),r=this.add.sprite(139,270,"danceClub-new","doorAnim.png0001.png"),i=this.add.sprite(1361,327,"danceClub-new","upstairs0001.png"),a=this.add.sprite(751,483,"danceClub-new","bg.png"),s=this.add.sprite(407,320,"danceClub-new","leftRailing.png"),c=this.add.sprite(339,339,"danceClub-new","floorSpeaker0001.png"),l=this.add.sprite(152,561,"danceClub-new","doorRailingLeft.png"),u=this.add.sprite(273,430,"danceClub-new","doorRailingRight.png"),f=this.add.sprite(1445,683,"danceClub-new","backChair.png"),d=this.add.sprite(1541,799,"danceClub-new","rightChair.png"),p=this.add.sprite(1423,778,"danceClub-new","table.png"),h=this.add.sprite(1340,880,"danceClub-new","leftChair.png"),y=this.add.sprite(1301,886,"danceClub-new","leftChairBack.png"),m=this.add.sprite(692,392,"danceClub-new","soundStudio0001.png"),b=this.add.sprite(149.36760765951857,627.7627502053078,"danceClub-new","sofa.png");b.setOrigin(.6049295941144784,.15003229044350086);var v=this.add.sprite(962,324,"danceClub-new","rightRailing.png"),g=this.add.sprite(1033,314,"danceClub-new","boilerSpeakerClosed0001.png"),w=this.add.sprite(1149,319,"danceClub-new","danceContest0001.png"),k=this.add.sprite(1081,55,"danceClub-new","rightSpeaker0001.png"),_=this.add.sprite(1301,240,"danceClub-new","corner.png"),O=this.add.sprite(1176,500,"danceClub-new","upstairsRailing.png"),S=this.add.sprite(1135,109,"danceClub-new","neonSign0001.png"),x=this.add.sprite(290,73,"danceClub-new","leftSpeaker0001.png"),j=this.add.sprite(734,1007.5,"danceClub-new","fg.png");j.setOrigin(.5,1);var P=this.add.sprite(1039,218,"danceClub-new","keeperAnim0001.png"),R=this.add.rectangle(1030,306,128,200);R.fillColor=55770,R.fillAlpha=.5;var C=[j,l,c,u,R,s,h,y,p,d,f,O,b],T=new o.rF(r);T.hoverCallback=function(){return e.onDoorOver()},T.hoverOutCallback=function(){return e.onDoorOut()};var E=new o.$X(r);E.x=200,E.y=500;var B=new o.rF(i);B.hoverCallback=function(){return e.onStairsOver()},B.hoverOutCallback=function(){return e.onStairsOut()};var A=new o.$X(i);A.x=1400,A.y=500;var F=new o.rF(m);F.hoverCallback=function(){return e.onSoundStudioOver()},F.hoverOutCallback=function(){return e.onSoundStudioOut()};var I=new o.$X(m);I.x=700,I.y=350;var z=new o.rF(w);z.hoverCallback=function(){return e.onContestOver()},z.hoverOutCallback=function(){return e.onContestOut()};var M=new o.$X(w);M.x=1100,M.y=480,new o.tk(w).text="Dance Contest";var D=new o.rF(R);D.hoverCallback=function(){return e.onSpeakerOver()},D.hoverOutCallback=function(){return e.onSpeakerOut()};var L=new o.$X(R);L.x=1e3,L.y=360,this.danceFloor=n,this.door=r,this.upstairs=i,this.bg=a,this.leftRailing=s,this.floorSpeaker=c,this.doorRailingLeft=l,this.doorRailingRight=u,this.backChair=f,this.rightChair=d,this.table=p,this.leftChair=h,this.leftChairBack=y,this.soundStudio=m,this.sofa=b,this.rightRailing=v,this.boilerSpeaker=g,this.danceContest=w,this.rightSpeaker=k,this.corner=_,this.upstairsRailing=O,this.neonSign=S,this.leftSpeaker=x,this.fg=j,this.keeper=P,this.sort=C,this.events.emit("scene-awake")}},{key:"create",value:function(){s(d(h.prototype),"create",this).call(this),this.keeper.play("keeperAnim"),this.leftSpeaker.play("leftSpeaker"),this.rightSpeaker.play("rightSpeaker"),this.boilerSpeaker.play("boilerSpeakerClosed"),this.danceFloor.play("danceFloor"),this.floorSpeaker.play("floorSpeaker"),this.neonSign.play("neonSign"),this.penguins&&(Object.keys(this.penguins).length>=10&&this.world.client.stampEarned(16),Object.keys(this.penguins).length>=25&&this.world.client.stampEarned(22))}},{key:"onSoundStudioOver",value:function(){this.soundStudio.setFrame("soundStudio0002.png")}},{key:"onSoundStudioOut",value:function(){this.soundStudio.setFrame("soundStudio0001.png")}},{key:"onDoorOver",value:function(){this.door.play("doorAnim"),this.sound.add("danceClub-Door").play()}},{key:"onDoorOut",value:function(){this.door.stop("doorAnim"),this.door.setFrame("doorAnim.png0001.png")}},{key:"onSpeakerOver",value:function(){this.boilerSpeaker.setX(1e3),this.boilerSpeaker.setY(320),this.boilerSpeaker.stop("boilerSpeakerClosed"),this.boilerSpeaker.setFrame("boilerSpeakerOpen.png"),this.sound.add("danceClub-SpeakerOpen").play()}},{key:"onSpeakerOut",value:function(){this.boilerSpeaker.setX(1033),this.boilerSpeaker.setY(314),this.boilerSpeaker.play("boilerSpeakerClosed"),this.sound.add("danceClub-SpeakerClose").play()}},{key:"onContestOver",value:function(){this.danceContest.setFrame("danceContest0002.png")}},{key:"onContestOut",value:function(){this.danceContest.setFrame("danceContest0001.png")}},{key:"onStairsOver",value:function(){this.upstairs.setFrame("upstairs0002.png"),this.sound.add("danceClub-LightOn").play()}},{key:"onStairsOut",value:function(){this.upstairs.setFrame("upstairs0001.png"),this.sound.add("danceClub-LightOff").play()}},{key:"addPenguin",value:function(e,t){s(d(h.prototype),"addPenguin",this).call(this,e,t),Object.keys(this.penguins).length>=10&&this.world.client.stampEarned(16),Object.keys(this.penguins).length>=25&&this.world.client.stampEarned(22)}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),h}(r.Z)},8126:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u}),n(2707),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(1816),o=n(5655);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(f,e);var t,n,r,i,u=(r=f,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(r);if(i){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function f(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(e=u.call(this,"Forest")).sort,e.roomTriggers={mine:function(){return e.triggerRoom(70,989,766)},lake:function(){return e.triggerRoom(60,1365,535)}},e}return t=f,(n=[{key:"_preload",value:function(){this.load.pack("forest-pack","assets/media/rooms/forest/forest-pack.json")}},{key:"_create",value:function(){this.add.image(726,167,"forest","Symbol 126"),this.add.image(767,448,"forest","fondo");var e=this.add.sprite(917,54,"forest","water0001"),t=this.add.sprite(918,123,"forest","water0001");this.add.image(549,253,"forest","Symbol 185"),this.add.image(758,393,"forest","Sprite 148"),this.add.image(1307,244,"forest","Symbol 195"),this.add.image(1110,341,"forest","shape 202");var n=this.add.image(1184.4957158806087,417.82619313434776,"forest","sprite 345");n.setOrigin(.7125974072745124,.9756936737572747),this.add.image(451,710,"forest","Symbol 222");var r=this.add.image(248.4565167395822,680.5871689076805,"forest","Sprite 204");r.setOrigin(.5964627515794247,.49339804791086717);var i=this.add.image(146.68820698358644,792.2547096773266,"forest","Sprite 211");i.setOrigin(.27889374268883843,.8142781055322537),this.add.image(327,825,"forest","Symbol 359"),this.add.image(630,765,"forest","Symbol 224"),this.add.image(497,778,"forest","Symbol 220");var a=this.add.sprite(553,958,"forest","fire0001");a.scaleX=.9,a.scaleY=.9;var s=this.add.image(497,796,"forest","Symbol 353");s.scaleX=.9,s.scaleY=.9;var c=this.add.image(498,806,"forest","Symbol 357");this.add.image(550,837,"forest","Sprite 195"),this.add.image(406,898,"forest","Symbol 361"),this.add.image(280,869,"forest","Symbol 365"),this.add.image(940,597,"forest","Sprite 401");var l=this.add.image(808.7732036329768,1021.2665932153564,"forest","Symbol 385");l.setOrigin(.5088747109169189,.9696676794335662);var u=[l,n,r,i,a,c,s],f=new o.Z(e);f.key="water",f.end=6;var d=new o.Z(t);d.key="water",d.end=6;var p=new o.Z(a);p.key="fire",p.end=20,this.sort=u,this.events.emit("scene-awake")}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(r.Z)},8435:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}n.d(t,{Z:()=>c}),n(2707),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(u,e);var t,n,r,c,l=(r=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(c){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(e=l.call(this,"Hiddenlake")).sort,e.roomTriggers={cave:function(){return e.triggerRoom(91,352,490)}},e}return t=u,(n=[{key:"_preload",value:function(){this.load.pack("hidden-pack","assets/media/rooms/hidden/hidden-pack.json")}},{key:"_create",value:function(){this.add.image(1267,156,"hidden","Symbol 146"),this.add.image(796,675,"hidden","Smbolo 6"),this.add.image(707,524,"hidden","Smbolo 5"),this.add.image(503,569,"hidden","Symbol 152"),this.add.image(764,466,"hidden","Smbolo 9");var e=this.add.image(481.3202406202664,335.2467563793846,"hidden","Smbolo 11");e.setOrigin(.4872077491447442,.8881168909484615),this.add.image(827,172,"hidden","Symbol 149"),this.add.image(132,421,"hidden","Symbol 302"),this.add.image(1239,174,"hidden","Smbolo 10"),this.add.image(1389,245,"hidden","Smbolo 13");var t=this.add.image(1045.3566306011778,489.5631877450035,"hidden","Smbolo 14");t.setOrigin(.4300591181100485,.772755475303644),this.add.image(1419,365,"hidden","Smbolo 19");var n=this.add.image(1383,578,"hidden","Smbolo 21"),r=this.add.image(509.9486596249359,503.1879915718458,"hidden","Smbolo 15");r.setOrigin(.450188637992188,.7984383619432908);var o=this.add.image(1065,556,"hidden","Symbol 282"),i=this.add.image(1028,605,"hidden","Symbol 286"),a=this.add.image(1171,636,"hidden","Symbol 290");this.add.image(482,844,"hidden","Symbol 228"),this.add.image(64,690,"hidden","Symbol 296"),this.add.image(125,570,"hidden","Smbolo 16"),this.add.image(160,635,"hidden","Smbolo 18");var s=this.add.image(239.97434015903684,661.733714529326,"hidden","Smbolo 17");s.setOrigin(.5649969042128337,.7036685332448536);var c=this.add.image(643.385644881488,571.9640820620295,"hidden","Smbolo 20");c.setOrigin(.4855425795259521,.4442229148377784);var l=[t,e,r,s,c,n,a,o,i];this.sort=l,this.events.emit("scene-awake")}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(n(1816).Z)},5443:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p}),n(2707),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(1816),o=n(5655),i=n(1023),a=n(8334),s=n(1676);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function f(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(h,e);var t,n,r,c,p=(r=h,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(r);if(c){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function h(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(e=p.call(this,"Lake")).sort,e.roomTriggers={park:function(){return e.triggerRoom(60,1201,766)},hidden:function(){return e.triggerRoom(92,1201,766)}},e}return t=h,(n=[{key:"_preload",value:function(){this.load.pack("lake-pack","assets/media/rooms/lake/lake-pack.json")}},{key:"_create",value:function(){var e=this;this.add.image(849,639,"lake","Smbolo 2");var t=this.add.image(891,995,"lake","Smbolo 3");t.setOrigin(.5033443208200835,1.0183697271129328);var n=this.add.sprite(1351.4317262615164,1109.5079281041458,"lake","buoy0001");n.setOrigin(.5219982452661305,3.318918000531356),this.add.image(712.1129150390625,1191.8485107421875,"lake","Symbol 1").setOrigin(.5330979263826029,1.3272006818819861),this.add.image(488,100,"lake","Symbol 32"),this.add.image(415,797,"lake","Symbol 8"),this.add.image(175,126,"lake","Symbol 25"),this.add.image(1071,173,"lake","Symbol 3"),this.add.image(661,268,"lake","Symbol 11"),this.add.image(100,424,"lake","Symbol 22"),this.add.image(91,372,"lake","Symbol 192"),this.add.image(24,395,"lake","Symbol 192");var r=this.add.sprite(99,368,"lake","speakers0001");this.add.image(802,407,"lake","Smbolo 11");var c=this.add.sprite(34,385,"lake","speakers0001");this.add.image(749,265,"lake","Smbolo 12");var l=this.add.sprite(79,400,"lake","lights0001");this.add.image(734,348,"lake","Symbol 16"),this.add.image(527,126,"lake","pole0002"),this.add.image(1244,26,"lake","Smbolo 7");var u=this.add.image(912,134,"lake","shape 315");u.scaleX=.8,u.scaleY=.8;var f=this.add.sprite(916,72,"lake","fire0001");f.scaleX=.8,f.scaleY=.8;var d=this.add.sprite(422.3674793521371,849.142231878498,"lake","boat0001");d.setOrigin(.5290915055829669,.4669841918417959),d.flipX=!0,this.add.image(1218,141,"lake","Smbolo 8"),this.add.image(1277,114,"lake","Symbol 411"),this.add.image(1204,118,"lake","Symbol 425"),this.add.image(1127,170,"lake","Symbol 411"),this.add.image(727,55,"lake","Smbolo 9");var p=this.add.image(1417.0815259450555,1050.5160173510058,"lake","lakecatalog");p.setOrigin(.47665220756044435,2.0001502151583113);var h=[t,n,d,p],y=new o.Z(n);y.key="buoy",y.end=50;var m=new o.Z(r);m.key="speakers",m.end=10;var b=new o.Z(c);b.key="speakers",b.end=10;var v=new o.Z(l);v.key="lights",v.end=46;var g=new o.Z(f);g.key="fire",g.end=20;var w=new o.Z(d);w.key="boat",w.end=80,new i.Z(d),new a.Z(d).text="Play Hydro Hopper";var k=new s.Z(p);k.spriteName="lakecatalog",k.callback=function(){return e.interface.loadExternal("Hydro")},k.activeFrame=!1,this.sort=h,this.events.emit("scene-awake")}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),h}(r.Z)},4778:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d}),n(2707),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(1816),o=n(1676),i=n(9101),a=n(5655);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function u(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(p,e);var t,n,r,s,d=(r=p,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(r);if(s){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function p(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(e=d.call(this,"Lighthouse")).sort,e.roomTriggers={beacon:function(){return e.triggerRoom(32,298,743)},port:function(){return e.triggerRoom(30,273,487)}},e}return t=p,(n=[{key:"_preload",value:function(){this.load.pack("lighthouse-pack","assets/media/rooms/lighthouse/lighthouse-pack.json")}},{key:"_create",value:function(){var e=this;this.add.image(773,627,"lighthouse","Symbol 61"),this.add.image(760,337,"lighthouse","Symbol 375"),this.add.image(749,359,"lighthouse","Smbolo 12"),this.add.image(-7,474,"lighthouse","Smbolo 1"),this.add.image(729,688,"lighthouse","Symbol 379");var t=this.add.image(451,403,"lighthouse","door"),n=this.add.image(442,400,"lighthouse","Smbolo 7");n.scaleX=1.1,n.scaleY=1.05,this.add.image(294,396,"lighthouse","Symbol1"),this.add.image(587,481,"lighthouse","Symbol 200 copy"),this.add.image(296,471,"lighthouse","Symbol 3340002"),this.add.image(316,458,"lighthouse","Symbol 513"),this.add.image(129,228,"lighthouse","Smbolo 6"),this.add.image(100,421,"lighthouse","Smbolo 5");var r=this.add.sprite(101,346,"lighthouse","speakers0001");this.add.image(472,521,"lighthouse","Symbol 56"),this.add.image(754,659,"lighthouse","Symbol 57"),this.add.image(930,810,"lighthouse","Symbol 98 copy 2"),this.add.image(-25,683,"lighthouse","Symbol 180"),this.add.image(582,358,"lighthouse","Symbol 19 copy 2"),this.add.image(859,453,"lighthouse","Smbolo 11");var s=this.add.image(750,459,"lighthouse","instru");this.add.image(664,472,"lighthouse","Symbol 71"),this.add.image(1036,413,"lighthouse","Smbolo 2"),this.add.image(960,443,"lighthouse","Smbolo 9"),this.add.image(1057,543,"lighthouse","Smbolo 8"),this.add.image(626,235,"lighthouse","Symbol 383"),this.add.image(1262,443,"lighthouse","Symbol 410"),this.add.image(1335,408,"lighthouse","Symbol 412");var c=this.add.image(108.67215993268778,313.7193114407036,"lighthouse","Symbol 385");c.setOrigin(.6105746609059512,.9466827880784711),this.add.image(875,754,"lighthouse","Smbolo 15"),this.add.image(658,444,"lighthouse","Symbol 513");var l=this.add.image(1124.2437024692558,480.67223148058173,"lighthouse","Symbol 517");l.setOrigin(.45240187488528294,.8404705746639919);var u=this.add.image(1284.1419829851095,657.1714926350478,"lighthouse","Symbol 519");u.setOrigin(.5490934058212318,.9309621995834507);var f=this.add.image(523.403338888349,335.10749765274943,"lighthouse","Symbol 523");f.setOrigin(.5517147197192334,.9629016555477824),this.add.image(288,120,"lighthouse","Symbol 4730001"),this.add.image(404,55,"lighthouse","Symbol 62"),this.add.image(565,66,"lighthouse","Symbol 17 copy"),this.add.image(744,59,"lighthouse","Symbol 6 copy 11"),this.add.image(949,86,"lighthouse","Smbolo 13"),this.add.image(1119,98,"lighthouse","Symbol 41 copy"),this.add.image(1395,214,"lighthouse","Smbolo 14"),this.add.image(1256,67,"lighthouse","Symbol 42"),this.add.image(933,619,"lighthouse","Symbol 116");var d=this.add.image(795,603,"lighthouse","Symbol 104");d.flipX=!0,this.add.image(1083,731,"lighthouse","Symbol 94");var p=this.add.image(988,781,"lighthouse","Symbol 112");p.flipX=!0,this.add.image(671,618,"lighthouse","Symbol 114"),this.add.image(885,833,"lighthouse","Smbolo 17");var h=this.add.image(314.7688745103184,633.4150996082548,"lighthouse","Smbolo 16");h.setOrigin(.22464251280457595,.3540721502458007);var y=this.add.image(469,830,"lighthouse","Symbol 6 copy 10"),m=this.add.image(150,513,"lighthouse","Symbol 202 copy"),b=this.add.image(70,906,"lighthouse","Symbol 291 copy"),v=this.add.image(1288,895,"lighthouse","Symbol 68"),g=this.add.image(1439.127201793221,950.395785560532,"lighthouse","catalog");g.setOrigin(.4614078741216535,.739716474205887),g.visible=!1;var w=[d,p,u,l,f,c,m,h,y,v,b,g],k=new o.Z(t);k.spriteName="door",k.activeFrame=!1;var _=new i.Z(t);_.x=451,_.y=403;var O=new a.Z(r);O.key="speakers",O.end=10;var S=new o.Z(s);S.spriteName="instru",S.callback=function(){return e.interface.loadExternal("Music")},new o.Z(g).spriteName="catalog",this.sort=w,this.events.emit("scene-awake")}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),p}(r.Z)},6171:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d}),n(2481),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(1816),o=n(5655),i=n(1023),a=n(9101);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function u(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(p,e);var t,n,r,s,d=(r=p,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(r);if(s){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function p(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(e=d.call(this,"Mine")).roomTriggers={mineint:function(){return e.triggerRoom(71,718,226)},park:function(){return e.triggerRoom(80,380,577)}},e}return t=p,(n=[{key:"_preload",value:function(){this.load.pack("mine-pack","assets/media/rooms/mine/mine-pack.json")}},{key:"_create",value:function(){this.add.image(783,476,"mine","bg"),this.add.image(782,208,"mine","trees"),this.add.image(923,444,"mine","snow"),this.add.image(365,194,"mine","trees3"),this.add.image(1416,259,"mine","trees2"),this.add.image(1487,528,"mine","Smbolo 10"),this.add.image(927,836,"mine","Smbolo 33"),this.add.image(611,362,"mine","Symbol 3"),this.add.image(322,456,"mine","Smbolo 26");var e=this.add.sprite(252,570,"mine","kart0001");this.add.image(81,511,"mine","Smbolo 35"),this.add.image(472,453,"mine","Smbolo 31"),this.add.image(192,530,"mine","Smbolo 36"),this.add.image(473,373,"mine","Shape 45"),this.add.image(188,574,"mine","Smbolo 39"),this.add.image(297,404,"mine","Smbolo 40"),this.add.image(197,301,"mine","Smbolo 41"),this.add.image(189,208,"mine","Smbolo 42"),this.add.image(133,696,"mine","Smbolo 44"),this.add.image(127,655,"mine","Shape 17"),this.add.image(510,554,"mine","Smbolo 32"),this.add.image(771,669,"mine","leaves"),this.add.image(490,726,"mine","Smbolo 37"),this.add.image(865,363,"mine","Symbol 8"),this.add.image(734,320,"mine","Sprite 280 copia");var t=new o.Z(e);t.key="kart",t.repeat=0,t.autoPlay=!1,t.onHover=!0,t.stopOnOut=!1,new i.Z(e);var n=new a.Z(e);n.x=252,n.y=570,this.events.emit("scene-awake")}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),p}(r.Z)},6875:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(1816),o=n(1676),i=n(9101);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(d,e);var t,n,r,a,f=(r=d,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(r);if(a){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function d(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(e=f.call(this,"Minecave")).roomTriggers={hidden:function(){return e.triggerRoom(91,204,514)},mineint:function(){return e.triggerRoom(71,385,809)},hats:function(){return e.interface.prompt.showItem(429)}},e}return t=d,(n=[{key:"_preload",value:function(){this.load.pack("cavemine-pack","assets/media/rooms/minecave/cavemine-pack.json")}},{key:"_create",value:function(){this.add.image(887,484,"cavemine","background"),this.add.image(211,229,"cavemine","Smbolo 1"),this.add.image(715,85,"cavemine","Symbol 538"),this.add.image(575,285,"cavemine","Symbol 287"),this.add.image(594,361,"cavemine","Symbol 158"),this.add.image(722,336,"cavemine","Symbol 600001");var e=this.add.image(920,384,"cavemine","door2"),t=this.add.image(722,441,"cavemine","hat");this.add.image(1146,533,"cavemine","Symbol 135"),this.add.image(1413,571,"cavemine","Smbolo 2"),this.add.image(1437,679,"cavemine","Symbol 54"),this.add.image(394,813,"cavemine","Symbol 521"),this.add.image(269,762,"cavemine","Symbol 519"),this.add.image(220,847,"cavemine","Symbol 523"),this.add.image(417,459,"cavemine","Symbol 2"),this.add.image(235,424,"cavemine","Symbol 1"),this.add.image(271,475,"cavemine","Symbol 507");var n=this.add.image(126,523,"cavemine","door1");this.add.image(47,352,"cavemine","Symbol 517"),this.add.image(758,484,"cavemine","Symbol 591");var r=new o.Z(e);r.spriteName="door2",r.activeFrame=!1;var a=new i.Z(e);a.x=941,a.y=443,new o.Z(t).spriteName="hat";var s=new i.Z(t);s.x=675,s.y=475;var c=new o.Z(n);c.spriteName="door1",c.activeFrame=!1;var l=new i.Z(n);l.x=154,l.y=643,this.events.emit("scene-awake")}},{key:"showDoor1",value:function(){this.door1light.visible=!0}},{key:"hideDoor1",value:function(){this.door1light.visible=!1}},{key:"showDoor2",value:function(){this.door2light.visible=!0}},{key:"hideDoor2",value:function(){this.door2light.visible=!1}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),d}(r.Z)},1442:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d}),n(2707),n(2481),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(1816),o=n(5655),i=n(8334),a=n(1023);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function u(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(p,e);var t,n,r,s,d=(r=p,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(r);if(s){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function p(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(e=d.call(this,"Mineint")).sort,e.roomTriggers={cave:function(){return null},mine:function(){return e.triggerRoom(70,527,712)},rescue:function(){return null},surfer:function(){return null}},e}return t=p,(n=[{key:"_preload",value:function(){this.load.pack("mineint-pack","assets/media/rooms/mineint/mineint-pack.json")}},{key:"_create",value:function(){this.add.image(882,479.55536663014095,"mineint","bg").setOrigin(.5,.5040928720845831),this.add.image(579,501,"mineint","Smbolo 35");var e=this.add.sprite(253,-28,"mineint","rescue0001"),t=this.add.image(250,88,"mineint","button");this.add.image(1193,810,"mineint","Smbolo 33");var n=this.add.image(1856,104,"mineint","Symbol 5");n.setOrigin(.4697865511452747,1.0079669159463451),this.add.image(254,414,"mineint","Smbolo 3"),this.add.image(167,542,"mineint","Shape 17");var r=this.add.image(1269,743,"mineint","sprite 28");this.add.image(1071,397,"mineint","Smbolo 2"),this.add.image(1248,658,"mineint","arc2"),this.add.image(1234,574,"mineint","Smbolo 34");var s=this.add.image(1019.5048632647514,209.5038160994535,"mineint","arc1");s.setOrigin(.7308967585648217,.7514312959175136),this.add.image(1166,207,"mineint","Smbolo 40"),this.add.image(563,156,"mineint","Smbolo 39");var c=this.add.image(866,559,"mineint","Smbolo 9");c.scaleX=.7,c.scaleY=.7;var l=this.add.image(867,537,"mineint","Smbolo 5");l.scaleX=.7,l.scaleY=.7;var u=this.add.sprite(868,528,"mineint","fire0001");u.scaleX=.7,u.scaleY=.7;var f=this.add.image(867,525,"mineint","Smbolo 10");f.scaleX=.7,f.scaleY=.7;var d=this.add.rectangle(727.9623373893077,1010.8184131293913,128,128);d.scaleX=12.859520868770415,d.scaleY=8.154825378452756,d.setOrigin(.48357390339744705,1.0037454815105946),d.alpha=.3,d.isFilled=!0,d.fillColor=1710618;var p=this.add.image(182,552,"mineint","flash2"),h=this.add.image(870.3544964590334,1285.677502093566,"mineint","flash");h.setOrigin(.4818801127331054,4.956413702937893),this.add.image(870.3544964590334,1285.677502093566,"mineint","flash").setOrigin(.4818801127331054,4.956413702937893),this.add.image(870.3544964590334,1285.677502093566,"mineint","flash").setOrigin(.4818801127331054,4.956413702937893);var y=this.add.image(178,550,"mineint","flash");y.scaleX=.3,y.scaleY=.3;var m=[n,d,h,p,s],b=new o.Z(e);b.key="rescue",b.start=10,b.end=11,b.repeat=0,b.autoPlay=!1,b.onHover=!0,new i.Z(t).text="Play Puffle Rescue",new a.Z(t),new i.Z(r).text="Play Cart Surfer",new a.Z(r);var v=new o.Z(u);v.key="fire",v.end=11,this.sort=m,this.events.emit("scene-awake")}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),p}(r.Z)},7056:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u}),n(2707),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(1816),o=n(5655);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(f,e);var t,n,r,i,u=(r=f,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(r);if(i){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function f(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(e=u.call(this,"Park")).sort,e.roomTriggers={forest:function(){return e.triggerRoom(80,1115,765)},lake:function(){return e.triggerRoom(90,390,299)},plaza:function(){return e.triggerRoom(50,819,700)}},e}return t=f,(n=[{key:"_preload",value:function(){this.load.pack("park-pack","assets/media/rooms/park/park-pack.json")}},{key:"_create",value:function(){this.add.image(742,112,"park","sky"),this.add.image(809,210,"park","Symbol 150").flipX=!0,this.add.image(706,193,"park","Symbol 150"),this.add.image(570,631,"park","Symbol 79"),this.add.image(168,257,"park","Smbolo 8");var e=this.add.image(641,379,"park","Smbolo 5");e.scaleX=.8,e.scaleY=.8,e.flipX=!0,this.add.image(653,261,"park","Symbol 150").flipX=!0,this.add.image(1229,577,"park","Symbol 81"),this.add.image(675,693,"park","Smbolo 330001");var t=this.add.sprite(1177,487,"park","water10001");t.scaleX=.9580913382652938,t.scaleY=.8842137984537657,t.angle=-36,t.flipX=!0,t.flipY=!0,t.alpha=.8,t.alphaTopLeft=.8,t.alphaTopRight=.8,t.alphaBottomLeft=.8,t.alphaBottomRight=.8,t.tintFill=!0,this.add.image(856,417,"park","Symbol 191"),this.add.image(503,492,"park","Smbolo 2");var n=this.add.image(1239,191,"park","Smbolo 5");n.scaleX=.8,n.scaleY=.8;var r=this.add.image(942,237,"park","Smbolo 5");r.scaleX=.6,r.scaleY=.6,r.flipX=!0,this.add.image(1066,548,"park","Smbolo 3"),this.add.image(511,637,"park","Smbolo 11"),this.add.image(1006,449,"park","Symbol 148");var i=this.add.image(777.5786284000865,455.2167933176267,"park","Symbol 171");i.setOrigin(.43311045164578854,.5213635509196793);var a=this.add.image(789.389909695933,523.2481574416453,"park","Symbol 1762");a.setOrigin(.498478516299564,.8701646305241629);var s=this.add.image(491.3646753660954,583.4955824274214,"park","Symbol 190");s.setOrigin(.4917852410584481,.8948840619378414),this.add.image(593,714,"park","Symbol 173 copia"),this.add.image(771,704,"park","Smbolo 12"),this.add.image(746,793,"park","Symbol 176");var c=this.add.image(477,837,"park","Symbol 178"),l=this.add.image(932,867,"park","Symbol 172"),u=this.add.image(740,816.9501296940946,"park","Smbolo 12");u.setOrigin(.5,.7631882383966437),this.add.image(1226,913,"park","stairs");var f=this.add.image(1426.892172865238,721.0191597733333,"park","sprite 318");f.setOrigin(.48665268512335036,.8231162476388884),this.add.image(1505,779,"park","stairs2");var d=this.add.image(5,931,"park","entry0001");d.setOrigin(.5,.5716117530726303),d.flipX=!0;var p=this.add.image(1091,220,"park","Smbolo 5");p.scaleX=.8,p.scaleY=.8;var h=this.add.image(1177,228,"park","Smbolo 5");h.scaleX=.8,h.scaleY=.8,h.flipX=!0,this.add.image(1120,213,"park","sprite 206");var y=this.add.image(1352,164,"park","Smbolo 5");y.scaleX=.8,y.scaleY=.8;var m=this.add.image(1289,193,"park","sprite 206");m.scaleX=.6,m.scaleY=.6,this.add.image(1392,190,"park","sprite 206");var b=this.add.image(1519,259,"park","Smbolo 5");b.scaleX=.8,b.scaleY=.8;var v=this.add.image(1459,266,"park","Smbolo 5");v.scaleX=.8,v.scaleY=.8,this.add.image(1516,223,"park","Symbol 109"),this.add.image(1411,373,"park","sprite 240"),this.add.image(1,137,"park","sprite 178"),this.add.image(95,221,"park","sprite 278"),this.add.image(48,446,"park","sprite 189"),this.add.image(58,425,"park","sprite 276"),this.add.image(162,498,"park","sprite 230"),this.add.image(60,525,"park","sprite 331"),this.add.image(181,526,"park","sprite 228"),this.add.image(43,558,"park","sprite 329"),this.add.image(-42,341,"park","sprite 364");var g=this.add.sprite(1185,505,"park","water20001");g.scaleX=.8524246542788476,g.scaleY=.9387169648844497,g.angle=3,g.flipX=!0,g.tintFill=!0,this.add.image(253,325,"park","Symbol 153"),this.add.image(1277,214,"park","Symbol 245"),this.add.image(634,187,"park","Symbol 248"),this.add.image(22,215,"park","Symbol 245");var w=[u,s,d,f,c,l,i,a],k=new o.Z(t);k.key="water1",k.end=7;var _=new o.Z(g);_.key="water2",_.end=16,this.sort=w,this.events.emit("scene-awake")}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(r.Z)},1691:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h}),n(2707),n(9070),n(8304),n(489),n(1539),n(2419),n(8011),n(4819),n(5003),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(1816),o=n(390);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=c(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},s.apply(this,arguments)}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function u(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(h,e);var t,n,r,i,c=(r=h,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(r);if(i){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function h(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),p(f(e=c.call(this,"Pet")),"bg",void 0),p(f(e),"pufflescapebg",void 0),p(f(e),"pufflescape",void 0),p(f(e),"pufflescapefg",void 0),p(f(e),"cannon_layer1",void 0),p(f(e),"cannon_layer2",void 0),p(f(e),"cannonlayer3",void 0),p(f(e),"cannonlayer4",void 0),p(f(e),"cannon_layer5",void 0),p(f(e),"main",void 0),p(f(e),"plazadoor",void 0),p(f(e),"oberry_pad",void 0),p(f(e),"pufflearea",void 0),p(f(e),"purple_body",void 0),p(f(e),"purple_eyes",void 0),p(f(e),"purple_jump",void 0),p(f(e),"oberry_fall",void 0),p(f(e),"sometubes",void 0),p(f(e),"oberry_machine",void 0),p(f(e),"white_lookaround",void 0),p(f(e),"oberry_shoot",void 0),p(f(e),"green_body",void 0),p(f(e),"green_eyes",void 0),p(f(e),"green_jump",void 0),p(f(e),"brown_body",void 0),p(f(e),"brown_eyes",void 0),p(f(e),"brown_jump",void 0),p(f(e),"yellow_body",void 0),p(f(e),"yellow_eyes",void 0),p(f(e),"yellow_jump",void 0),p(f(e),"border_idle",void 0),p(f(e),"border_jump",void 0),p(f(e),"tabby_idle",void 0),p(f(e),"tabby_jump",void 0),p(f(e),"red_body",void 0),p(f(e),"red_eyes",void 0),p(f(e),"red_jump",void 0),p(f(e),"blue_body",void 0),p(f(e),"blue_eyes",void 0),p(f(e),"blue_jump",void 0),p(f(e),"pufflearea_front",void 0),p(f(e),"light",void 0),p(f(e),"pufflearea_floor",void 0),p(f(e),"orange_idle",void 0),p(f(e),"orange_jump",void 0),p(f(e),"pink_body",void 0),p(f(e),"pink_eyes",void 0),p(f(e),"pink_jump",void 0),p(f(e),"black_idle",void 0),p(f(e),"apollo_idle",void 0),p(f(e),"rug",void 0),p(f(e),"rug_puffle_blue",void 0),p(f(e),"surfboard",void 0),p(f(e),"highbedback",void 0),p(f(e),"carealtar",void 0),p(f(e),"dualfood",void 0),p(f(e),"skateboard",void 0),p(f(e),"stackedbowls",void 0),p(f(e),"yellowbowl",void 0),p(f(e),"bed",void 0),p(f(e),"sort",void 0),e.roomTriggers={adopt:function(){return e.world.RuffleManager.handleLoadOtherSwf("petShopAdopt.swf")},cannon:function(){return e.triggerGame("PuffleLaunch",925)},park:function(){return e.triggerGame("PuffleRoundup",925)},plaza:function(){return e.triggerRoom(50,819,700)},pufflescape:function(){return e.unimplementedPrompt()}},e.music="659",e}return t=h,(n=[{key:"_preload",value:function(){this.load.pack("pet-pack","assets/media/rooms/pet/pet-pack.json")}},{key:"_create",value:function(){var e=this,t=this.add.sprite(938,325,"pet-new","bg"),n=this.add.sprite(1001,200,"pet-new","pufflescapebg"),r=this.add.image(1475,360,"pet-addos","parkdoor"),i=this.add.sprite(1013,234,"pet-new","pufflescape0001"),a=this.add.image(775,212,"pet-addos","petdoor");this.add.image(784,497,"pet-addos","sprite 406");var s=this.add.sprite(1020,136,"pet-new","pufflescapefg"),c=this.add.sprite(1215,236,"pet-new","cannon_layer1"),l=this.add.sprite(1208,182,"pet-new","cannon_layer20001"),u=this.add.sprite(1231,302,"pet-new","cannonlayer3");u.scaleX=1.02;var f=this.add.sprite(1259,249,"pet-new","cannonlayer40001"),d=this.add.sprite(1230,211,"pet-new","cannon_layer5"),p=this.add.sprite(784,497,"pet-new","main");p.visible=!1;var h=this.add.sprite(776,211,"pet-new","plazadoor");h.visible=!1,this.add.image(780,497,"pet-addos","Smbolo 1.png");var y=this.add.sprite(610,442,"pet-new","oberry_pad"),m=this.add.sprite(318,360,"pet-new","pufflearea"),b=this.add.sprite(291,293,"pet-new","purple_body"),v=this.add.sprite(292,294,"pet-new","purple_eyes0001"),g=this.add.sprite(291,268,"pet-new","purple_jump0001");g.visible=!1;var w=this.add.sprite(583,181,"pet-new","oberry_fall0001"),k=this.add.sprite(855,217,"pet-new","sometubes"),_=this.add.sprite(567,394,"pet-new","oberry_machine"),O=this.add.sprite(387,296,"pet-new","white_lookaround0001"),S=this.add.sprite(507,312,"pet-new","oberry_shoot"),x=this.add.sprite(239,361,"pet-new","green_body"),j=this.add.sprite(241,362,"pet-new","green_eyes0001"),P=this.add.sprite(240,336,"pet-new","green_jump0001");P.visible=!1;var R=this.add.sprite(295,354,"pet-new","brown_body"),C=this.add.sprite(301,356,"pet-new","brown_eyes0001"),T=this.add.sprite(300,329,"pet-new","brown_jump0001");T.visible=!1;var E=this.add.sprite(357,355,"pet-new","yellow_body"),B=this.add.sprite(364,357,"pet-new","yellow_eyes0001"),A=this.add.sprite(363,330,"pet-new","yellow_jump0001");A.visible=!1;var F=this.add.sprite(280,402,"pet-new","border_idle0001"),I=this.add.sprite(280,371,"pet-new","border_jump0001");I.visible=!1;var z=this.add.sprite(337,404,"pet-new","tabby_idle0001"),M=this.add.sprite(338,371,"pet-new","tabby_jump0001");M.visible=!1;var D=this.add.sprite(389,390,"pet-new","red_body"),L=this.add.sprite(390,391,"pet-new","red_eyes0001"),N=this.add.sprite(389,365,"pet-new","red_jump0001");N.visible=!1;var Z=this.add.sprite(237,431,"pet-new","blue_body"),X=this.add.sprite(245,433,"pet-new","blue_eyes0001"),Y=this.add.sprite(243,406,"pet-new","blue_jump0001");Y.visible=!1;var W=this.add.sprite(413,270,"pet-new","pufflearea_front"),H=this.add.sprite(106,334,"pet-new","light"),U=this.add.sprite(332,470,"pet-new","pufflearea_floor");this.add.image(771,266,"pet-addos","sprite 605");var G=this.add.sprite(400,182,"pet-new","orange_idle0001"),q=this.add.sprite(400,157,"pet-new","orange_jump0001");q.visible=!1;var V=this.add.sprite(278,204,"pet-new","pink_body"),$=this.add.sprite(284,206,"pet-new","pink_eyes0001"),K=this.add.sprite(279,179,"pet-new","pink_jump0001");K.visible=!1;var J=this.add.sprite(456,170,"pet-new","black_idle"),Q=this.add.sprite(343,196,"pet-new","apollo_idle0001"),ee=this.add.sprite(775,702,"pet-new","rug"),te=this.add.sprite(790,692,"pet-new","rug_puffle_blue"),ne=this.add.sprite(1470,610,"pet-new","surfboard"),re=this.add.sprite(1346,699,"pet-new","highbedback"),oe=this.add.sprite(272,529,"pet-new","carealtar"),ie=this.add.sprite(1040,883,"pet-new","dualfood"),ae=this.add.sprite(979,798,"pet-new","skateboard"),se=this.add.sprite(918,417,"pet-new","stackedbowls"),ce=this.add.sprite(953,453,"pet-new","yellowbowl");this.add.image(1446,581,"pet-addos","Smbolo 2");var le=this.add.sprite(326,871,"pet-new","bed"),ue=this.add.image(1391.1200841337209,763.1399920581463,"pet-addos","sprite 686");ue.setOrigin(.4934268676004226,1.0214685036998121);var fe=this.add.image(1352,844,"pet-addos","sprite 690"),de=this.add.rectangle(1251,320,150,230);de.fillColor=61161,de.fillAlpha=.5;var pe=this.add.rectangle(321,347,250,250);pe.angle=-5,pe.fillColor=61161,pe.fillAlpha=.5;var he=this.add.rectangle(1009,194,150,180);he.fillColor=61161,he.fillAlpha=.5,this.add.image(161,634,"pet-addos","sprite 732"),this.add.image(262,654,"pet-addos","sprite 734"),this.add.image(487,424,"pet-addos","sprite 715"),this.add.image(609,446,"pet-addos","puffle");var ye=this.add.image(786.9781274701415,965.4699233671666,"pet-addos","sprite 746");ye.setOrigin(.5405355616799841,.8256792274872237);var me=this.add.image(572.0242134503974,964.3820885933796,"pet-addos","sprite 738");me.setOrigin(.4746766417535487,.9295850200833427),this.add.image(1269,490,"pet-addos","Smbolo 3"),this.add.image(917,417,"pet-addos","sprite 717"),this.add.image(955,456,"pet-addos","sprite 719");var be=[ye,ue,fe,me],ve=new o.zx(r);ve.spriteName="parkdoor",ve.hoverCallback=function(){return e.sound.add("petShop-DoorRightOpen").play()},ve.hoverOutCallback=function(){return e.sound.add("petShop-DoorRightClose").play()},ve.activeFrame=!1;var ge=new o.zx(a);ge.spriteName="petdoor",ge.hoverCallback=function(){return e.sound.add("petShop-DoorPetOpen").play()},ge.hoverOutCallback=function(){return e.sound.add("petShop-DoorPetClose").play()},ge.activeFrame=!1;var we=new o.$X(a);we.x=775,we.y=320;var ke=new o.zx(h);ke.spriteName="plazadoor",ke.hoverCallback=function(){return e.sound.add("petShop-DoorPetOpen").play()},ke.hoverOutCallback=function(){return e.sound.add("petShop-DoorPetClose").play()},ke.activeFrame=!1;var _e=new o.$X(h);_e.x=775,_e.y=300;var Oe=new o.zx(oe);Oe.spriteName="carealtar",Oe.activeFrame=!1;var Se=new o.rF(de);Se.hoverCallback=function(){return e.onCannonOver()},Se.hoverOutCallback=function(){return e.onCannonOut()};var xe=new o.$X(de);xe.x=1150,xe.y=420,new o.tk(de).text="Puffle Launch";var je=new o.rF(pe);je.hoverCallback=function(){return e.onPufflesOver()},je.hoverOutCallback=function(){return e.onPufflesOut()};var Pe=new o.$X(pe);Pe.x=350,Pe.y=450;var Re=new o.rF(he);Re.hoverCallback=function(){return e.onPufflescapeOver()},Re.hoverOutCallback=function(){return e.onPufflescapeOut()};var Ce=new o.$X(he);Ce.x=1e3,Ce.y=300,this.bg=t,this.pufflescapebg=n,this.pufflescape=i,this.pufflescapefg=s,this.cannon_layer1=c,this.cannon_layer2=l,this.cannonlayer3=u,this.cannonlayer4=f,this.cannon_layer5=d,this.main=p,this.plazadoor=h,this.oberry_pad=y,this.pufflearea=m,this.purple_body=b,this.purple_eyes=v,this.purple_jump=g,this.oberry_fall=w,this.sometubes=k,this.oberry_machine=_,this.white_lookaround=O,this.oberry_shoot=S,this.green_body=x,this.green_eyes=j,this.green_jump=P,this.brown_body=R,this.brown_eyes=C,this.brown_jump=T,this.yellow_body=E,this.yellow_eyes=B,this.yellow_jump=A,this.border_idle=F,this.border_jump=I,this.tabby_idle=z,this.tabby_jump=M,this.red_body=D,this.red_eyes=L,this.red_jump=N,this.blue_body=Z,this.blue_eyes=X,this.blue_jump=Y,this.pufflearea_front=W,this.light=H,this.pufflearea_floor=U,this.orange_idle=G,this.orange_jump=q,this.pink_body=V,this.pink_eyes=$,this.pink_jump=K,this.black_idle=J,this.apollo_idle=Q,this.rug=ee,this.rug_puffle_blue=te,this.surfboard=ne,this.highbedback=re,this.carealtar=oe,this.dualfood=ie,this.skateboard=ae,this.stackedbowls=se,this.yellowbowl=ce,this.bed=le,this.sort=be,this.events.emit("scene-awake")}},{key:"create",value:function(){s(d(h.prototype),"create",this).call(this),this.apollo_idle.play("newpetapollo_idle"),this.pink_eyes.play("newpetpink_eyes"),this.orange_idle.play("newpetorange_idle"),this.blue_eyes.play("newpetblue_eyes"),this.red_eyes.play("newpetred_eyes"),this.tabby_idle.play("newpettabby_idle"),this.border_idle.play("newpetborder_idle"),this.yellow_eyes.play("newpetyellow_eyes"),this.brown_eyes.play("newpetbrown_eyes"),this.green_eyes.play("newpetgreen_eyes"),this.purple_eyes.play("newpetpurple_eyes"),this.white_lookaround.play("newpetwhite_lookaround")}},{key:"onPufflesOver",value:function(){this.light.setFrame("light-hover"),this.pink_jump.visible=!0,this.pink_eyes.visible=!1,this.pink_body.visible=!1,this.pink_jump.play("newpetpink_jump"),this.orange_jump.visible=!0,this.orange_idle.visible=!1,this.orange_jump.play("newpetorange_jump"),this.blue_jump.visible=!0,this.blue_eyes.visible=!1,this.blue_body.visible=!1,this.blue_jump.play("newpetblue_jump"),this.red_jump.visible=!0,this.red_eyes.visible=!1,this.red_body.visible=!1,this.red_jump.play("newpetred_jump"),this.tabby_jump.visible=!0,this.tabby_idle.visible=!1,this.tabby_jump.play("newpettabby_jump"),this.border_jump.visible=!0,this.border_idle.visible=!1,this.border_jump.play("newpetborder_jump"),this.yellow_jump.visible=!0,this.yellow_eyes.visible=!1,this.yellow_body.visible=!1,this.yellow_jump.play("newpetyellow_jump"),this.brown_jump.visible=!0,this.brown_eyes.visible=!1,this.brown_body.visible=!1,this.brown_jump.play("newpetbrown_jump"),this.green_jump.visible=!0,this.green_eyes.visible=!1,this.green_body.visible=!1,this.green_jump.play("newpetgreen_jump"),this.purple_jump.visible=!0,this.purple_eyes.visible=!1,this.purple_body.visible=!1,this.purple_jump.play("newpetpurple_jump")}},{key:"onPufflesOut",value:function(){this.light.setFrame("light"),this.pink_jump.visible=!1,this.pink_eyes.visible=!0,this.pink_body.visible=!0,this.pink_jump.stop("newpetpink_jump"),this.pink_jump.setFrame("pink_jump0001"),this.orange_jump.visible=!1,this.orange_idle.visible=!0,this.orange_jump.stop("newpetorange_jump"),this.orange_jump.setFrame("orange_jump0001"),this.blue_jump.visible=!1,this.blue_eyes.visible=!0,this.blue_body.visible=!0,this.blue_jump.stop("newpetblue_jump"),this.blue_jump.setFrame("blue_jump0001"),this.red_jump.visible=!1,this.red_eyes.visible=!0,this.red_body.visible=!0,this.red_jump.stop("newpetred_jump"),this.red_jump.setFrame("red_jump0001"),this.tabby_jump.visible=!1,this.tabby_idle.visible=!0,this.tabby_jump.stop("newpettabby_jump"),this.tabby_jump.setFrame("tabby_jump0001"),this.border_jump.visible=!1,this.border_idle.visible=!0,this.border_jump.stop("newpetborder_jump"),this.border_jump.setFrame("border_jump0001"),this.yellow_jump.visible=!1,this.yellow_eyes.visible=!0,this.yellow_body.visible=!0,this.yellow_jump.stop("newpetyellow_jump"),this.yellow_jump.setFrame("yellow_jump0001"),this.brown_jump.visible=!1,this.brown_eyes.visible=!0,this.brown_body.visible=!0,this.brown_jump.stop("newpetbrown_jump"),this.brown_jump.setFrame("brown_jump0001"),this.green_jump.visible=!1,this.green_eyes.visible=!0,this.green_body.visible=!0,this.green_jump.stop("newpetgreen_jump"),this.green_jump.setFrame("green_jump0001"),this.purple_jump.visible=!1,this.purple_eyes.visible=!0,this.purple_body.visible=!0,this.purple_jump.stop("newpetpurple_jump"),this.purple_jump.setFrame("purple_jump0001")}},{key:"onPufflescapeOver",value:function(){this.pufflescape.play("newpetpufflescape")}},{key:"onPufflescapeOut",value:function(){this.pufflescape.stop("newpetpufflescape"),this.pufflescape.setFrame("pufflescape0001")}},{key:"onCannonOver",value:function(){this.cannon_layer2.play("newpetcannonlayer2"),this.cannonlayer4.play("newpetcannonlayer4")}},{key:"onCannonOut",value:function(){this.cannon_layer2.stop("newpetcannonlayer2"),this.cannonlayer4.stop("newpetcannonlayer4"),this.cannonlayer4.setFrame("cannonlayer40001"),this.cannon_layer2.setFrame("cannon_layer20001")}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),h}(r.Z)},3088:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u}),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(1816),o=n(390);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(f,e);var t,n,r,i,u=(r=f,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(r);if(i){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function f(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(e=u.call(this,"Pirate")).roomTriggers={port:function(){return e.triggerRoom(30,1154,435)}},e}return t=f,(n=[{key:"_preload",value:function(){this.load.pack("pirate-pack","assets/media/rooms/pirate/pirate-pack.json")}},{key:"_create",value:function(){this.add.image(628,673,"pirate","fore.png").visible=!1,this.add.image(760,615,"pirate","sea"),this.add.image(722,138,"pirate","sky"),this.add.image(764,638,"pirate","water"),this.add.image(645,558,"pirate","sand"),this.add.image(714,617,"pirate","Smbolo 8"),this.add.image(793,297,"pirate","Symbol 136"),this.add.image(729,322,"pirate","Smbolo 9"),this.add.image(558,216,"pirate","Symbol 111"),this.add.image(552,164,"pirate","Symbol 130"),this.add.image(517,221,"pirate","Symbol 158"),this.add.image(443,312,"pirate","ship"),this.add.image(259,360,"pirate","Symbol 32"),this.add.image(961,441,"pirate","Symbol 20"),this.add.image(1134,487,"pirate","Symbol 23"),this.add.image(1131,577,"pirate","Symbol 22"),this.add.image(679,653,"pirate","Symbol 166"),this.add.image(698,671,"pirate","Symbol 21"),this.add.image(814,736,"pirate","Symbol 19"),this.add.image(536,643,"pirate","Sprite 308"),this.add.image(539,847,"pirate","Smbolo 11"),this.add.image(771,729,"pirate","Smbolo 5"),this.add.image(930,704,"pirate","Symbol 108"),this.add.image(1065,443,"pirate","Smbolo 4"),this.add.image(1175,447,"pirate","Symbol 40 copy"),this.add.image(1191,549,"pirate","Symbol 12"),this.add.image(1013,456,"pirate","Symbol 108").flipX=!0,this.add.image(881,362,"pirate","Symbol 1");var e=this.add.sprite(444,797,"pirate","wave10001");this.add.image(531,839,"pirate","Symbol 5"),this.add.image(551,768,"pirate","Symbol 108"),this.add.image(862,822,"pirate","Symbol 175 copy 2"),this.add.image(921,867,"pirate","Symbol 320"),this.add.image(1025,876,"pirate","Symbol 2 copy 3");var t=this.add.sprite(579,883,"pirate","wave20001");t.angle=-33,t.flipX=!0,t.flipY=!0,t.tintFill=!0;var n=this.add.sprite(614,950,"pirate","particles0001");n.flipX=!0,this.add.image(1145,878,"pirate","Symbol 175 copy");var r=this.add.image(1388,864,"pirate","Symbol 6 copy 2"),i=this.add.sprite(1439,806,"pirate","flag0001");this.add.image(649,682,"pirate","fore");var a=new o.fw(e);a.key="wave1",a.end=16;var s=new o.fw(t);s.key="wave2",s.end=7;var c=new o.fw(n);c.key="particles",c.end=16,new o.rF(r),new o.tk(r).text="Travel to The Port";var l=new o.$X(r);l.x=1386,l.y=742;var u=new o.fw(i);u.key="flag",u.end=13,this.events.emit("scene-awake")}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(r.Z)},435:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u}),n(2707),n(2481),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(1816),o=n(390);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(f,e);var t,n,r,i,u=(r=f,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(r);if(i){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function f(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(e=u.call(this,"Pizza")).sort,e.roomTriggers={plaza:function(){return e.triggerRoom(50,819,700)},pizzatron:function(){return null}},e}return t=f,(n=[{key:"_preload",value:function(){this.load.pack("pizza-pack","assets/media/rooms/pizza/pizza-pack.json")}},{key:"_create",value:function(){this.add.image(699,483,"pizza","bg");var e=this.add.image(765,185,"pizza","main");this.add.image(337,95,"pizza","Symbol 300001"),this.add.image(506,153,"pizza","Symbol 59");var t=this.add.image(1217.7645466454744,556.6551125938605,"pizza","Symbol 90");t.setOrigin(.09987246994774968,.5554592716155042);var n=this.add.image(349,239,"pizza","tron");this.add.image(1467,595,"pizza","Symbol 96"),this.add.image(1391,249,"pizza","Symbol 92"),this.add.image(1300,478,"pizza","Symbol 94"),this.add.image(951,313,"pizza","Symbol 67");var r=this.add.image(1113.1060579207638,341.7409592751547,"pizza","Symbol 75");r.setOrigin(.5130004181515241,.6928923958287283);var i=this.add.image(551,374.83902720313966,"pizza","Symbol 65");i.setOrigin(.5,.9183789252683822);var a=this.add.image(1364,352,"pizza","Symbol 99");this.add.image(713,646,"pizza","Symbol 128");var s=this.add.image(822.7825317382812,915.2690852811945,"pizza","Symbol 151");s.setOrigin(.5018021476386325,.9286969300775461),this.add.image(917,600,"pizza","Symbol 79"),this.add.image(1044,491,"pizza","Symbol 77"),this.add.image(680,481,"pizza","Symbol 79"),this.add.image(826,429,"pizza","Symbol 81");var c=this.add.image(1056.9819124129513,656.5226529682866,"pizza","Symbol 83");c.setOrigin(.5055789868256358,.8751316486977713),this.add.image(510,457,"pizza","Symbol 120");var l=this.add.image(769.4869995117188,588.8043062456219,"pizza","Symbol 88");l.setOrigin(.47478766180440884,.8155995760488486),this.add.image(515,538,"pizza","Symbol 120"),this.add.image(376,484,"pizza","Symbol 101");var u=this.add.sprite(378.3360658322802,369.19879899764254,"pizza","check0001");u.setOrigin(.7256172471413461,.5016995556961342),this.add.image(336,544,"pizza","Symbol 124");var f=[l,c,r,a,s,i,u,t],d=new o.zx(e);d.spriteName="main",d.activeFrame=!1;var p=new o.$X(e);p.x=770,p.y=293;var h=new o.zx(n);h.spriteName="tron",h.activeFrame=!1,new o.tk(n).text="Pizzatron 3000";var y=new o.fw(u);y.key="check",y.end=3,y.repeat=1,y.autoPlay=!1,y.onHover=!0,new o.rF(u),this.sort=f,this.events.emit("scene-awake")}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(r.Z)},4689:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d}),n(2707),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(1816),o=n(5655),i=n(1676),a=n(9101);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function u(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(p,e);var t,n,r,s,d=(r=p,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(r);if(s){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function p(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(e=d.call(this,"Plaza")).sort,e.roomTriggers={central:function(){return e.triggerRoom(1,1198,745)},park:function(){return e.triggerRoom(60,188,709)},pizza:function(){return e.triggerRoom(53,384,620)},secret:function(){return null},pet:function(){return e.triggerRoom(52,384,620)}},e}return t=p,(n=[{key:"_preload",value:function(){this.load.pack("plaza-pack","assets/media/rooms/plaza/plaza-pack.json")}},{key:"_create",value:function(){this.add.image(871,103,"plaza","sky"),this.add.image(910,102,"plaza","Smbolo 29");var e=this.add.sprite(1048,29,"plaza","smoke0001");this.add.image(749,654,"plaza","Smbolo 64"),this.add.image(635,346,"plaza","Smbolo 60").visible=!1,this.add.image(635,346,"plaza","Smbolo 600"),this.add.image(656,764,"plaza","Smbolo 43"),this.add.image(1305,208,"plaza","Smbolo 56"),this.add.image(124,296,"plaza","Smbolo 28"),this.add.image(916,284,"plaza","pizza"),this.add.image(530,189,"plaza","Smbolo 69");var t=this.add.image(725.995492125174,786.5465872776916,"plaza","Sprite 331");t.setOrigin(.4480228119410787,.330181364038933);var n=this.add.image(764,506,"plaza","Smbolo 58");n.scaleX=.8,n.scaleY=.8;var r=this.add.image(1003,433,"plaza","pizzadoor"),s=this.add.image(614.2298322702271,793.2090540588943,"plaza","Smbolo 59");s.setOrigin(.3769827671120317,.6106236779833379);var c=this.add.image(758,869,"plaza","Smbolo 77");this.add.image(1518,491,"plaza","Sprite 791 copia");var l=this.add.image(1267,556,"plaza","Symbol 185"),u=this.add.image(1283,559,"plaza","Sprite 72");this.add.image(1365,688,"plaza","Smbolo 65");var f=this.add.image(1050.857327137573,695.0079164547627,"plaza","Smbolo 61");f.setOrigin(.5997958236247515,.7446082416019714);var d=this.add.image(1186.396861463759,717.5814353182392,"plaza","Smbolo 75");d.setOrigin(.4766347031629726,.011130609047263703),this.add.image(342,538,"plaza","Smbolo 21"),this.add.image(395,543,"plaza","Smbolo 20");var p=this.add.image(411,470,"plaza","petdoor");this.add.image(132,863,"plaza","Smbolo 610001"),this.add.image(-33,761,"plaza","Smbolo 440001");var h=this.add.image(119.4261586612322,906.3786836925167,"plaza","Smbolo 76");h.setOrigin(.804937285407684,.6893130863996516);var y=this.add.image(1486.8542065760457,1014.6990939933496,"plaza","Smbolo 63");y.setOrigin(.5181810337408466,1.0351018337028859),this.add.image(441,546,"plaza","Smbolo 21");var m=this.add.image(689,561,"plaza","entry");this.add.image(930,271,"plaza","Smbolo 24");var b=this.add.image(814,544,"plaza","Sprite 331");b.scaleX=.8,b.scaleY=.8,b.setOrigin(.5167236450692404,.3950041693445508),this.add.image(667,256,"plaza","Smbolo 78"),this.add.image(373,179,"plaza","back"),this.add.image(372,179,"plaza","glow"),this.add.image(183,455,"plaza","Symbol 118");var v=this.add.sprite(371,178,"plaza","fire0001");this.add.image(373,182,"plaza","front"),this.add.image(202,398,"plaza","noentry"),this.add.image(248,401,"plaza","Smbolo 70"),this.add.image(1421,220,"plaza","Smbolo 79"),this.add.image(90,457,"plaza","Sprite 181"),this.add.image(51,536,"plaza","Symbol 263"),this.add.image(1388,366,"plaza","Symbol 234"),this.add.image(780,604,"plaza","Smbolo 73"),this.add.image(308,214,"plaza","lights");var g=[s,c,t,l,u,b,h,f,d,y],w=new o.Z(e);w.key="smoke",w.end=30;var k=new i.Z(r);k.spriteName="pizzadoor",k.activeFrame=!1;var _=new a.Z(r);_.x=995,_.y=472;var O=new i.Z(p);O.spriteName="petdoor",O.activeFrame=!1;var S=new a.Z(p);S.x=417,S.y=505;var x=new i.Z(m);x.spriteName="entry",x.activeFrame=!1;var j=new o.Z(v);j.key="fire",j.end=21,this.sort=g,this.events.emit("scene-awake")}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),p}(r.Z)},934:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d}),n(2707),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(1816),o=n(1676),i=n(9101),a=n(5655);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function u(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(p,e);var t,n,r,s,d=(r=p,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(r);if(s){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function p(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(e=d.call(this,"Port")).sort,e.roomTriggers={tropical:function(){return e.triggerRoom(20,1239,816)},lighthouse:function(){return e.triggerRoom(31,620,486)}},e}return t=p,(n=[{key:"_preload",value:function(){this.load.pack("port-pack","assets/media/rooms/port/port-pack.json")}},{key:"_create",value:function(){this.add.image(762,777,"port","Smbolo 9"),this.add.image(760,181,"port","sky_bg"),this.add.image(148,113,"port","tree_bg_1"),this.add.image(1227,176,"port","tree_bg_2"),this.add.image(1151,192,"port","Symbol 479"),this.add.image(1410,300,"port","Symbol 112"),this.add.image(1196,282,"port","Smbolo 3"),this.add.image(152,381,"port","sand1"),this.add.image(775,786,"port","water"),this.add.image(366,663,"port","Symbol 469"),this.add.image(456,323,"port","Symbol 481"),this.add.image(819,320,"port","Symbol 483"),this.add.image(1311,169,"port","Smbolo 1"),this.add.image(500.76229496326164,285.50567102316546,"port","Symbol 493").setOrigin(.3666179891477266,.6303940900629003),this.add.image(774,446,"port","Symbol 545"),this.add.image(248,631,"port","Symbol 733"),this.add.image(110,608,"port","Symbol 719"),this.add.image(1069,566,"port","Symbol 719"),this.add.image(839,623,"port","Symbol 719").flipX=!0,this.add.image(107,680,"port","Symbol 735"),this.add.image(165,218,"port","Smbolo 11");var e=this.add.image(187,317,"port","door");e.scaleX=1.1,e.scaleY=1.1,this.add.image(832,245,"port","Symbol 514"),this.add.image(1180,280,"port","Symbol 555"),this.add.image(590,637,"port","Symbol 719");var t=this.add.image(1145.5042993162485,321.8155937850912,"port","Symbol 573");t.setOrigin(.6024014253154693,.24622255465296705),this.add.image(868,477,"port","Symbol 561"),this.add.image(608,506,"port","Symbol 567"),this.add.image(166,508,"port","Symbol 713");var n=this.add.sprite(106,883,"port","wave10001");n.scaleX=2.4,n.scaleY=2.4,n.setOrigin(.9023367535710926,.11992137215167828),n.flipX=!0;var r=this.add.sprite(185,871,"port","wave10001");r.scaleX=1.9,r.scaleY=1.9,r.flipX=!0;var s=this.add.sprite(415,851,"port","wave20001");s.scaleX=2.4,s.scaleY=2.4,s.flipX=!0;var c=this.add.sprite(708,868,"port","wave10001");c.scaleX=2.4,c.scaleY=2.4,c.setOrigin(.9023367535710926,.11992137215167828),c.flipX=!0;var l=this.add.sprite(787,856,"port","wave10001");l.scaleX=1.9,l.scaleY=1.9,l.flipX=!0;var u=this.add.sprite(1048,839,"port","wave20001");u.scaleX=2.4,u.scaleY=2.4,u.flipX=!0;var f=this.add.sprite(1285,862,"port","wave10001");f.scaleX=2.4,f.scaleY=2.4,f.setOrigin(.9023367535710926,.11992137215167828),f.flipX=!0;var d=this.add.sprite(1364,850,"port","wave10001");d.scaleX=1.9,d.scaleY=1.9,d.flipX=!0;var p=this.add.sprite(909,738,"port","wave10001");p.scaleX=2.4,p.scaleY=2.4,p.setOrigin(.9023367535710926,.11992137215167828),p.flipX=!0;var h=this.add.sprite(988,726,"port","wave10001");h.scaleX=1.9,h.scaleY=1.9,h.flipX=!0;var y=this.add.sprite(1299,708,"port","wave20001");y.scaleX=2.4,y.scaleY=2.4;var m=this.add.sprite(1511,723,"port","wave10001");m.scaleX=2.4,m.scaleY=2.4,m.setOrigin(.9023367535710926,.11992137215167828),m.flipX=!0;var b=this.add.sprite(230,939,"port","wave10001");b.scaleX=2.4,b.scaleY=2.4,b.setOrigin(.9023367535710926,.11992137215167828),b.flipX=!0;var v=this.add.sprite(309,927,"port","wave10001");v.scaleX=1.9,v.scaleY=1.9,v.flipX=!0;var g=this.add.sprite(570,909,"port","wave20001");g.scaleX=2.4,g.scaleY=2.4,g.flipX=!0;var w=this.add.sprite(832,924,"port","wave10001");w.scaleX=2.4,w.scaleY=2.4,w.setOrigin(.9023367535710926,.11992137215167828),w.flipX=!0;var k=this.add.sprite(911,912,"port","wave10001");k.scaleX=1.9,k.scaleY=1.9,k.flipX=!0;var _=this.add.sprite(1188,920,"port","wave20001");_.scaleX=2.4,_.scaleY=2.4,_.flipX=!0;var O=this.add.sprite(1409,918,"port","wave10001");O.scaleX=2.4,O.scaleY=2.4,O.setOrigin(.9023367535710926,.11992137215167828),O.flipX=!0;var S=this.add.sprite(1488,906,"port","wave10001");S.scaleX=1.9,S.scaleY=1.9,S.flipX=!0,this.add.image(92,772,"port","Symbol 921");var x=this.add.sprite(899,776,"port","floating0001");this.add.image(787,685,"port","Smbolo 4"),this.add.image(792,639,"port","Symbol 228 copy"),this.add.image(375,689,"port","Smbolo 10");var j=[t];new o.Z(e).spriteName="door";var P=new i.Z(e);P.x=187,P.y=317;var R=new a.Z(n);R.key="wave1",R.end=42;var C=new a.Z(r);C.key="wave1",C.end=42;var T=new a.Z(s);T.key="wave2",T.end=18;var E=new a.Z(c);E.key="wave1",E.end=42;var B=new a.Z(l);B.key="wave1",B.end=42;var A=new a.Z(u);A.key="wave2",A.end=18;var F=new a.Z(f);F.key="wave1",F.end=42;var I=new a.Z(d);I.key="wave1",I.end=42;var z=new a.Z(p);z.key="wave1",z.end=42;var M=new a.Z(h);M.key="wave1",M.end=42;var D=new a.Z(y);D.key="wave2",D.end=18;var L=new a.Z(m);L.key="wave1",L.end=42;var N=new a.Z(b);N.key="wave1",N.end=42;var Z=new a.Z(v);Z.key="wave1",Z.end=42;var X=new a.Z(g);X.key="wave2",X.end=18;var Y=new a.Z(w);Y.key="wave1",Y.end=42;var W=new a.Z(k);W.key="wave1",W.end=42;var H=new a.Z(_);H.key="wave2",H.end=18;var U=new a.Z(O);U.key="wave1",U.end=42;var G=new a.Z(S);G.key="wave1",G.end=42;var q=new a.Z(x);q.key="floating",q.end=48,this.sort=j,this.events.emit("scene-awake")}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),p}(r.Z)},7297:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d}),n(2707),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(4819),n(5003),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(1816),o=n(390);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=c(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},s.apply(this,arguments)}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function u(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(d,e);var t,n,r,i,c=(r=d,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(r);if(i){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function d(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(e=c.call(this,"Shop")).bg,e.rail,e.speakers,e.chairBody,e.chairArm,e.chairBody_1,e.chairArm_1,e.deskChair,e.desk,e.chest,e.register,e.spinner,e.door,e.circularStool,e.squareStool,e.fg,e.catalog,e.unlock,e.sort,e.roomTriggers={town:function(){return e.triggerRoom(10,1045,421)}},e.music="1173",e}return t=d,(n=[{key:"_preload",value:function(){this.load.pack("shop-pack","assets/media/rooms/shop/shop-pack.json")}},{key:"_create",value:function(){var e=this,t=this.add.sprite(765,468,"clothesShop-new","bg"),n=this.add.sprite(363,472,"clothesShop-new","rail"),r=this.add.sprite(762,224,"clothesShop-new","speakers0001"),i=this.add.sprite(282,640,"clothesShop-new","chairBody"),a=this.add.sprite(301,686,"clothesShop-new","chairArm"),s=this.add.sprite(336,767,"clothesShop-new","chairBody"),c=this.add.sprite(355,814,"clothesShop-new","chairArm"),l=this.add.sprite(1370,380,"clothesShop-new","deskChair"),u=this.add.container(1337.3141623444612,415.3218257529371),f=this.add.sprite(13.685837655538762,45.678174247062884,"clothesShop-new","desk");u.add(f);var d=this.add.sprite(15.685837655538762,123.67817424706288,"clothesShop-new","chest");u.add(d);var p=this.add.sprite(-48.31416234446124,-46.321825752937116,"clothesShop-new","register");u.add(p);var h=this.add.sprite(1403,436,"clothesShop-new","spinner0001"),y=this.add.sprite(1103,248,"clothesShop-new","door"),m=this.add.sprite(1105.0536438593308,585.1647632822302,"clothesShop-new","circularStool");m.setOrigin(.3927203373794677,.1307307179502602);var b=this.add.sprite(1032.9632984323307,645.1017420341761,"clothesShop-new","squareStool");b.setOrigin(.3475601335676138,.1008847133406621);var v=this.add.sprite(782,980.5,"clothesShop-new","fg");v.setOrigin(.5,1);var g=this.add.sprite(1340,1055,"clothesShop-new","style");g.setOrigin(0,2);var w=this.add.sprite(1415,771,"clothesShop-new","unlock");w.visible=!1;var k=[g,v,b,m,y,h,l,c,s,a,i,r,n,u],_=new o.zx(p);_.spriteName="register",_.activeFrame=!1;var O=new o.rF(h);O.hoverCallback=function(){return e.onSpinnerOver()},O.hoverOutCallback=function(){return e.onSpinnerOut()};var S=new o.zx(y);S.spriteName="door",S.activeFrame=!1;var x=new o.$X(y);x.x=1100,x.y=350;var j=new o.zx(g);j.spriteName="style",j.callback=function(){return e.interface.loadExternal("ClothingCatalog")},j.activeFrame=!1,j.pixelPerfect=!0,this.bg=t,this.rail=n,this.speakers=r,this.chairBody=i,this.chairArm=a,this.chairBody_1=s,this.chairArm_1=c,this.deskChair=l,this.desk=f,this.chest=d,this.register=p,this.spinner=h,this.door=y,this.circularStool=m,this.squareStool=b,this.fg=v,this.catalog=g,this.unlock=w,this.sort=k,this.events.emit("scene-awake")}},{key:"create",value:function(){var e=this;s(f(d.prototype),"create",this).call(this),this.speakers.play("clothesSpeakers"),this.spinner.on("animationcomplete",(function(){return e.spinner.setFrame("spinner0001")}))}},{key:"onSpinnerOver",value:function(){this.spinner.play("spinner")}},{key:"onSpinnerOut",value:function(){this.spinner.stop("spinner"),this.spinner.setFrame("spinner0001")}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),d}(r.Z)},4344:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u}),n(2707),n(2481),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(1816),o=n(390);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(f,e);var t,n,r,i,u=(r=f,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(r);if(i){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function f(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(e=u.call(this,"Town")).canopy_lights,e.sort,e.roomTriggers={central:function(){return e.triggerRoom(1,259,727)},coffee:function(){return e.triggerRoom(11,975,440)},dance:function(){return e.triggerRoom(15,1141,425)},shop:function(){return e.triggerRoom(13,334,546)},tropical:function(){return e.triggerRoom(20,1164,354)}},e}return t=f,(n=[{key:"_preload",value:function(){this.load.pack("town-pack","assets/media/rooms/town/town-pack.json")}},{key:"_create",value:function(){this.add.image(699,31,"town","sky"),this.add.image(1220,141,"town","Smbolo 22"),this.add.image(1315,337,"town","Smbolo 6"),this.add.image(34,156,"town","Smbolo 30"),this.add.image(89,957,"town","Smbolo 47"),this.add.image(208,951,"town","Smbolo 24");var e=this.add.sprite(648,548,"town","canopy_lights0001");e.setOrigin(0,7.142857142857143),e.visible=!1;var t=this.add.image(647,548,"town","canopy_stars");t.setOrigin(0,7.142857142857143),this.add.image(760,595,"town","Smbolo 25"),this.add.image(90,241,"town","Smbolo 31");var n=this.add.image(981,295,"town","shopdoor"),r=this.add.sprite(682,349,"town","discodoor0001");this.add.image(609,95,"town","Smbolo 34"),this.add.image(630,130,"town","betabottom"),this.add.image(1050,746,"town","Smbolo 44"),this.add.image(-43,806,"town","Smbolo 49");var i=this.add.image(73,627,"town","Smbolo 24");i.scaleX=.5812929253893424,i.scaleY=.5812929253893424,i.flipX=!0,this.add.image(239,581,"town","Smbolo 47"),this.add.image(822,945,"town","sprite 210"),this.add.image(1261,773,"town","Smbolo 46"),this.add.image(388,225,"town","coffee");var a=this.add.image(329,311,"town","coffeedoor");this.add.image(1097,229,"town","Smbolo 38"),this.add.image(1042,200,"town","Smbolo 40"),this.add.image(1025,147,"town","Smbolo 41"),this.add.image(1042,116,"town","Smbolo 42"),this.add.image(725,234,"town","Smbolo 50"),this.add.image(1318,310,"town","Smbolo 48"),this.add.image(1465,287,"town","Smbolo 51"),this.add.image(951,198,"town","hat"),this.add.image(1546,627,"town","Smbolo 48"),this.add.image(1512,908,"town","Smbolo 45");var s=this.add.image(1010,760,"town","sprite 470");this.add.image(471,495,"town","Smbolo 8"),this.add.image(1107,318,"town","Smbolo 8 copia"),this.add.image(1368,998,"town","Symbol 281");var c=this.add.image(1286,650,"town","sprite 232");this.add.image(1812,193,"town","betabottom");var l=this.add.image(195.1824474294629,802.9202184915858,"town","Smbolo 16");l.setOrigin(.03773845376972135,.9728521561480952),this.add.image(1467,248,"town","Smbolo 13"),this.add.image(6,424,"town","Symbol 94"),this.add.image(32,563,"town","Symbol 90"),this.add.image(57,604,"town","Smbolo 18"),this.add.image(-33,388,"town","Smbolo 36"),this.add.image(687,592,"town","Smbolo 43"),this.add.image(1285,746,"town","Symbol 132");var u=this.add.image(557,865,"town","Symbol 394"),f=this.add.image(772.0382807855852,982.3307164736958,"town","balloons");f.setOrigin(.4926162063666352,.9881816031810594),this.add.image(742,180,"town","betatop"),this.add.image(1029,174,"town","Smbolo 9"),this.add.image(381,298,"town","port"),this.add.image(-58,303,"town","Symbol 158"),this.add.image(959,295,"town","Symbol 158");var d=[t,e,l,f,s,c,u],p=new o.fw(e);p.key="canopy_lights",p.end=57,p.autoPlay=!1,p.showOnStart=!0,p.hideOnComplete=!0;var h=new o.zx(n);h.spriteName="shopdoor",h.activeFrame=!1;var y=new o.$X(n);y.x=987,y.y=346,new o.rF(r);var m=new o.fw(r);m.key="discodoor",m.end=7,m.repeat=0,m.autoPlay=!1,m.onHover=!0;var b=new o.$X(r);b.x=692,b.y=445;var v=new o.zx(a);v.spriteName="coffeedoor",v.activeFrame=!1;var g=new o.$X(a);g.x=331,g.y=356,this.canopy_lights=e,this.sort=d,this.events.emit("scene-awake")}},{key:"onCanopyOver",value:function(){this.disco.setFrame("disco-hover"),this.canopy_lights.__Animation.play(),this.disco_lights.__Animation.play()}},{key:"onCanopyOut",value:function(){this.disco.setFrame("disco"),this.canopy_lights.__Animation.stop(),this.disco_lights.__Animation.stop()}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(r.Z)},4252:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p}),n(2707),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(1816),o=n(5655),i=n(1676),a=n(8334),s=n(9101);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function f(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(h,e);var t,n,r,c,p=(r=h,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(r);if(c){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function h(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(e=p.call(this,"Tropical")).sort,e.roomTriggers={surfer:function(){return e.triggerGame("CatchinWaves",912)},central:function(){return e.triggerRoom(10,263,672)},port:function(){return e.triggerRoom(30,555,421)}},e}return t=h,(n=[{key:"_preload",value:function(){this.load.pack("tropical-pack","assets/media/rooms/tropical/tropical-pack.json")}},{key:"_create",value:function(){var e=this;this.add.image(756,112,"tropical","sky"),this.add.image(286,69,"tropical","Symbol 103"),this.add.image(496,58,"tropical","Symbol 103"),this.add.image(408,98,"tropical","Symbol 103").flipX=!0,this.add.image(210,125,"tropical","Symbol 103"),this.add.image(426,113,"tropical","Symbol 105"),this.add.image(263,132,"tropical","Symbol 105"),this.add.image(62,114,"tropical","Symbol 103"),this.add.image(132,98,"tropical","Symbol 111"),this.add.image(240,132,"tropical","Symbol 340"),this.add.image(779,367,"tropical","waterfall");var t=this.add.sprite(788,76,"tropical","wf100001"),n=this.add.sprite(813,183,"tropical","wf40001"),r=this.add.sprite(838,149,"tropical","wf20001"),c=this.add.sprite(810,261,"tropical","wf90001");this.add.image(867,213,"tropical","Symbol 97");var l=this.add.sprite(907,77,"tropical","wf100001");l.flipX=!0;var u=this.add.sprite(1068,111,"tropical","wf100001");u.scaleX=.9,u.scaleY=.9;var f=this.add.sprite(1074,26,"tropical","wf100001");f.scaleX=.9,f.scaleY=.9,this.add.image(77,177,"tropical","Symbol 105");var d=this.add.image(1104,154,"tropical","Symbol 103");d.angle=-27,d.flipX=!0;var p=this.add.sprite(958,338,"tropical","wf50001");this.add.image(1145,200,"tropical","Symbol 103"),this.add.image(1052,233,"tropical","Symbol 103").flipX=!0,this.add.image(1094,202,"tropical","Symbol 105"),this.add.image(969,115,"tropical","Symbol 111"),this.add.image(683.9147515601431,128.9300400927598,"tropical","waterfall2").setOrigin(.46678632572099293,.221000128960678),this.add.image(681.61794371169,-18.104427627244306,"tropical","Smbolo 4").setOrigin(1.000658618198795,.07497914141048753);var h=this.add.sprite(732,366,"tropical","wf60001");this.add.image(536,120,"tropical","Symbol 103").flipX=!0,this.add.image(511,138,"tropical","Symbol 105");var y=this.add.image(572,108,"tropical","Symbol 113");this.add.image(446,78,"tropical","Symbol 127").flipX=!0,this.add.image(458,116,"tropical","Symbol 129"),this.add.image(608,125,"tropical","Symbol 129"),this.add.image(379,144,"tropical","Symbol 130"),this.add.image(334,202,"tropical","Symbol 132"),this.add.image(418,842,"tropical","Symbol 117"),this.add.image(561,273,"tropical","Smbolo 5"),this.add.image(615,318,"tropical","Symbol 135");var m=this.add.image(-28,97,"tropical","Symbol 127");m.angle=-18,m.flipX=!0,this.add.image(576,311,"tropical","Symbol 137"),this.add.image(474,326,"tropical","Smbolo 6"),this.add.image(63,194,"tropical","Symbol 119"),this.add.image(782,543,"tropical","Symbol 141"),this.add.image(118,244,"tropical","Symbol 143"),this.add.image(333,161,"tropical","Symbol 186").visible=!1,this.add.image(102,339,"tropical","Symbol 114").flipX=!0;var b=this.add.image(272,821,"tropical","surfer");this.add.image(109,392,"tropical","Symbol 137"),this.add.image(33,373,"tropical","Symbol 116");var v=this.add.image(451.15760334388256,176.82254115530992,"tropical","Symbol 186");v.setOrigin(.9688794072817514,.5784261830549002),this.add.image(496,189,"tropical","Symbol 190");var g=this.add.image(280.22225219557737,358.4892245904664,"tropical","Symbol 344");g.setOrigin(.5294589400448916,.7336514787560539);var w=this.add.image(24,431,"tropical","Symbol 148"),k=this.add.image(239.45082729363148,516.4377362937104,"tropical","Symbol 346");k.setOrigin(.6661379291551396,1.0819074473408752),this.add.image(-16,328,"tropical","Symbol 127"),this.add.image(832,332,"tropical","Symbol 150"),this.add.image(417,359,"tropical","Symbol 152"),this.add.image(1444,102,"tropical","Symbol 103"),this.add.image(1242,94,"tropical","Symbol 103").flipX=!0,this.add.image(1222,131,"tropical","Symbol 105"),this.add.image(1428,131,"tropical","Symbol 105"),this.add.image(1307,66,"tropical","Symbol 146").flipX=!0,this.add.image(1181,164,"tropical","Symbol 167"),this.add.image(1462,176,"tropical","Symbol 112"),this.add.image(1133,100,"tropical","Symbol 146"),this.add.image(1211,225,"tropical","Symbol 116").flipX=!0;var _=this.add.image(1071,236,"tropical","Symbol 340");_.angle=-7,_.flipX=!0,this.add.image(1490,48,"tropical","Symbol 146").flipX=!0,this.add.image(1411,427,"tropical","Symbol 176"),this.add.image(1245,404,"tropical","Symbol 178"),this.add.image(1346,437,"tropical","Symbol 180"),this.add.image(1488,526,"tropical","Symbol 182"),this.add.image(1397,242,"tropical","Symbol 388"),this.add.image(1420,449,"tropical","Symbol 184"),this.add.image(1399,477,"tropical","Symbol 328"),this.add.image(1362,522,"tropical","Symbol 328"),this.add.image(1370,596,"tropical","Symbol 194"),this.add.image(1527,552,"tropical","Symbol 119"),this.add.image(1516,611,"tropical","Symbol 119").angle=-23,this.add.image(1326,698,"tropical","Symbol 165"),this.add.image(1561,716,"tropical","Symbol 353");var O=this.add.image(1236,622,"tropical","Symbol 192");O.scaleX=.8,O.scaleY=.8;var S=this.add.image(1134,544,"tropical","Symbol 170"),x=this.add.sprite(1290,827,"tropical","fire0001");x.scaleX=.6,x.scaleY=.6;var j=this.add.image(1236,638,"tropical","Symbol 323");j.scaleX=.6,j.scaleY=.6;var P=this.add.image(1237,646,"tropical","Symbol 326");P.scaleX=.8,P.scaleY=.8,this.add.image(849,508,"tropical","Symbol 350");var R=this.add.image(872,626,"tropical","Symbol 116");this.add.image(924,432,"tropical","Symbol 350"),this.add.image(720,758,"tropical","Symbol 375");var C=this.add.image(866.2836545486791,934.9423273630141,"tropical","Symbol 335");C.setOrigin(.5147712225816522,1.014773937180318);var T=this.add.image(996.7091363716977,963.8149182479211,"tropical","Symbol 337");T.setOrigin(.52586747915869,.8902885255463161),this.add.image(631,882,"tropical","Symbol 358"),this.add.image(679,924,"tropical","Symbol 140"),this.add.image(1462,908,"tropical","Symbol 354");var E=this.add.image(456.81218805550185,658.4508935728766,"tropical","Symbol 362");E.setOrigin(.22588840079288355,.9445452120761963);var B=this.add.image(507.6093221742276,689.4358396361006,"tropical","Symbol 366");B.setOrigin(.10870238897018925,.9755599943140716);var A=this.add.image(663.4207856993245,698.4659475096527,"tropical","Symbol 368");A.setOrigin(.8859617345157677,.9135304298383229);var F=this.add.image(591.0301078735521,708.4810014464286,"tropical","Symbol 371");F.setOrigin(.3529669582797068,.8825156476004477),this.add.image(569,560,"tropical","Symbol 362"),this.add.image(637,589,"tropical","Symbol 366"),this.add.image(688,614,"tropical","Symbol 371"),this.add.image(724,602,"tropical","Symbol 368");var I=this.add.sprite(704,137,"tropical","wf100001");I.scaleX=.6627737239001715,I.angle=-16,I.setOrigin(.4773425466427418,.6241868656631688),I.tintTopLeft=1503707,I.tintTopRight=1503707,I.tintBottomLeft=1503707,I.tintBottomRight=1503707;var z=this.add.sprite(721,319,"tropical","wf130001");z.scaleX=.5597882329842954,z.angle=-7,z.setOrigin(.24539612227723714,1.7773893774490837),z.tintTopLeft=1503707,z.tintTopRight=1503707,z.tintBottomLeft=1503707,z.tintBottomRight=1503707;var M=this.add.sprite(712.0566312589104,333.9101264922764,"tropical","sparkles0001");M.scaleX=.5992508224772785,M.scaleY=.8073729195129792,M.setOrigin(.47297502200096725,1.4282915662941031);var D=this.add.image(387,501,"tropical","Symbol 116");this.add.image(415,522,"tropical","Symbol 137"),this.add.image(578,408,"tropical","Symbol 137");var L=this.add.image(543.9940371158149,415.885164843808,"tropical","Symbol 127");L.setOrigin(.7455878820869074,.8221690496193835),L.flipX=!0;var N=this.add.image(547,466,"tropical","Symbol 148"),Z=this.add.image(1239,80,"tropical","waves"),X=[B,E,F,A,R,S,x,C,T,N,D,v,g,w,k,M,y,L],Y=new o.Z(t);Y.key="wf1",Y.end=6;var W=new o.Z(n);W.key="wf4",W.end=30;var H=new o.Z(r);H.key="wf2",H.end=6;var U=new o.Z(c);U.key="wf9",U.end=12;var G=new o.Z(l);G.key="wf1",G.end=6;var q=new o.Z(u);q.key="wf1",q.end=6;var V=new o.Z(f);V.key="wf1",V.end=6;var $=new o.Z(p);$.key="wf5",$.end=12;var K=new o.Z(h);K.key="wf6",K.end=12,new i.Z(b).spriteName="surfer",new a.Z(b).text="Go Surfing";var J=new s.Z(b);J.x=272,J.y=821;var Q=new o.Z(x);Q.key="fire",Q.end=20;var ee=new o.Z(I);ee.key="wf1",ee.end=6;var te=new o.Z(z);te.key="wf13",te.end=6;var ne=new o.Z(M);ne.key="sparkles",ne.end=30;var re=new i.Z(Z);re.spriteName="waves",re.callback=function(){return e.interface.loadExternal("Waves")},this.sort=X,this.events.emit("scene-awake")}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),h}(r.Z)},3010:e=>{function t(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=t,t.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},t.prototype.reset=function(){this.attempts=0},t.prototype.setMin=function(e){this.ms=e},t.prototype.setMax=function(e){this.max=e},t.prototype.setJitter=function(e){this.jitter=e}},9662:(e,t,n)=>{var r=n(7854),o=n(614),i=n(6330),a=r.TypeError;e.exports=function(e){if(o(e))return e;throw a(i(e)+" is not a function")}},9483:(e,t,n)=>{var r=n(7854),o=n(4411),i=n(6330),a=r.TypeError;e.exports=function(e){if(o(e))return e;throw a(i(e)+" is not a constructor")}},6077:(e,t,n)=>{var r=n(7854),o=n(614),i=r.String,a=r.TypeError;e.exports=function(e){if("object"==typeof e||o(e))return e;throw a("Can't set "+i(e)+" as a prototype")}},1223:(e,t,n)=>{var r=n(5112),o=n(30),i=n(3070),a=r("unscopables"),s=Array.prototype;null==s[a]&&i.f(s,a,{configurable:!0,value:o(null)}),e.exports=function(e){s[a][e]=!0}},1530:(e,t,n)=>{"use strict";var r=n(8710).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},5787:(e,t,n)=>{var r=n(7854),o=n(7976),i=r.TypeError;e.exports=function(e,t){if(o(t,e))return e;throw i("Incorrect invocation")}},9670:(e,t,n)=>{var r=n(7854),o=n(111),i=r.String,a=r.TypeError;e.exports=function(e){if(o(e))return e;throw a(i(e)+" is not an object")}},8533:(e,t,n)=>{"use strict";var r=n(2092).forEach,o=n(9341)("forEach");e.exports=o?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},8457:(e,t,n)=>{"use strict";var r=n(7854),o=n(9974),i=n(6916),a=n(7908),s=n(3411),c=n(7659),l=n(4411),u=n(6244),f=n(6135),d=n(8554),p=n(1246),h=r.Array;e.exports=function(e){var t=a(e),n=l(this),r=arguments.length,y=r>1?arguments[1]:void 0,m=void 0!==y;m&&(y=o(y,r>2?arguments[2]:void 0));var b,v,g,w,k,_,O=p(t),S=0;if(!O||this==h&&c(O))for(b=u(t),v=n?new this(b):h(b);b>S;S++)_=m?y(t[S],S):t[S],f(v,S,_);else for(k=(w=d(t,O)).next,v=n?new this:[];!(g=i(k,w)).done;S++)_=m?s(w,y,[g.value,S],!0):g.value,f(v,S,_);return v.length=S,v}},1318:(e,t,n)=>{var r=n(5656),o=n(1400),i=n(6244),a=function(e){return function(t,n,a){var s,c=r(t),l=i(c),u=o(a,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},2092:(e,t,n)=>{var r=n(9974),o=n(1702),i=n(8361),a=n(7908),s=n(6244),c=n(5417),l=o([].push),u=function(e){var t=1==e,n=2==e,o=3==e,u=4==e,f=6==e,d=7==e,p=5==e||f;return function(h,y,m,b){for(var v,g,w=a(h),k=i(w),_=r(y,m),O=s(k),S=0,x=b||c,j=t?x(h,O):n||d?x(h,0):void 0;O>S;S++)if((p||S in k)&&(g=_(v=k[S],S,w),e))if(t)j[S]=g;else if(g)switch(e){case 3:return!0;case 5:return v;case 6:return S;case 2:l(j,v)}else switch(e){case 4:return!1;case 7:l(j,v)}return f?-1:o||u?u:j}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},1194:(e,t,n)=>{var r=n(7293),o=n(5112),i=n(7392),a=o("species");e.exports=function(e){return i>=51||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},9341:(e,t,n)=>{"use strict";var r=n(7293);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},1589:(e,t,n)=>{var r=n(7854),o=n(1400),i=n(6244),a=n(6135),s=r.Array,c=Math.max;e.exports=function(e,t,n){for(var r=i(e),l=o(t,r),u=o(void 0===n?r:n,r),f=s(c(u-l,0)),d=0;l<u;l++,d++)a(f,d,e[l]);return f.length=d,f}},206:(e,t,n)=>{var r=n(1702);e.exports=r([].slice)},4362:(e,t,n)=>{var r=n(1589),o=Math.floor,i=function(e,t){var n=e.length,c=o(n/2);return n<8?a(e,t):s(e,i(r(e,0,c),t),i(r(e,c),t),t)},a=function(e,t){for(var n,r,o=e.length,i=1;i<o;){for(r=i,n=e[i];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==i++&&(e[r]=n)}return e},s=function(e,t,n,r){for(var o=t.length,i=n.length,a=0,s=0;a<o||s<i;)e[a+s]=a<o&&s<i?r(t[a],n[s])<=0?t[a++]:n[s++]:a<o?t[a++]:n[s++];return e};e.exports=i},7475:(e,t,n)=>{var r=n(7854),o=n(3157),i=n(4411),a=n(111),s=n(5112)("species"),c=r.Array;e.exports=function(e){var t;return o(e)&&(t=e.constructor,(i(t)&&(t===c||o(t.prototype))||a(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?c:t}},5417:(e,t,n)=>{var r=n(7475);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},3411:(e,t,n)=>{var r=n(9670),o=n(9212);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){o(e,"throw",t)}}},7072:(e,t,n)=>{var r=n(5112)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(e){}return n}},4326:(e,t,n)=>{var r=n(1702),o=r({}.toString),i=r("".slice);e.exports=function(e){return i(o(e),8,-1)}},648:(e,t,n)=>{var r=n(7854),o=n(1694),i=n(614),a=n(4326),s=n(5112)("toStringTag"),c=r.Object,l="Arguments"==a(function(){return arguments}());e.exports=o?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=c(e),s))?n:l?a(t):"Object"==(r=a(t))&&i(t.callee)?"Arguments":r}},9920:(e,t,n)=>{var r=n(2597),o=n(3887),i=n(1236),a=n(3070);e.exports=function(e,t,n){for(var s=o(t),c=a.f,l=i.f,u=0;u<s.length;u++){var f=s[u];r(e,f)||n&&r(n,f)||c(e,f,l(t,f))}}},4964:(e,t,n)=>{var r=n(5112)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},8544:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4230:(e,t,n)=>{var r=n(1702),o=n(4488),i=n(1340),a=/"/g,s=r("".replace);e.exports=function(e,t,n,r){var c=i(o(e)),l="<"+t;return""!==n&&(l+=" "+n+'="'+s(i(r),a,"&quot;")+'"'),l+">"+c+"</"+t+">"}},4994:(e,t,n)=>{"use strict";var r=n(3383).IteratorPrototype,o=n(30),i=n(9114),a=n(8003),s=n(7497),c=function(){return this};e.exports=function(e,t,n,l){var u=t+" Iterator";return e.prototype=o(r,{next:i(+!l,n)}),a(e,u,!1,!0),s[u]=c,e}},8880:(e,t,n)=>{var r=n(9781),o=n(3070),i=n(9114);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:(e,t,n)=>{"use strict";var r=n(4948),o=n(3070),i=n(9114);e.exports=function(e,t,n){var a=r(t);a in e?o.f(e,a,i(0,n)):e[a]=n}},654:(e,t,n)=>{"use strict";var r=n(2109),o=n(6916),i=n(1913),a=n(6530),s=n(614),c=n(4994),l=n(9518),u=n(7674),f=n(8003),d=n(8880),p=n(1320),h=n(5112),y=n(7497),m=n(3383),b=a.PROPER,v=a.CONFIGURABLE,g=m.IteratorPrototype,w=m.BUGGY_SAFARI_ITERATORS,k=h("iterator"),_="keys",O="values",S="entries",x=function(){return this};e.exports=function(e,t,n,a,h,m,j){c(n,t,a);var P,R,C,T=function(e){if(e===h&&I)return I;if(!w&&e in A)return A[e];switch(e){case _:case O:case S:return function(){return new n(this,e)}}return function(){return new n(this)}},E=t+" Iterator",B=!1,A=e.prototype,F=A[k]||A["@@iterator"]||h&&A[h],I=!w&&F||T(h),z="Array"==t&&A.entries||F;if(z&&(P=l(z.call(new e)))!==Object.prototype&&P.next&&(i||l(P)===g||(u?u(P,g):s(P[k])||p(P,k,x)),f(P,E,!0,!0),i&&(y[E]=x)),b&&h==O&&F&&F.name!==O&&(!i&&v?d(A,"name",O):(B=!0,I=function(){return o(F,this)})),h)if(R={values:T(O),keys:m?I:T(_),entries:T(S)},j)for(C in R)(w||B||!(C in A))&&p(A,C,R[C]);else r({target:t,proto:!0,forced:w||B},R);return i&&!j||A[k]===I||p(A,k,I,{name:h}),y[t]=I,R}},7235:(e,t,n)=>{var r=n(857),o=n(2597),i=n(6061),a=n(3070).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},9781:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(e,t,n)=>{var r=n(7854),o=n(111),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},8324:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(e,t,n)=>{var r=n(317)("span").classList,o=r&&r.constructor&&r.constructor.prototype;e.exports=o===Object.prototype?void 0:o},8886:(e,t,n)=>{var r=n(8113).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},7871:e=>{e.exports="object"==typeof window&&"object"!=typeof Deno},256:(e,t,n)=>{var r=n(8113);e.exports=/MSIE|Trident/.test(r)},1528:(e,t,n)=>{var r=n(8113),o=n(7854);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==o.Pebble},2872:(e,t,n)=>{var r=n(8113);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},5268:(e,t,n)=>{var r=n(4326),o=n(7854);e.exports="process"==r(o.process)},1036:(e,t,n)=>{var r=n(8113);e.exports=/web0s(?!.*chrome)/i.test(r)},8113:(e,t,n)=>{var r=n(5005);e.exports=r("navigator","userAgent")||""},7392:(e,t,n)=>{var r,o,i=n(7854),a=n(8113),s=i.process,c=i.Deno,l=s&&s.versions||c&&c.version,u=l&&l.v8;u&&(o=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=+r[1]),e.exports=o},8008:(e,t,n)=>{var r=n(8113).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(e,t,n)=>{var r=n(7854),o=n(1236).f,i=n(8880),a=n(1320),s=n(3505),c=n(9920),l=n(4705);e.exports=function(e,t){var n,u,f,d,p,h=e.target,y=e.global,m=e.stat;if(n=y?r:m?r[h]||s(h,{}):(r[h]||{}).prototype)for(u in t){if(d=t[u],f=e.noTargetGet?(p=o(n,u))&&p.value:n[u],!l(y?u:h+(m?".":"#")+u,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;c(d,f)}(e.sham||f&&f.sham)&&i(d,"sham",!0),a(n,u,d,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},7007:(e,t,n)=>{"use strict";n(4916);var r=n(1702),o=n(1320),i=n(2261),a=n(7293),s=n(5112),c=n(8880),l=s("species"),u=RegExp.prototype;e.exports=function(e,t,n,f){var d=s(e),p=!a((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),h=p&&!a((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!p||!h||n){var y=r(/./[d]),m=t(d,""[e],(function(e,t,n,o,a){var s=r(e),c=t.exec;return c===i||c===u.exec?p&&!a?{done:!0,value:y(t,n,o)}:{done:!0,value:s(n,t,o)}:{done:!1}}));o(String.prototype,e,m[0]),o(u,d,m[1])}f&&c(u[d],"sham",!0)}},6790:(e,t,n)=>{"use strict";var r=n(7854),o=n(3157),i=n(6244),a=n(9974),s=r.TypeError,c=function(e,t,n,r,l,u,f,d){for(var p,h,y=l,m=0,b=!!f&&a(f,d);m<r;){if(m in n){if(p=b?b(n[m],m,t):n[m],u>0&&o(p))h=i(p),y=c(e,t,p,h,y,u-1)-1;else{if(y>=9007199254740991)throw s("Exceed the acceptable array length");e[y]=p}y++}m++}return y};e.exports=c},2104:(e,t,n)=>{var r=n(4374),o=Function.prototype,i=o.apply,a=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(i):function(){return a.apply(i,arguments)})},9974:(e,t,n)=>{var r=n(1702),o=n(9662),i=n(4374),a=r(r.bind);e.exports=function(e,t){return o(e),void 0===t?e:i?a(e,t):function(){return e.apply(t,arguments)}}},4374:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},7065:(e,t,n)=>{"use strict";var r=n(7854),o=n(1702),i=n(9662),a=n(111),s=n(2597),c=n(206),l=n(4374),u=r.Function,f=o([].concat),d=o([].join),p={},h=function(e,t,n){if(!s(p,t)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";p[t]=u("C,a","return new C("+d(r,",")+")")}return p[t](e,n)};e.exports=l?u.bind:function(e){var t=i(this),n=t.prototype,r=c(arguments,1),o=function(){var n=f(r,c(arguments));return this instanceof o?h(t,n.length,n):t.apply(e,n)};return a(n)&&(o.prototype=n),o}},6916:(e,t,n)=>{var r=n(4374),o=Function.prototype.call;e.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},6530:(e,t,n)=>{var r=n(9781),o=n(2597),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=o(i,"name"),c=s&&"something"===function(){}.name,l=s&&(!r||r&&a(i,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:l}},1702:(e,t,n)=>{var r=n(4374),o=Function.prototype,i=o.bind,a=o.call,s=r&&i.bind(a,a);e.exports=r?function(e){return e&&s(e)}:function(e){return e&&function(){return a.apply(e,arguments)}}},5005:(e,t,n)=>{var r=n(7854),o=n(614),i=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e]):r[e]&&r[e][t]}},1246:(e,t,n)=>{var r=n(648),o=n(8173),i=n(7497),a=n(5112)("iterator");e.exports=function(e){if(null!=e)return o(e,a)||o(e,"@@iterator")||i[r(e)]}},8554:(e,t,n)=>{var r=n(7854),o=n(6916),i=n(9662),a=n(9670),s=n(6330),c=n(1246),l=r.TypeError;e.exports=function(e,t){var n=arguments.length<2?c(e):t;if(i(n))return a(o(n,e));throw l(s(e)+" is not iterable")}},8173:(e,t,n)=>{var r=n(9662);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},647:(e,t,n)=>{var r=n(1702),o=n(7908),i=Math.floor,a=r("".charAt),s=r("".replace),c=r("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,f,d){var p=n+e.length,h=r.length,y=u;return void 0!==f&&(f=o(f),y=l),s(d,y,(function(o,s){var l;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,n);case"'":return c(t,p);case"<":l=f[c(s,1,-1)];break;default:var u=+s;if(0===u)return o;if(u>h){var d=i(u/10);return 0===d?o:d<=h?void 0===r[d-1]?a(s,1):r[d-1]+a(s,1):o}l=r[u-1]}return void 0===l?"":l}))}},7854:(e,t,n)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:(e,t,n)=>{var r=n(1702),o=n(7908),i=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},3501:e=>{e.exports={}},842:(e,t,n)=>{var r=n(7854);e.exports=function(e,t){var n=r.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},490:(e,t,n)=>{var r=n(5005);e.exports=r("document","documentElement")},4664:(e,t,n)=>{var r=n(9781),o=n(7293),i=n(317);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},8361:(e,t,n)=>{var r=n(7854),o=n(1702),i=n(7293),a=n(4326),s=r.Object,c=o("".split);e.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?c(e,""):s(e)}:s},2788:(e,t,n)=>{var r=n(1702),o=n(614),i=n(5465),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return a(e)}),e.exports=i.inspectSource},9909:(e,t,n)=>{var r,o,i,a=n(8536),s=n(7854),c=n(1702),l=n(111),u=n(8880),f=n(2597),d=n(5465),p=n(6200),h=n(3501),y="Object already initialized",m=s.TypeError,b=s.WeakMap;if(a||d.state){var v=d.state||(d.state=new b),g=c(v.get),w=c(v.has),k=c(v.set);r=function(e,t){if(w(v,e))throw new m(y);return t.facade=e,k(v,e,t),t},o=function(e){return g(v,e)||{}},i=function(e){return w(v,e)}}else{var _=p("state");h[_]=!0,r=function(e,t){if(f(e,_))throw new m(y);return t.facade=e,u(e,_,t),t},o=function(e){return f(e,_)?e[_]:{}},i=function(e){return f(e,_)}}e.exports={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=o(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}}}},7659:(e,t,n)=>{var r=n(5112),o=n(7497),i=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},3157:(e,t,n)=>{var r=n(4326);e.exports=Array.isArray||function(e){return"Array"==r(e)}},614:e=>{e.exports=function(e){return"function"==typeof e}},4411:(e,t,n)=>{var r=n(1702),o=n(7293),i=n(614),a=n(648),s=n(5005),c=n(2788),l=function(){},u=[],f=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,p=r(d.exec),h=!d.exec(l),y=function(e){if(!i(e))return!1;try{return f(l,u,e),!0}catch(e){return!1}},m=function(e){if(!i(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!p(d,c(e))}catch(e){return!0}};m.sham=!0,e.exports=!f||o((function(){var e;return y(y.call)||!y(Object)||!y((function(){e=!0}))||e}))?m:y},5032:(e,t,n)=>{var r=n(2597);e.exports=function(e){return void 0!==e&&(r(e,"value")||r(e,"writable"))}},4705:(e,t,n)=>{var r=n(7293),o=n(614),i=/#|\.prototype\./,a=function(e,t){var n=c[s(e)];return n==u||n!=l&&(o(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},c=a.data={},l=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},111:(e,t,n)=>{var r=n(614);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},1913:e=>{e.exports=!1},7850:(e,t,n)=>{var r=n(111),o=n(4326),i=n(5112)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},2190:(e,t,n)=>{var r=n(7854),o=n(5005),i=n(614),a=n(7976),s=n(3307),c=r.Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=o("Symbol");return i(t)&&a(t.prototype,c(e))}},408:(e,t,n)=>{var r=n(7854),o=n(9974),i=n(6916),a=n(9670),s=n(6330),c=n(7659),l=n(6244),u=n(7976),f=n(8554),d=n(1246),p=n(9212),h=r.TypeError,y=function(e,t){this.stopped=e,this.result=t},m=y.prototype;e.exports=function(e,t,n){var r,b,v,g,w,k,_,O=n&&n.that,S=!(!n||!n.AS_ENTRIES),x=!(!n||!n.IS_ITERATOR),j=!(!n||!n.INTERRUPTED),P=o(t,O),R=function(e){return r&&p(r,"normal",e),new y(!0,e)},C=function(e){return S?(a(e),j?P(e[0],e[1],R):P(e[0],e[1])):j?P(e,R):P(e)};if(x)r=e;else{if(!(b=d(e)))throw h(s(e)+" is not iterable");if(c(b)){for(v=0,g=l(e);g>v;v++)if((w=C(e[v]))&&u(m,w))return w;return new y(!1)}r=f(e,b)}for(k=r.next;!(_=i(k,r)).done;){try{w=C(_.value)}catch(e){p(r,"throw",e)}if("object"==typeof w&&w&&u(m,w))return w}return new y(!1)}},9212:(e,t,n)=>{var r=n(6916),o=n(9670),i=n(8173);e.exports=function(e,t,n){var a,s;o(e);try{if(!(a=i(e,"return"))){if("throw"===t)throw n;return n}a=r(a,e)}catch(e){s=!0,a=e}if("throw"===t)throw n;if(s)throw a;return o(a),n}},3383:(e,t,n)=>{"use strict";var r,o,i,a=n(7293),s=n(614),c=n(30),l=n(9518),u=n(1320),f=n(5112),d=n(1913),p=f("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=l(l(i)))!==Object.prototype&&(r=o):h=!0),null==r||a((function(){var e={};return r[p].call(e)!==e}))?r={}:d&&(r=c(r)),s(r[p])||u(r,p,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},7497:e=>{e.exports={}},6244:(e,t,n)=>{var r=n(7466);e.exports=function(e){return r(e.length)}},5948:(e,t,n)=>{var r,o,i,a,s,c,l,u,f=n(7854),d=n(9974),p=n(1236).f,h=n(261).set,y=n(2872),m=n(1528),b=n(1036),v=n(5268),g=f.MutationObserver||f.WebKitMutationObserver,w=f.document,k=f.process,_=f.Promise,O=p(f,"queueMicrotask"),S=O&&O.value;S||(r=function(){var e,t;for(v&&(e=k.domain)&&e.exit();o;){t=o.fn,o=o.next;try{t()}catch(e){throw o?a():i=void 0,e}}i=void 0,e&&e.enter()},y||v||b||!g||!w?!m&&_&&_.resolve?((l=_.resolve(void 0)).constructor=_,u=d(l.then,l),a=function(){u(r)}):v?a=function(){k.nextTick(r)}:(h=d(h,f),a=function(){h(r)}):(s=!0,c=w.createTextNode(""),new g(r).observe(c,{characterData:!0}),a=function(){c.data=s=!s})),e.exports=S||function(e){var t={fn:e,next:void 0};i&&(i.next=t),o||(o=t,a()),i=t}},735:(e,t,n)=>{var r=n(133);e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},133:(e,t,n)=>{var r=n(7392),o=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},590:(e,t,n)=>{var r=n(7293),o=n(5112),i=n(1913),a=o("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),i&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},8536:(e,t,n)=>{var r=n(7854),o=n(614),i=n(2788),a=r.WeakMap;e.exports=o(a)&&/native code/.test(i(a))},8523:(e,t,n)=>{"use strict";var r=n(9662),o=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new o(e)}},3929:(e,t,n)=>{var r=n(7854),o=n(7850),i=r.TypeError;e.exports=function(e){if(o(e))throw i("The method doesn't accept regular expressions");return e}},3009:(e,t,n)=>{var r=n(7854),o=n(7293),i=n(1702),a=n(1340),s=n(3111).trim,c=n(1361),l=r.parseInt,u=r.Symbol,f=u&&u.iterator,d=/^[+-]?0x/i,p=i(d.exec),h=8!==l(c+"08")||22!==l(c+"0x16")||f&&!o((function(){l(Object(f))}));e.exports=h?function(e,t){var n=s(a(e));return l(n,t>>>0||(p(d,n)?16:10))}:l},1574:(e,t,n)=>{"use strict";var r=n(9781),o=n(1702),i=n(6916),a=n(7293),s=n(1956),c=n(5181),l=n(5296),u=n(7908),f=n(8361),d=Object.assign,p=Object.defineProperty,h=o([].concat);e.exports=!d||a((function(){if(r&&1!==d({b:1},d(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach((function(e){t[e]=e})),7!=d({},e)[n]||s(d({},t)).join("")!=o}))?function(e,t){for(var n=u(e),o=arguments.length,a=1,d=c.f,p=l.f;o>a;)for(var y,m=f(arguments[a++]),b=d?h(s(m),d(m)):s(m),v=b.length,g=0;v>g;)y=b[g++],r&&!i(p,m,y)||(n[y]=m[y]);return n}:d},30:(e,t,n)=>{var r,o=n(9670),i=n(6048),a=n(748),s=n(3501),c=n(490),l=n(317),u=n(6200)("IE_PROTO"),f=function(){},d=function(e){return"<script>"+e+"<\/script>"},p=function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t},h=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t;h="undefined"!=typeof document?document.domain&&r?p(r):((t=l("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F):p(r);for(var n=a.length;n--;)delete h.prototype[a[n]];return h()};s[u]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f.prototype=o(e),n=new f,f.prototype=null,n[u]=e):n=h(),void 0===t?n:i.f(n,t)}},6048:(e,t,n)=>{var r=n(9781),o=n(3353),i=n(3070),a=n(9670),s=n(5656),c=n(1956);t.f=r&&!o?Object.defineProperties:function(e,t){a(e);for(var n,r=s(t),o=c(t),l=o.length,u=0;l>u;)i.f(e,n=o[u++],r[n]);return e}},3070:(e,t,n)=>{var r=n(7854),o=n(9781),i=n(4664),a=n(3353),s=n(9670),c=n(4948),l=r.TypeError,u=Object.defineProperty,f=Object.getOwnPropertyDescriptor;t.f=o?a?function(e,t,n){if(s(e),t=c(t),s(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var r=f(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(s(e),t=c(t),s(n),i)try{return u(e,t,n)}catch(e){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:(e,t,n)=>{var r=n(9781),o=n(6916),i=n(5296),a=n(9114),s=n(5656),c=n(4948),l=n(2597),u=n(4664),f=Object.getOwnPropertyDescriptor;t.f=r?f:function(e,t){if(e=s(e),t=c(t),u)try{return f(e,t)}catch(e){}if(l(e,t))return a(!o(i.f,e,t),e[t])}},1156:(e,t,n)=>{var r=n(4326),o=n(5656),i=n(8006).f,a=n(1589),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==r(e)?function(e){try{return i(e)}catch(e){return a(s)}}(e):i(o(e))}},8006:(e,t,n)=>{var r=n(6324),o=n(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},9518:(e,t,n)=>{var r=n(7854),o=n(2597),i=n(614),a=n(7908),s=n(6200),c=n(8544),l=s("IE_PROTO"),u=r.Object,f=u.prototype;e.exports=c?u.getPrototypeOf:function(e){var t=a(e);if(o(t,l))return t[l];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof u?f:null}},7976:(e,t,n)=>{var r=n(1702);e.exports=r({}.isPrototypeOf)},6324:(e,t,n)=>{var r=n(1702),o=n(2597),i=n(5656),a=n(1318).indexOf,s=n(3501),c=r([].push);e.exports=function(e,t){var n,r=i(e),l=0,u=[];for(n in r)!o(s,n)&&o(r,n)&&c(u,n);for(;t.length>l;)o(r,n=t[l++])&&(~a(u,n)||c(u,n));return u}},1956:(e,t,n)=>{var r=n(6324),o=n(748);e.exports=Object.keys||function(e){return r(e,o)}},5296:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},7674:(e,t,n)=>{var r=n(1702),o=n(9670),i=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return o(n),i(r),t?e(n,r):n.__proto__=r,n}}():void 0)},4699:(e,t,n)=>{var r=n(9781),o=n(1702),i=n(1956),a=n(5656),s=o(n(5296).f),c=o([].push),l=function(e){return function(t){for(var n,o=a(t),l=i(o),u=l.length,f=0,d=[];u>f;)n=l[f++],r&&!s(o,n)||c(d,e?[n,o[n]]:o[n]);return d}};e.exports={entries:l(!0),values:l(!1)}},288:(e,t,n)=>{"use strict";var r=n(1694),o=n(648);e.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},2140:(e,t,n)=>{var r=n(7854),o=n(6916),i=n(614),a=n(111),s=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&i(n=e.toString)&&!a(r=o(n,e)))return r;if(i(n=e.valueOf)&&!a(r=o(n,e)))return r;if("string"!==t&&i(n=e.toString)&&!a(r=o(n,e)))return r;throw s("Can't convert object to primitive value")}},3887:(e,t,n)=>{var r=n(5005),o=n(1702),i=n(8006),a=n(5181),s=n(9670),c=o([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=a.f;return n?c(t,n(e)):t}},857:(e,t,n)=>{var r=n(7854);e.exports=r},2534:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},3702:(e,t,n)=>{var r=n(7854),o=n(2492),i=n(614),a=n(4705),s=n(2788),c=n(5112),l=n(7871),u=n(1913),f=n(7392),d=o&&o.prototype,p=c("species"),h=!1,y=i(r.PromiseRejectionEvent),m=a("Promise",(function(){var e=s(o),t=e!==String(o);if(!t&&66===f)return!0;if(u&&(!d.catch||!d.finally))return!0;if(f>=51&&/native code/.test(e))return!1;var n=new o((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[p]=r,!(h=n.then((function(){}))instanceof r)||!t&&l&&!y}));e.exports={CONSTRUCTOR:m,REJECTION_EVENT:y,SUBCLASSING:h}},2492:(e,t,n)=>{var r=n(7854);e.exports=r.Promise},9478:(e,t,n)=>{var r=n(9670),o=n(111),i=n(8523);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},612:(e,t,n)=>{var r=n(2492),o=n(7072),i=n(3702).CONSTRUCTOR;e.exports=i||!o((function(e){r.all(e).then(void 0,(function(){}))}))},8572:e=>{var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},2248:(e,t,n)=>{var r=n(1320);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},1320:(e,t,n)=>{var r=n(7854),o=n(614),i=n(2597),a=n(8880),s=n(3505),c=n(2788),l=n(9909),u=n(6530).CONFIGURABLE,f=l.get,d=l.enforce,p=String(String).split("String");(e.exports=function(e,t,n,c){var l,f=!!c&&!!c.unsafe,h=!!c&&!!c.enumerable,y=!!c&&!!c.noTargetGet,m=c&&void 0!==c.name?c.name:t;o(n)&&("Symbol("===String(m).slice(0,7)&&(m="["+String(m).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!i(n,"name")||u&&n.name!==m)&&a(n,"name",m),(l=d(n)).source||(l.source=p.join("string"==typeof m?m:""))),e!==r?(f?!y&&e[t]&&(h=!0):delete e[t],h?e[t]=n:a(e,t,n)):h?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return o(this)&&f(this).source||c(this)}))},7651:(e,t,n)=>{var r=n(7854),o=n(6916),i=n(9670),a=n(614),s=n(4326),c=n(2261),l=r.TypeError;e.exports=function(e,t){var n=e.exec;if(a(n)){var r=o(n,e,t);return null!==r&&i(r),r}if("RegExp"===s(e))return o(c,e,t);throw l("RegExp#exec called on incompatible receiver")}},2261:(e,t,n)=>{"use strict";var r,o,i=n(6916),a=n(1702),s=n(1340),c=n(7066),l=n(2999),u=n(2309),f=n(30),d=n(9909).get,p=n(9441),h=n(7168),y=u("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,b=m,v=a("".charAt),g=a("".indexOf),w=a("".replace),k=a("".slice),_=(o=/b*/g,i(m,r=/a/,"a"),i(m,o,"a"),0!==r.lastIndex||0!==o.lastIndex),O=l.BROKEN_CARET,S=void 0!==/()??/.exec("")[1];(_||S||O||p||h)&&(b=function(e){var t,n,r,o,a,l,u,p=this,h=d(p),x=s(e),j=h.raw;if(j)return j.lastIndex=p.lastIndex,t=i(b,j,x),p.lastIndex=j.lastIndex,t;var P=h.groups,R=O&&p.sticky,C=i(c,p),T=p.source,E=0,B=x;if(R&&(C=w(C,"y",""),-1===g(C,"g")&&(C+="g"),B=k(x,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==v(x,p.lastIndex-1))&&(T="(?: "+T+")",B=" "+B,E++),n=new RegExp("^(?:"+T+")",C)),S&&(n=new RegExp("^"+T+"$(?!\\s)",C)),_&&(r=p.lastIndex),o=i(m,R?n:p,B),R?o?(o.input=k(o.input,E),o[0]=k(o[0],E),o.index=p.lastIndex,p.lastIndex+=o[0].length):p.lastIndex=0:_&&o&&(p.lastIndex=p.global?o.index+o[0].length:r),S&&o&&o.length>1&&i(y,o[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(o[a]=void 0)})),o&&P)for(o.groups=l=f(null),a=0;a<P.length;a++)l[(u=P[a])[0]]=o[u[1]];return o}),e.exports=b},7066:(e,t,n)=>{"use strict";var r=n(9670);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},4706:(e,t,n)=>{var r=n(6916),o=n(2597),i=n(7976),a=n(7066),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||o(e,"flags")||!i(s,e)?t:r(a,e)}},2999:(e,t,n)=>{var r=n(7293),o=n(7854).RegExp,i=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=i||r((function(){return!o("a","y").sticky})),s=i||r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:i}},9441:(e,t,n)=>{var r=n(7293),o=n(7854).RegExp;e.exports=r((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},7168:(e,t,n)=>{var r=n(7293),o=n(7854).RegExp;e.exports=r((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},4488:(e,t,n)=>{var r=n(7854).TypeError;e.exports=function(e){if(null==e)throw r("Can't call method on "+e);return e}},1150:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},7152:(e,t,n)=>{var r=n(7854),o=n(2104),i=n(614),a=n(8113),s=n(206),c=n(8053),l=/MSIE .\./.test(a),u=r.Function,f=function(e){return l?function(t,n){var r=c(arguments.length,1)>2,a=i(t)?t:u(t),l=r?s(arguments,2):void 0;return e(r?function(){o(a,this,l)}:a,n)}:e};e.exports={setTimeout:f(r.setTimeout),setInterval:f(r.setInterval)}},3505:(e,t,n)=>{var r=n(7854),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},6340:(e,t,n)=>{"use strict";var r=n(5005),o=n(3070),i=n(5112),a=n(9781),s=i("species");e.exports=function(e){var t=r(e),n=o.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},8003:(e,t,n)=>{var r=n(3070).f,o=n(2597),i=n(5112)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!o(e,i)&&r(e,i,{configurable:!0,value:t})}},6200:(e,t,n)=>{var r=n(2309),o=n(9711),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},5465:(e,t,n)=>{var r=n(7854),o=n(3505),i="__core-js_shared__",a=r[i]||o(i,{});e.exports=a},2309:(e,t,n)=>{var r=n(1913),o=n(5465);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.22.1",mode:r?"pure":"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:(e,t,n)=>{var r=n(9670),o=n(9483),i=n(5112)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[i])?t:o(n)}},3429:(e,t,n)=>{var r=n(7293);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},8710:(e,t,n)=>{var r=n(1702),o=n(9303),i=n(1340),a=n(4488),s=r("".charAt),c=r("".charCodeAt),l=r("".slice),u=function(e){return function(t,n){var r,u,f=i(a(t)),d=o(n),p=f.length;return d<0||d>=p?e?"":void 0:(r=c(f,d))<55296||r>56319||d+1===p||(u=c(f,d+1))<56320||u>57343?e?s(f,d):r:e?l(f,d,d+2):u-56320+(r-55296<<10)+65536}};e.exports={codeAt:u(!1),charAt:u(!0)}},3197:(e,t,n)=>{"use strict";var r=n(7854),o=n(1702),i=2147483647,a=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,c="Overflow: input needs wider integers to process",l=r.RangeError,u=o(s.exec),f=Math.floor,d=String.fromCharCode,p=o("".charCodeAt),h=o([].join),y=o([].push),m=o("".replace),b=o("".split),v=o("".toLowerCase),g=function(e){return e+22+75*(e<26)},w=function(e,t,n){var r=0;for(e=n?f(e/700):e>>1,e+=f(e/t);e>455;)e=f(e/35),r+=36;return f(r+36*e/(e+38))},k=function(e){var t=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=p(e,n++);if(o>=55296&&o<=56319&&n<r){var i=p(e,n++);56320==(64512&i)?y(t,((1023&o)<<10)+(1023&i)+65536):(y(t,o),n--)}else y(t,o)}return t}(e);var n,r,o=e.length,a=128,s=0,u=72;for(n=0;n<e.length;n++)(r=e[n])<128&&y(t,d(r));var m=t.length,b=m;for(m&&y(t,"-");b<o;){var v=i;for(n=0;n<e.length;n++)(r=e[n])>=a&&r<v&&(v=r);var k=b+1;if(v-a>f((i-s)/k))throw l(c);for(s+=(v-a)*k,a=v,n=0;n<e.length;n++){if((r=e[n])<a&&++s>i)throw l(c);if(r==a){for(var _=s,O=36;;){var S=O<=u?1:O>=u+26?26:O-u;if(_<S)break;var x=_-S,j=36-S;y(t,d(g(S+x%j))),_=f(x/j),O+=36}y(t,d(g(_))),u=w(s,k,b==m),s=0,b++}}s++,a++}return h(t,"")};e.exports=function(e){var t,n,r=[],o=b(m(v(e),s,"."),".");for(t=0;t<o.length;t++)n=o[t],y(r,u(a,n)?"xn--"+k(n):n);return h(r,".")}},8415:(e,t,n)=>{"use strict";var r=n(7854),o=n(9303),i=n(1340),a=n(4488),s=r.RangeError;e.exports=function(e){var t=i(a(this)),n="",r=o(e);if(r<0||r==1/0)throw s("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}},3111:(e,t,n)=>{var r=n(1702),o=n(4488),i=n(1340),a=n(1361),s=r("".replace),c="["+a+"]",l=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),f=function(e){return function(t){var n=i(o(t));return 1&e&&(n=s(n,l,"")),2&e&&(n=s(n,u,"")),n}};e.exports={start:f(1),end:f(2),trim:f(3)}},6532:(e,t,n)=>{var r=n(6916),o=n(5005),i=n(5112),a=n(1320);e.exports=function(){var e=o("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,s=i("toPrimitive");t&&!t[s]&&a(t,s,(function(e){return r(n,this)}))}},261:(e,t,n)=>{var r,o,i,a,s=n(7854),c=n(2104),l=n(9974),u=n(614),f=n(2597),d=n(7293),p=n(490),h=n(206),y=n(317),m=n(8053),b=n(2872),v=n(5268),g=s.setImmediate,w=s.clearImmediate,k=s.process,_=s.Dispatch,O=s.Function,S=s.MessageChannel,x=s.String,j=0,P={};try{r=s.location}catch(e){}var R=function(e){if(f(P,e)){var t=P[e];delete P[e],t()}},C=function(e){return function(){R(e)}},T=function(e){R(e.data)},E=function(e){s.postMessage(x(e),r.protocol+"//"+r.host)};g&&w||(g=function(e){m(arguments.length,1);var t=u(e)?e:O(e),n=h(arguments,1);return P[++j]=function(){c(t,void 0,n)},o(j),j},w=function(e){delete P[e]},v?o=function(e){k.nextTick(C(e))}:_&&_.now?o=function(e){_.now(C(e))}:S&&!b?(a=(i=new S).port2,i.port1.onmessage=T,o=l(a.postMessage,a)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!d(E)?(o=E,s.addEventListener("message",T,!1)):o="onreadystatechange"in y("script")?function(e){p.appendChild(y("script")).onreadystatechange=function(){p.removeChild(this),R(e)}}:function(e){setTimeout(C(e),0)}),e.exports={set:g,clear:w}},1400:(e,t,n)=>{var r=n(9303),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},5656:(e,t,n)=>{var r=n(8361),o=n(4488);e.exports=function(e){return r(o(e))}},9303:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){var r=+e;return r!=r||0===r?0:(r>0?n:t)(r)}},7466:(e,t,n)=>{var r=n(9303),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},7908:(e,t,n)=>{var r=n(7854),o=n(4488),i=r.Object;e.exports=function(e){return i(o(e))}},7593:(e,t,n)=>{var r=n(7854),o=n(6916),i=n(111),a=n(2190),s=n(8173),c=n(2140),l=n(5112),u=r.TypeError,f=l("toPrimitive");e.exports=function(e,t){if(!i(e)||a(e))return e;var n,r=s(e,f);if(r){if(void 0===t&&(t="default"),n=o(r,e,t),!i(n)||a(n))return n;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),c(e,t)}},4948:(e,t,n)=>{var r=n(7593),o=n(2190);e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},1694:(e,t,n)=>{var r={};r[n(5112)("toStringTag")]="z",e.exports="[object z]"===String(r)},1340:(e,t,n)=>{var r=n(7854),o=n(648),i=r.String;e.exports=function(e){if("Symbol"===o(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},6330:(e,t,n)=>{var r=n(7854).String;e.exports=function(e){try{return r(e)}catch(e){return"Object"}}},9711:(e,t,n)=>{var r=n(1702),o=0,i=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++o+i,36)}},3307:(e,t,n)=>{var r=n(133);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(e,t,n)=>{var r=n(9781),o=n(7293);e.exports=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:(e,t,n)=>{var r=n(7854).TypeError;e.exports=function(e,t){if(e<t)throw r("Not enough arguments");return e}},6061:(e,t,n)=>{var r=n(5112);t.f=r},5112:(e,t,n)=>{var r=n(7854),o=n(2309),i=n(2597),a=n(9711),s=n(133),c=n(3307),l=o("wks"),u=r.Symbol,f=u&&u.for,d=c?u:u&&u.withoutSetter||a;e.exports=function(e){if(!i(l,e)||!s&&"string"!=typeof l[e]){var t="Symbol."+e;s&&i(u,e)?l[e]=u[e]:l[e]=c&&f?f(t):d(t)}return l[e]}},1361:e=>{e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},2222:(e,t,n)=>{"use strict";var r=n(2109),o=n(7854),i=n(7293),a=n(3157),s=n(111),c=n(7908),l=n(6244),u=n(6135),f=n(5417),d=n(1194),p=n(5112),h=n(7392),y=p("isConcatSpreadable"),m=9007199254740991,b="Maximum allowed index exceeded",v=o.TypeError,g=h>=51||!i((function(){var e=[];return e[y]=!1,e.concat()[0]!==e})),w=d("concat"),k=function(e){if(!s(e))return!1;var t=e[y];return void 0!==t?!!t:a(e)};r({target:"Array",proto:!0,forced:!g||!w},{concat:function(e){var t,n,r,o,i,a=c(this),s=f(a,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(k(i=-1===t?a:arguments[t])){if(d+(o=l(i))>m)throw v(b);for(n=0;n<o;n++,d++)n in i&&u(s,d,i[n])}else{if(d>=m)throw v(b);u(s,d++,i)}return s.length=d,s}})},7327:(e,t,n)=>{"use strict";var r=n(2109),o=n(2092).filter;r({target:"Array",proto:!0,forced:!n(1194)("filter")},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},9826:(e,t,n)=>{"use strict";var r=n(2109),o=n(2092).find,i=n(1223),a="find",s=!0;a in[]&&Array(1).find((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i(a)},4944:(e,t,n)=>{"use strict";var r=n(2109),o=n(6790),i=n(7908),a=n(6244),s=n(9303),c=n(5417);r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=i(this),n=a(t),r=c(t,0);return r.length=o(r,t,t,n,0,void 0===e?1:s(e)),r}})},9554:(e,t,n)=>{"use strict";var r=n(2109),o=n(8533);r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},1038:(e,t,n)=>{var r=n(2109),o=n(8457);r({target:"Array",stat:!0,forced:!n(7072)((function(e){Array.from(e)}))},{from:o})},6699:(e,t,n)=>{"use strict";var r=n(2109),o=n(1318).includes,i=n(1223);r({target:"Array",proto:!0},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},2772:(e,t,n)=>{"use strict";var r=n(2109),o=n(1702),i=n(1318).indexOf,a=n(9341),s=o([].indexOf),c=!!s&&1/s([1],1,-0)<0,l=a("indexOf");r({target:"Array",proto:!0,forced:c||!l},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return c?s(this,e,t)||0:i(this,e,t)}})},9753:(e,t,n)=>{n(2109)({target:"Array",stat:!0},{isArray:n(3157)})},6992:(e,t,n)=>{"use strict";var r=n(5656),o=n(1223),i=n(7497),a=n(9909),s=n(3070).f,c=n(654),l=n(1913),u=n(9781),f="Array Iterator",d=a.set,p=a.getterFor(f);e.exports=c(Array,"Array",(function(e,t){d(this,{type:f,target:r(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");var h=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!l&&u&&"values"!==h.name)try{s(h,"name",{value:"values"})}catch(e){}},9600:(e,t,n)=>{"use strict";var r=n(2109),o=n(1702),i=n(8361),a=n(5656),s=n(9341),c=o([].join),l=i!=Object,u=s("join",",");r({target:"Array",proto:!0,forced:l||!u},{join:function(e){return c(a(this),void 0===e?",":e)}})},1249:(e,t,n)=>{"use strict";var r=n(2109),o=n(2092).map;r({target:"Array",proto:!0,forced:!n(1194)("map")},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},7042:(e,t,n)=>{"use strict";var r=n(2109),o=n(7854),i=n(3157),a=n(4411),s=n(111),c=n(1400),l=n(6244),u=n(5656),f=n(6135),d=n(5112),p=n(1194),h=n(206),y=p("slice"),m=d("species"),b=o.Array,v=Math.max;r({target:"Array",proto:!0,forced:!y},{slice:function(e,t){var n,r,o,d=u(this),p=l(d),y=c(e,p),g=c(void 0===t?p:t,p);if(i(d)&&(n=d.constructor,(a(n)&&(n===b||i(n.prototype))||s(n)&&null===(n=n[m]))&&(n=void 0),n===b||void 0===n))return h(d,y,g);for(r=new(void 0===n?b:n)(v(g-y,0)),o=0;y<g;y++,o++)y in d&&f(r,o,d[y]);return r.length=o,r}})},5212:(e,t,n)=>{"use strict";var r=n(2109),o=n(2092).some;r({target:"Array",proto:!0,forced:!n(9341)("some")},{some:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},2707:(e,t,n)=>{"use strict";var r=n(2109),o=n(1702),i=n(9662),a=n(7908),s=n(6244),c=n(1340),l=n(7293),u=n(4362),f=n(9341),d=n(8886),p=n(256),h=n(7392),y=n(8008),m=[],b=o(m.sort),v=o(m.push),g=l((function(){m.sort(void 0)})),w=l((function(){m.sort(null)})),k=f("sort"),_=!l((function(){if(h)return h<70;if(!(d&&d>3)){if(p)return!0;if(y)return y<603;var e,t,n,r,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)m.push({k:t+r,v:n})}for(m.sort((function(e,t){return t.v-e.v})),r=0;r<m.length;r++)t=m[r].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}}));r({target:"Array",proto:!0,forced:g||!w||!k||!_},{sort:function(e){void 0!==e&&i(e);var t=a(this);if(_)return void 0===e?b(t):b(t,e);var n,r,o=[],l=s(t);for(r=0;r<l;r++)r in t&&v(o,t[r]);for(u(o,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:c(t)>c(n)?1:-1}}(e)),n=o.length,r=0;r<n;)t[r]=o[r++];for(;r<l;)delete t[r++];return t}})},561:(e,t,n)=>{"use strict";var r=n(2109),o=n(7854),i=n(1400),a=n(9303),s=n(6244),c=n(7908),l=n(5417),u=n(6135),f=n(1194)("splice"),d=o.TypeError,p=Math.max,h=Math.min,y=9007199254740991,m="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var n,r,o,f,b,v,g=c(this),w=s(g),k=i(e,w),_=arguments.length;if(0===_?n=r=0:1===_?(n=0,r=w-k):(n=_-2,r=h(p(a(t),0),w-k)),w+n-r>y)throw d(m);for(o=l(g,r),f=0;f<r;f++)(b=k+f)in g&&u(o,f,g[b]);if(o.length=r,n<r){for(f=k;f<w-r;f++)v=f+n,(b=f+r)in g?g[v]=g[b]:delete g[v];for(f=w;f>w-r+n;f--)delete g[f-1]}else if(n>r)for(f=w-r;f>k;f--)v=f+n-1,(b=f+r-1)in g?g[v]=g[b]:delete g[v];for(f=0;f<n;f++)g[f+k]=arguments[f+2];return g.length=w-r+n,o}})},3792:(e,t,n)=>{n(1223)("flat")},3843:(e,t,n)=>{var r=n(2109),o=n(7854),i=n(1702),a=o.Date,s=i(a.prototype.getTime);r({target:"Date",stat:!0},{now:function(){return s(new a)}})},3710:(e,t,n)=>{var r=n(1702),o=n(1320),i=Date.prototype,a="Invalid Date",s=r(i.toString),c=r(i.getTime);String(new Date(NaN))!=a&&o(i,"toString",(function(){var e=c(this);return e==e?s(this):a}))},4812:(e,t,n)=>{var r=n(2109),o=n(7065);r({target:"Function",proto:!0,forced:Function.bind!==o},{bind:o})},8309:(e,t,n)=>{var r=n(9781),o=n(6530).EXISTS,i=n(1702),a=n(3070).f,s=Function.prototype,c=i(s.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=i(l.exec);r&&!o&&a(s,"name",{configurable:!0,get:function(){try{return u(l,c(this))[1]}catch(e){return""}}})},8862:(e,t,n)=>{var r=n(2109),o=n(5005),i=n(2104),a=n(6916),s=n(1702),c=n(7293),l=n(3157),u=n(614),f=n(111),d=n(2190),p=n(206),h=n(133),y=o("JSON","stringify"),m=s(/./.exec),b=s("".charAt),v=s("".charCodeAt),g=s("".replace),w=s(1..toString),k=/[\uD800-\uDFFF]/g,_=/^[\uD800-\uDBFF]$/,O=/^[\uDC00-\uDFFF]$/,S=!h||c((function(){var e=o("Symbol")();return"[null]"!=y([e])||"{}"!=y({a:e})||"{}"!=y(Object(e))})),x=c((function(){return'"\\udf06\\ud834"'!==y("\udf06\ud834")||'"\\udead"'!==y("\udead")})),j=function(e,t){var n=p(arguments),r=t;if((f(t)||void 0!==e)&&!d(e))return l(t)||(t=function(e,t){if(u(r)&&(t=a(r,this,e,t)),!d(t))return t}),n[1]=t,i(y,null,n)},P=function(e,t,n){var r=b(n,t-1),o=b(n,t+1);return m(_,e)&&!m(O,o)||m(O,e)&&!m(_,r)?"\\u"+w(v(e,0),16):e};y&&r({target:"JSON",stat:!0,forced:S||x},{stringify:function(e,t,n){var r=p(arguments),o=i(S?j:y,null,r);return x&&"string"==typeof o?g(o,k,P):o}})},9601:(e,t,n)=>{var r=n(2109),o=n(1574);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},8011:(e,t,n)=>{n(2109)({target:"Object",stat:!0,sham:!n(9781)},{create:n(30)})},3321:(e,t,n)=>{var r=n(2109),o=n(9781),i=n(6048).f;r({target:"Object",stat:!0,forced:Object.defineProperties!==i,sham:!o},{defineProperties:i})},9070:(e,t,n)=>{var r=n(2109),o=n(9781),i=n(3070).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!o},{defineProperty:i})},9720:(e,t,n)=>{var r=n(2109),o=n(4699).entries;r({target:"Object",stat:!0},{entries:function(e){return o(e)}})},8559:(e,t,n)=>{var r=n(2109),o=n(408),i=n(6135);r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return o(e,(function(e,n){i(t,e,n)}),{AS_ENTRIES:!0}),t}})},5003:(e,t,n)=>{var r=n(2109),o=n(7293),i=n(5656),a=n(1236).f,s=n(9781),c=o((function(){a(1)}));r({target:"Object",stat:!0,forced:!s||c,sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(i(e),t)}})},9337:(e,t,n)=>{var r=n(2109),o=n(9781),i=n(3887),a=n(5656),s=n(1236),c=n(6135);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(e){for(var t,n,r=a(e),o=s.f,l=i(r),u={},f=0;l.length>f;)void 0!==(n=o(r,t=l[f++]))&&c(u,t,n);return u}})},9660:(e,t,n)=>{var r=n(2109),o=n(133),i=n(7293),a=n(5181),s=n(7908);r({target:"Object",stat:!0,forced:!o||i((function(){a.f(1)}))},{getOwnPropertySymbols:function(e){var t=a.f;return t?t(s(e)):[]}})},489:(e,t,n)=>{var r=n(2109),o=n(7293),i=n(7908),a=n(9518),s=n(8544);r({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!s},{getPrototypeOf:function(e){return a(i(e))}})},7941:(e,t,n)=>{var r=n(2109),o=n(7908),i=n(1956);r({target:"Object",stat:!0,forced:n(7293)((function(){i(1)}))},{keys:function(e){return i(o(e))}})},8304:(e,t,n)=>{n(2109)({target:"Object",stat:!0},{setPrototypeOf:n(7674)})},1539:(e,t,n)=>{var r=n(1694),o=n(1320),i=n(288);r||o(Object.prototype,"toString",i,{unsafe:!0})},6833:(e,t,n)=>{var r=n(2109),o=n(4699).values;r({target:"Object",stat:!0},{values:function(e){return o(e)}})},1058:(e,t,n)=>{var r=n(2109),o=n(3009);r({global:!0,forced:parseInt!=o},{parseInt:o})},821:(e,t,n)=>{"use strict";var r=n(2109),o=n(6916),i=n(9662),a=n(8523),s=n(2534),c=n(408);r({target:"Promise",stat:!0,forced:n(612)},{all:function(e){var t=this,n=a.f(t),r=n.resolve,l=n.reject,u=s((function(){var n=i(t.resolve),a=[],s=0,u=1;c(e,(function(e){var i=s++,c=!1;u++,o(n,t,e).then((function(e){c||(c=!0,a[i]=e,--u||r(a))}),l)})),--u||r(a)}));return u.error&&l(u.value),n.promise}})},4164:(e,t,n)=>{"use strict";var r=n(2109),o=n(1913),i=n(3702).CONSTRUCTOR,a=n(2492),s=n(5005),c=n(614),l=n(1320),u=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(e){return this.then(void 0,e)}}),!o&&c(a)){var f=s("Promise").prototype.catch;u.catch!==f&&l(u,"catch",f,{unsafe:!0})}},3401:(e,t,n)=>{"use strict";var r,o,i,a=n(2109),s=n(1913),c=n(5268),l=n(7854),u=n(6916),f=n(1320),d=n(2248),p=n(7674),h=n(8003),y=n(6340),m=n(9662),b=n(614),v=n(111),g=n(5787),w=n(6707),k=n(261).set,_=n(5948),O=n(842),S=n(2534),x=n(8572),j=n(9909),P=n(2492),R=n(3702),C=n(8523),T="Promise",E=R.CONSTRUCTOR,B=R.REJECTION_EVENT,A=R.SUBCLASSING,F=j.getterFor(T),I=j.set,z=P&&P.prototype,M=P,D=z,L=l.TypeError,N=l.document,Z=l.process,X=C.f,Y=X,W=!!(N&&N.createEvent&&l.dispatchEvent),H="unhandledrejection",U=function(e){var t;return!(!v(e)||!b(t=e.then))&&t},G=function(e,t){var n,r,o,i=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,l=e.reject,f=e.domain;try{s?(a||(2===t.rejection&&J(t),t.rejection=1),!0===s?n=i:(f&&f.enter(),n=s(i),f&&(f.exit(),o=!0)),n===e.promise?l(L("Promise-chain cycle")):(r=U(n))?u(r,n,c,l):c(n)):l(i)}catch(e){f&&!o&&f.exit(),l(e)}},q=function(e,t){e.notified||(e.notified=!0,_((function(){for(var n,r=e.reactions;n=r.get();)G(n,e);e.notified=!1,t&&!e.rejection&&$(e)})))},V=function(e,t,n){var r,o;W?((r=N.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},!B&&(o=l["on"+e])?o(r):e===H&&O("Unhandled promise rejection",n)},$=function(e){u(k,l,(function(){var t,n=e.facade,r=e.value;if(K(e)&&(t=S((function(){c?Z.emit("unhandledRejection",r,n):V(H,n,r)})),e.rejection=c||K(e)?2:1,t.error))throw t.value}))},K=function(e){return 1!==e.rejection&&!e.parent},J=function(e){u(k,l,(function(){var t=e.facade;c?Z.emit("rejectionHandled",t):V("rejectionhandled",t,e.value)}))},Q=function(e,t,n){return function(r){e(t,r,n)}},ee=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,q(e,!0))},te=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw L("Promise can't be resolved itself");var r=U(t);r?_((function(){var n={done:!1};try{u(r,t,Q(te,n,e),Q(ee,n,e))}catch(t){ee(n,t,e)}})):(e.value=t,e.state=1,q(e,!1))}catch(t){ee({done:!1},t,e)}}};if(E&&(D=(M=function(e){g(this,D),m(e),u(r,this);var t=F(this);try{e(Q(te,t),Q(ee,t))}catch(e){ee(t,e)}}).prototype,(r=function(e){I(this,{type:T,done:!1,notified:!1,parent:!1,reactions:new x,rejection:!1,state:0,value:void 0})}).prototype=d(D,{then:function(e,t){var n=F(this),r=X(w(this,M));return n.parent=!0,r.ok=!b(e)||e,r.fail=b(t)&&t,r.domain=c?Z.domain:void 0,0==n.state?n.reactions.add(r):_((function(){G(r,n)})),r.promise}}),o=function(){var e=new r,t=F(e);this.promise=e,this.resolve=Q(te,t),this.reject=Q(ee,t)},C.f=X=function(e){return e===M||void 0===e?new o(e):Y(e)},!s&&b(P)&&z!==Object.prototype)){i=z.then,A||f(z,"then",(function(e,t){var n=this;return new M((function(e,t){u(i,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete z.constructor}catch(e){}p&&p(z,D)}a({global:!0,wrap:!0,forced:E},{Promise:M}),h(M,T,!1,!0),y(T)},8674:(e,t,n)=>{n(3401),n(821),n(4164),n(6027),n(683),n(6294)},6027:(e,t,n)=>{"use strict";var r=n(2109),o=n(6916),i=n(9662),a=n(8523),s=n(2534),c=n(408);r({target:"Promise",stat:!0,forced:n(612)},{race:function(e){var t=this,n=a.f(t),r=n.reject,l=s((function(){var a=i(t.resolve);c(e,(function(e){o(a,t,e).then(n.resolve,r)}))}));return l.error&&r(l.value),n.promise}})},683:(e,t,n)=>{"use strict";var r=n(2109),o=n(6916),i=n(8523);r({target:"Promise",stat:!0,forced:n(3702).CONSTRUCTOR},{reject:function(e){var t=i.f(this);return o(t.reject,void 0,e),t.promise}})},6294:(e,t,n)=>{"use strict";var r=n(2109),o=n(5005),i=n(1913),a=n(2492),s=n(3702).CONSTRUCTOR,c=n(9478),l=o("Promise"),u=i&&!s;r({target:"Promise",stat:!0,forced:i||s},{resolve:function(e){return c(u&&this===l?a:this,e)}})},2419:(e,t,n)=>{var r=n(2109),o=n(5005),i=n(2104),a=n(7065),s=n(9483),c=n(9670),l=n(111),u=n(30),f=n(7293),d=o("Reflect","construct"),p=Object.prototype,h=[].push,y=f((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),m=!f((function(){d((function(){}))})),b=y||m;r({target:"Reflect",stat:!0,forced:b,sham:b},{construct:function(e,t){s(e),c(t);var n=arguments.length<3?e:s(arguments[2]);if(m&&!y)return d(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return i(h,r,t),new(i(a,e,r))}var o=n.prototype,f=u(l(o)?o:p),b=i(e,f,t);return l(b)?b:f}})},4819:(e,t,n)=>{var r=n(2109),o=n(6916),i=n(111),a=n(9670),s=n(5032),c=n(1236),l=n(9518);r({target:"Reflect",stat:!0},{get:function e(t,n){var r,u,f=arguments.length<3?t:arguments[2];return a(t)===f?t[n]:(r=c.f(t,n))?s(r)?r.value:void 0===r.get?void 0:o(r.get,f):i(u=l(t))?e(u,n,f):void 0}})},4916:(e,t,n)=>{"use strict";var r=n(2109),o=n(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},9714:(e,t,n)=>{"use strict";var r=n(6530).PROPER,o=n(1320),i=n(9670),a=n(1340),s=n(7293),c=n(4706),l="toString",u=RegExp.prototype.toString,f=s((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),d=r&&u.name!=l;(f||d)&&o(RegExp.prototype,l,(function(){var e=i(this);return"/"+a(e.source)+"/"+a(c(e))}),{unsafe:!0})},915:(e,t,n)=>{"use strict";var r=n(2109),o=n(4230);r({target:"String",proto:!0,forced:n(3429)("bold")},{bold:function(){return o(this,"b","","")}})},2023:(e,t,n)=>{"use strict";var r=n(2109),o=n(1702),i=n(3929),a=n(4488),s=n(1340),c=n(4964),l=o("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~l(s(a(this)),s(i(e)),arguments.length>1?arguments[1]:void 0)}})},8783:(e,t,n)=>{"use strict";var r=n(8710).charAt,o=n(1340),i=n(9909),a=n(654),s="String Iterator",c=i.set,l=i.getterFor(s);a(String,"String",(function(e){c(this,{type:s,string:o(e),index:0})}),(function(){var e,t=l(this),n=t.string,o=t.index;return o>=n.length?{value:void 0,done:!0}:(e=r(n,o),t.index+=e.length,{value:e,done:!1})}))},2481:(e,t,n)=>{n(2109)({target:"String",proto:!0},{repeat:n(8415)})},8757:(e,t,n)=>{"use strict";var r=n(2109),o=n(7854),i=n(6916),a=n(1702),s=n(4488),c=n(614),l=n(7850),u=n(1340),f=n(8173),d=n(4706),p=n(647),h=n(5112),y=n(1913),m=h("replace"),b=o.TypeError,v=a("".indexOf),g=a("".replace),w=a("".slice),k=Math.max,_=function(e,t,n){return n>e.length?-1:""===t?n:v(e,t,n)};r({target:"String",proto:!0},{replaceAll:function(e,t){var n,r,o,a,h,O,S,x,j,P=s(this),R=0,C=0,T="";if(null!=e){if((n=l(e))&&(r=u(s(d(e))),!~v(r,"g")))throw b("`.replaceAll` does not allow non-global regexes");if(o=f(e,m))return i(o,e,P,t);if(y&&n)return g(u(P),e,t)}for(a=u(P),h=u(e),(O=c(t))||(t=u(t)),S=h.length,x=k(1,S),R=_(a,h,0);-1!==R;)j=O?u(t(h,R,a)):p(h,a,R,[],void 0,t),T+=w(a,C,R)+j,C=R+S,R=_(a,h,R+x);return C<a.length&&(T+=w(a,C)),T}})},5306:(e,t,n)=>{"use strict";var r=n(2104),o=n(6916),i=n(1702),a=n(7007),s=n(7293),c=n(9670),l=n(614),u=n(9303),f=n(7466),d=n(1340),p=n(4488),h=n(1530),y=n(8173),m=n(647),b=n(7651),v=n(5112)("replace"),g=Math.max,w=Math.min,k=i([].concat),_=i([].push),O=i("".indexOf),S=i("".slice),x="$0"==="a".replace(/./,"$0"),j=!!/./[v]&&""===/./[v]("a","$0");a("replace",(function(e,t,n){var i=j?"$":"$0";return[function(e,n){var r=p(this),i=null==e?void 0:y(e,v);return i?o(i,e,r,n):o(t,d(r),e,n)},function(e,o){var a=c(this),s=d(e);if("string"==typeof o&&-1===O(o,i)&&-1===O(o,"$<")){var p=n(t,a,s,o);if(p.done)return p.value}var y=l(o);y||(o=d(o));var v=a.global;if(v){var x=a.unicode;a.lastIndex=0}for(var j=[];;){var P=b(a,s);if(null===P)break;if(_(j,P),!v)break;""===d(P[0])&&(a.lastIndex=h(s,f(a.lastIndex),x))}for(var R,C="",T=0,E=0;E<j.length;E++){for(var B=d((P=j[E])[0]),A=g(w(u(P.index),s.length),0),F=[],I=1;I<P.length;I++)_(F,void 0===(R=P[I])?R:String(R));var z=P.groups;if(y){var M=k([B],F,A,s);void 0!==z&&_(M,z);var D=d(r(o,void 0,M))}else D=m(B,s,A,F,z,o);A>=T&&(C+=S(s,T,A)+D,T=A+B.length)}return C+S(s,T)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!x||j)},4765:(e,t,n)=>{"use strict";var r=n(6916),o=n(7007),i=n(9670),a=n(4488),s=n(1150),c=n(1340),l=n(8173),u=n(7651);o("search",(function(e,t,n){return[function(t){var n=a(this),o=null==t?void 0:l(t,e);return o?r(o,t,n):new RegExp(t)[e](c(n))},function(e){var r=i(this),o=c(e),a=n(t,r,o);if(a.done)return a.value;var l=r.lastIndex;s(l,0)||(r.lastIndex=0);var f=u(r,o);return s(r.lastIndex,l)||(r.lastIndex=l),null===f?-1:f.index}]}))},3123:(e,t,n)=>{"use strict";var r=n(2104),o=n(6916),i=n(1702),a=n(7007),s=n(7850),c=n(9670),l=n(4488),u=n(6707),f=n(1530),d=n(7466),p=n(1340),h=n(8173),y=n(1589),m=n(7651),b=n(2261),v=n(2999),g=n(7293),w=v.UNSUPPORTED_Y,k=4294967295,_=Math.min,O=[].push,S=i(/./.exec),x=i(O),j=i("".slice);a("split",(function(e,t,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var i=p(l(this)),a=void 0===n?k:n>>>0;if(0===a)return[];if(void 0===e)return[i];if(!s(e))return o(t,i,e,a);for(var c,u,f,d=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,v=new RegExp(e.source,h+"g");(c=o(b,v,i))&&!((u=v.lastIndex)>m&&(x(d,j(i,m,c.index)),c.length>1&&c.index<i.length&&r(O,d,y(c,1)),f=c[0].length,m=u,d.length>=a));)v.lastIndex===c.index&&v.lastIndex++;return m===i.length?!f&&S(v,"")||x(d,""):x(d,j(i,m)),d.length>a?y(d,0,a):d}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:o(t,this,e,n)}:t,[function(t,n){var r=l(this),a=null==t?void 0:h(t,e);return a?o(a,t,r,n):o(i,p(r),t,n)},function(e,r){var o=c(this),a=p(e),s=n(i,o,a,r,i!==t);if(s.done)return s.value;var l=u(o,RegExp),h=o.unicode,y=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(w?"g":"y"),b=new l(w?"^(?:"+o.source+")":o,y),v=void 0===r?k:r>>>0;if(0===v)return[];if(0===a.length)return null===m(b,a)?[a]:[];for(var g=0,O=0,S=[];O<a.length;){b.lastIndex=w?0:O;var P,R=m(b,w?j(a,O):a);if(null===R||(P=_(d(b.lastIndex+(w?O:0)),a.length))===g)O=f(a,O,h);else{if(x(S,j(a,g,O)),S.length===v)return S;for(var C=1;C<=R.length-1;C++)if(x(S,R[C]),S.length===v)return S;O=g=P}}return x(S,j(a,g)),S}]}),!!g((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),w)},4032:(e,t,n)=>{"use strict";var r=n(2109),o=n(7854),i=n(6916),a=n(1702),s=n(1913),c=n(9781),l=n(133),u=n(7293),f=n(2597),d=n(7976),p=n(9670),h=n(5656),y=n(4948),m=n(1340),b=n(9114),v=n(30),g=n(1956),w=n(8006),k=n(1156),_=n(5181),O=n(1236),S=n(3070),x=n(6048),j=n(5296),P=n(1320),R=n(2309),C=n(6200),T=n(3501),E=n(9711),B=n(5112),A=n(6061),F=n(7235),I=n(6532),z=n(8003),M=n(9909),D=n(2092).forEach,L=C("hidden"),N="Symbol",Z=M.set,X=M.getterFor(N),Y=Object.prototype,W=o.Symbol,H=W&&W.prototype,U=o.TypeError,G=o.QObject,q=O.f,V=S.f,$=k.f,K=j.f,J=a([].push),Q=R("symbols"),ee=R("op-symbols"),te=R("wks"),ne=!G||!G.prototype||!G.prototype.findChild,re=c&&u((function(){return 7!=v(V({},"a",{get:function(){return V(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=q(Y,t);r&&delete Y[t],V(e,t,n),r&&e!==Y&&V(Y,t,r)}:V,oe=function(e,t){var n=Q[e]=v(H);return Z(n,{type:N,tag:e,description:t}),c||(n.description=t),n},ie=function(e,t,n){e===Y&&ie(ee,t,n),p(e);var r=y(t);return p(n),f(Q,r)?(n.enumerable?(f(e,L)&&e[L][r]&&(e[L][r]=!1),n=v(n,{enumerable:b(0,!1)})):(f(e,L)||V(e,L,b(1,{})),e[L][r]=!0),re(e,r,n)):V(e,r,n)},ae=function(e,t){p(e);var n=h(t),r=g(n).concat(ue(n));return D(r,(function(t){c&&!i(se,n,t)||ie(e,t,n[t])})),e},se=function(e){var t=y(e),n=i(K,this,t);return!(this===Y&&f(Q,t)&&!f(ee,t))&&(!(n||!f(this,t)||!f(Q,t)||f(this,L)&&this[L][t])||n)},ce=function(e,t){var n=h(e),r=y(t);if(n!==Y||!f(Q,r)||f(ee,r)){var o=q(n,r);return!o||!f(Q,r)||f(n,L)&&n[L][r]||(o.enumerable=!0),o}},le=function(e){var t=$(h(e)),n=[];return D(t,(function(e){f(Q,e)||f(T,e)||J(n,e)})),n},ue=function(e){var t=e===Y,n=$(t?ee:h(e)),r=[];return D(n,(function(e){!f(Q,e)||t&&!f(Y,e)||J(r,Q[e])})),r};l||(P(H=(W=function(){if(d(H,this))throw U("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?m(arguments[0]):void 0,t=E(e),n=function(e){this===Y&&i(n,ee,e),f(this,L)&&f(this[L],t)&&(this[L][t]=!1),re(this,t,b(1,e))};return c&&ne&&re(Y,t,{configurable:!0,set:n}),oe(t,e)}).prototype,"toString",(function(){return X(this).tag})),P(W,"withoutSetter",(function(e){return oe(E(e),e)})),j.f=se,S.f=ie,x.f=ae,O.f=ce,w.f=k.f=le,_.f=ue,A.f=function(e){return oe(B(e),e)},c&&(V(H,"description",{configurable:!0,get:function(){return X(this).description}}),s||P(Y,"propertyIsEnumerable",se,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:W}),D(g(te),(function(e){F(e)})),r({target:N,stat:!0,forced:!l},{useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!c},{create:function(e,t){return void 0===t?v(e):ae(v(e),t)},defineProperty:ie,defineProperties:ae,getOwnPropertyDescriptor:ce}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:le}),I(),z(W,N),T[L]=!0},1817:(e,t,n)=>{"use strict";var r=n(2109),o=n(9781),i=n(7854),a=n(1702),s=n(2597),c=n(614),l=n(7976),u=n(1340),f=n(3070).f,d=n(9920),p=i.Symbol,h=p&&p.prototype;if(o&&c(p)&&(!("description"in h)||void 0!==p().description)){var y={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),t=l(h,this)?new p(e):void 0===e?p():p(e);return""===e&&(y[t]=!0),t};d(m,p),m.prototype=h,h.constructor=m;var b="Symbol(test)"==String(p("test")),v=a(h.toString),g=a(h.valueOf),w=/^Symbol\((.*)\)[^)]+$/,k=a("".replace),_=a("".slice);f(h,"description",{configurable:!0,get:function(){var e=g(this),t=v(e);if(s(y,e))return"";var n=b?_(t,7,-1):k(t,w,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:m})}},763:(e,t,n)=>{var r=n(2109),o=n(5005),i=n(2597),a=n(1340),s=n(2309),c=n(735),l=s("string-to-symbol-registry"),u=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{for:function(e){var t=a(e);if(i(l,t))return l[t];var n=o("Symbol")(t);return l[t]=n,u[n]=t,n}})},2165:(e,t,n)=>{n(7235)("iterator")},2526:(e,t,n)=>{n(4032),n(763),n(6620),n(8862),n(9660)},6620:(e,t,n)=>{var r=n(2109),o=n(2597),i=n(2190),a=n(6330),s=n(2309),c=n(735),l=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{keyFor:function(e){if(!i(e))throw TypeError(a(e)+" is not a symbol");if(o(l,e))return l[e]}})},7207:(e,t,n)=>{n(8757)},4747:(e,t,n)=>{var r=n(7854),o=n(8324),i=n(8509),a=n(8533),s=n(8880),c=function(e){if(e&&e.forEach!==a)try{s(e,"forEach",a)}catch(t){e.forEach=a}};for(var l in o)o[l]&&c(r[l]&&r[l].prototype);c(i)},3948:(e,t,n)=>{var r=n(7854),o=n(8324),i=n(8509),a=n(6992),s=n(8880),c=n(5112),l=c("iterator"),u=c("toStringTag"),f=a.values,d=function(e,t){if(e){if(e[l]!==f)try{s(e,l,f)}catch(t){e[l]=f}if(e[u]||s(e,u,t),o[t])for(var n in a)if(e[n]!==a[n])try{s(e,n,a[n])}catch(t){e[n]=a[n]}}};for(var p in o)d(r[p]&&r[p].prototype,p);d(i,"DOMTokenList")},6815:(e,t,n)=>{var r=n(2109),o=n(7854),i=n(7152).setInterval;r({global:!0,bind:!0,forced:o.setInterval!==i},{setInterval:i})},8417:(e,t,n)=>{var r=n(2109),o=n(7854),i=n(7152).setTimeout;r({global:!0,bind:!0,forced:o.setTimeout!==i},{setTimeout:i})},2564:(e,t,n)=>{n(6815),n(8417)},5556:(e,t,n)=>{"use strict";n(6992);var r=n(2109),o=n(7854),i=n(6916),a=n(1702),s=n(9781),c=n(590),l=n(1320),u=n(2248),f=n(8003),d=n(4994),p=n(9909),h=n(5787),y=n(614),m=n(2597),b=n(9974),v=n(648),g=n(9670),w=n(111),k=n(1340),_=n(30),O=n(9114),S=n(8554),x=n(1246),j=n(8053),P=n(5112),R=n(4362),C=P("iterator"),T="URLSearchParams",E="URLSearchParamsIterator",B=p.set,A=p.getterFor(T),F=p.getterFor(E),I=Object.getOwnPropertyDescriptor,z=function(e){if(!s)return o(e);var t=I(o,e);return t&&t.value},M=z("fetch"),D=z("Request"),L=z("Headers"),N=D&&D.prototype,Z=L&&L.prototype,X=o.RegExp,Y=o.TypeError,W=o.decodeURIComponent,H=o.encodeURIComponent,U=a("".charAt),G=a([].join),q=a([].push),V=a("".replace),$=a([].shift),K=a([].splice),J=a("".split),Q=a("".slice),ee=/\+/g,te=Array(4),ne=function(e){return te[e-1]||(te[e-1]=X("((?:%[\\da-f]{2}){"+e+"})","gi"))},re=function(e){try{return W(e)}catch(t){return e}},oe=function(e){var t=V(e,ee," "),n=4;try{return W(t)}catch(e){for(;n;)t=V(t,ne(n--),re);return t}},ie=/[!'()~]|%20/g,ae={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},se=function(e){return ae[e]},ce=function(e){return V(H(e),ie,se)},le=d((function(e,t){B(this,{type:E,iterator:S(A(e).entries),kind:t})}),"Iterator",(function(){var e=F(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),!0),ue=function(e){this.entries=[],this.url=null,void 0!==e&&(w(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===U(e,0)?Q(e,1):e:k(e)))};ue.prototype={type:T,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,o,a,s,c,l=x(e);if(l)for(n=(t=S(e,l)).next;!(r=i(n,t)).done;){if(a=(o=S(g(r.value))).next,(s=i(a,o)).done||(c=i(a,o)).done||!i(a,o).done)throw Y("Expected sequence with length 2");q(this.entries,{key:k(s.value),value:k(c.value)})}else for(var u in e)m(e,u)&&q(this.entries,{key:u,value:k(e[u])})},parseQuery:function(e){if(e)for(var t,n,r=J(e,"&"),o=0;o<r.length;)(t=r[o++]).length&&(n=J(t,"="),q(this.entries,{key:oe($(n)),value:oe(G(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],q(n,ce(e.key)+"="+ce(e.value));return G(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var fe=function(){h(this,de);var e=arguments.length>0?arguments[0]:void 0;B(this,new ue(e))},de=fe.prototype;if(u(de,{append:function(e,t){j(arguments.length,2);var n=A(this);q(n.entries,{key:k(e),value:k(t)}),n.updateURL()},delete:function(e){j(arguments.length,1);for(var t=A(this),n=t.entries,r=k(e),o=0;o<n.length;)n[o].key===r?K(n,o,1):o++;t.updateURL()},get:function(e){j(arguments.length,1);for(var t=A(this).entries,n=k(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){j(arguments.length,1);for(var t=A(this).entries,n=k(e),r=[],o=0;o<t.length;o++)t[o].key===n&&q(r,t[o].value);return r},has:function(e){j(arguments.length,1);for(var t=A(this).entries,n=k(e),r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){j(arguments.length,1);for(var n,r=A(this),o=r.entries,i=!1,a=k(e),s=k(t),c=0;c<o.length;c++)(n=o[c]).key===a&&(i?K(o,c--,1):(i=!0,n.value=s));i||q(o,{key:a,value:s}),r.updateURL()},sort:function(){var e=A(this);R(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=A(this).entries,r=b(e,arguments.length>1?arguments[1]:void 0),o=0;o<n.length;)r((t=n[o++]).value,t.key,this)},keys:function(){return new le(this,"keys")},values:function(){return new le(this,"values")},entries:function(){return new le(this,"entries")}},{enumerable:!0}),l(de,C,de.entries,{name:"entries"}),l(de,"toString",(function(){return A(this).serialize()}),{enumerable:!0}),f(fe,T),r({global:!0,forced:!c},{URLSearchParams:fe}),!c&&y(L)){var pe=a(Z.has),he=a(Z.set),ye=function(e){if(w(e)){var t,n=e.body;if(v(n)===T)return t=e.headers?new L(e.headers):new L,pe(t,"content-type")||he(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),_(e,{body:O(0,k(n)),headers:O(0,t)})}return e};if(y(M)&&r({global:!0,enumerable:!0,noTargetGet:!0,forced:!0},{fetch:function(e){return M(e,arguments.length>1?ye(arguments[1]):{})}}),y(D)){var me=function(e){return h(this,N),new D(e,arguments.length>1?ye(arguments[1]):{})};N.constructor=me,me.prototype=N,r({global:!0,forced:!0,noTargetGet:!0},{Request:me})}}e.exports={URLSearchParams:fe,getState:A}},1637:(e,t,n)=>{n(5556)},8789:(e,t,n)=>{"use strict";n(8783);var r,o=n(2109),i=n(9781),a=n(590),s=n(7854),c=n(9974),l=n(1702),u=n(6048).f,f=n(1320),d=n(5787),p=n(2597),h=n(1574),y=n(8457),m=n(1589),b=n(8710).codeAt,v=n(3197),g=n(1340),w=n(8003),k=n(8053),_=n(5556),O=n(9909),S=O.set,x=O.getterFor("URL"),j=_.URLSearchParams,P=_.getState,R=s.URL,C=s.TypeError,T=s.parseInt,E=Math.floor,B=Math.pow,A=l("".charAt),F=l(/./.exec),I=l([].join),z=l(1..toString),M=l([].pop),D=l([].push),L=l("".replace),N=l([].shift),Z=l("".split),X=l("".slice),Y=l("".toLowerCase),W=l([].unshift),H="Invalid scheme",U="Invalid host",G="Invalid port",q=/[a-z]/i,V=/[\d+-.a-z]/i,$=/\d/,K=/^0x/i,J=/^[0-7]+$/,Q=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,re=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,oe=/[\t\n\r]/g,ie=function(e){var t,n,r,o;if("number"==typeof e){for(t=[],n=0;n<4;n++)W(t,e%256),e=E(e/256);return I(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,o=0,i=0;i<8;i++)0!==e[i]?(o>n&&(t=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(t=r,n=o),t}(e),n=0;n<8;n++)o&&0===e[n]||(o&&(o=!1),r===n?(t+=n?":":"::",o=!0):(t+=z(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},ae={},se=h({},ae,{" ":1,'"':1,"<":1,">":1,"`":1}),ce=h({},se,{"#":1,"?":1,"{":1,"}":1}),le=h({},ce,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ue=function(e,t){var n=b(e,0);return n>32&&n<127&&!p(t,e)?e:encodeURIComponent(e)},fe={ftp:21,file:null,http:80,https:443,ws:80,wss:443},de=function(e,t){var n;return 2==e.length&&F(q,A(e,0))&&(":"==(n=A(e,1))||!t&&"|"==n)},pe=function(e){var t;return e.length>1&&de(X(e,0,2))&&(2==e.length||"/"===(t=A(e,2))||"\\"===t||"?"===t||"#"===t)},he=function(e){return"."===e||"%2e"===Y(e)},ye={},me={},be={},ve={},ge={},we={},ke={},_e={},Oe={},Se={},xe={},je={},Pe={},Re={},Ce={},Te={},Ee={},Be={},Ae={},Fe={},Ie={},ze=function(e,t,n){var r,o,i,a=g(e);if(t){if(o=this.parse(a))throw C(o);this.searchParams=null}else{if(void 0!==n&&(r=new ze(n,!0)),o=this.parse(a,null,r))throw C(o);(i=P(new j)).bindURL(this),this.searchParams=i}};ze.prototype={type:"URL",parse:function(e,t,n){var o,i,a,s,c,l=this,u=t||ye,f=0,d="",h=!1,b=!1,v=!1;for(e=g(e),t||(l.scheme="",l.username="",l.password="",l.host=null,l.port=null,l.path=[],l.query=null,l.fragment=null,l.cannotBeABaseURL=!1,e=L(e,re,"")),e=L(e,oe,""),o=y(e);f<=o.length;){switch(i=o[f],u){case ye:if(!i||!F(q,i)){if(t)return H;u=be;continue}d+=Y(i),u=me;break;case me:if(i&&(F(V,i)||"+"==i||"-"==i||"."==i))d+=Y(i);else{if(":"!=i){if(t)return H;d="",u=be,f=0;continue}if(t&&(l.isSpecial()!=p(fe,d)||"file"==d&&(l.includesCredentials()||null!==l.port)||"file"==l.scheme&&!l.host))return;if(l.scheme=d,t)return void(l.isSpecial()&&fe[l.scheme]==l.port&&(l.port=null));d="","file"==l.scheme?u=Re:l.isSpecial()&&n&&n.scheme==l.scheme?u=ve:l.isSpecial()?u=_e:"/"==o[f+1]?(u=ge,f++):(l.cannotBeABaseURL=!0,D(l.path,""),u=Ae)}break;case be:if(!n||n.cannotBeABaseURL&&"#"!=i)return H;if(n.cannotBeABaseURL&&"#"==i){l.scheme=n.scheme,l.path=m(n.path),l.query=n.query,l.fragment="",l.cannotBeABaseURL=!0,u=Ie;break}u="file"==n.scheme?Re:we;continue;case ve:if("/"!=i||"/"!=o[f+1]){u=we;continue}u=Oe,f++;break;case ge:if("/"==i){u=Se;break}u=Be;continue;case we:if(l.scheme=n.scheme,i==r)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=m(n.path),l.query=n.query;else if("/"==i||"\\"==i&&l.isSpecial())u=ke;else if("?"==i)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=m(n.path),l.query="",u=Fe;else{if("#"!=i){l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=m(n.path),l.path.length--,u=Be;continue}l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=m(n.path),l.query=n.query,l.fragment="",u=Ie}break;case ke:if(!l.isSpecial()||"/"!=i&&"\\"!=i){if("/"!=i){l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,u=Be;continue}u=Se}else u=Oe;break;case _e:if(u=Oe,"/"!=i||"/"!=A(d,f+1))continue;f++;break;case Oe:if("/"!=i&&"\\"!=i){u=Se;continue}break;case Se:if("@"==i){h&&(d="%40"+d),h=!0,a=y(d);for(var w=0;w<a.length;w++){var k=a[w];if(":"!=k||v){var _=ue(k,le);v?l.password+=_:l.username+=_}else v=!0}d=""}else if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&l.isSpecial()){if(h&&""==d)return"Invalid authority";f-=y(d).length+1,d="",u=xe}else d+=i;break;case xe:case je:if(t&&"file"==l.scheme){u=Te;continue}if(":"!=i||b){if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&l.isSpecial()){if(l.isSpecial()&&""==d)return U;if(t&&""==d&&(l.includesCredentials()||null!==l.port))return;if(s=l.parseHost(d))return s;if(d="",u=Ee,t)return;continue}"["==i?b=!0:"]"==i&&(b=!1),d+=i}else{if(""==d)return U;if(s=l.parseHost(d))return s;if(d="",u=Pe,t==je)return}break;case Pe:if(!F($,i)){if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&l.isSpecial()||t){if(""!=d){var O=T(d,10);if(O>65535)return G;l.port=l.isSpecial()&&O===fe[l.scheme]?null:O,d=""}if(t)return;u=Ee;continue}return G}d+=i;break;case Re:if(l.scheme="file","/"==i||"\\"==i)u=Ce;else{if(!n||"file"!=n.scheme){u=Be;continue}if(i==r)l.host=n.host,l.path=m(n.path),l.query=n.query;else if("?"==i)l.host=n.host,l.path=m(n.path),l.query="",u=Fe;else{if("#"!=i){pe(I(m(o,f),""))||(l.host=n.host,l.path=m(n.path),l.shortenPath()),u=Be;continue}l.host=n.host,l.path=m(n.path),l.query=n.query,l.fragment="",u=Ie}}break;case Ce:if("/"==i||"\\"==i){u=Te;break}n&&"file"==n.scheme&&!pe(I(m(o,f),""))&&(de(n.path[0],!0)?D(l.path,n.path[0]):l.host=n.host),u=Be;continue;case Te:if(i==r||"/"==i||"\\"==i||"?"==i||"#"==i){if(!t&&de(d))u=Be;else if(""==d){if(l.host="",t)return;u=Ee}else{if(s=l.parseHost(d))return s;if("localhost"==l.host&&(l.host=""),t)return;d="",u=Ee}continue}d+=i;break;case Ee:if(l.isSpecial()){if(u=Be,"/"!=i&&"\\"!=i)continue}else if(t||"?"!=i)if(t||"#"!=i){if(i!=r&&(u=Be,"/"!=i))continue}else l.fragment="",u=Ie;else l.query="",u=Fe;break;case Be:if(i==r||"/"==i||"\\"==i&&l.isSpecial()||!t&&("?"==i||"#"==i)){if(".."===(c=Y(c=d))||"%2e."===c||".%2e"===c||"%2e%2e"===c?(l.shortenPath(),"/"==i||"\\"==i&&l.isSpecial()||D(l.path,"")):he(d)?"/"==i||"\\"==i&&l.isSpecial()||D(l.path,""):("file"==l.scheme&&!l.path.length&&de(d)&&(l.host&&(l.host=""),d=A(d,0)+":"),D(l.path,d)),d="","file"==l.scheme&&(i==r||"?"==i||"#"==i))for(;l.path.length>1&&""===l.path[0];)N(l.path);"?"==i?(l.query="",u=Fe):"#"==i&&(l.fragment="",u=Ie)}else d+=ue(i,ce);break;case Ae:"?"==i?(l.query="",u=Fe):"#"==i?(l.fragment="",u=Ie):i!=r&&(l.path[0]+=ue(i,ae));break;case Fe:t||"#"!=i?i!=r&&("'"==i&&l.isSpecial()?l.query+="%27":l.query+="#"==i?"%23":ue(i,ae)):(l.fragment="",u=Ie);break;case Ie:i!=r&&(l.fragment+=ue(i,se))}f++}},parseHost:function(e){var t,n,r;if("["==A(e,0)){if("]"!=A(e,e.length-1))return U;if(t=function(e){var t,n,r,o,i,a,s,c=[0,0,0,0,0,0,0,0],l=0,u=null,f=0,d=function(){return A(e,f)};if(":"==d()){if(":"!=A(e,1))return;f+=2,u=++l}for(;d();){if(8==l)return;if(":"!=d()){for(t=n=0;n<4&&F(ee,d());)t=16*t+T(d(),16),f++,n++;if("."==d()){if(0==n)return;if(f-=n,l>6)return;for(r=0;d();){if(o=null,r>0){if(!("."==d()&&r<4))return;f++}if(!F($,d()))return;for(;F($,d());){if(i=T(d(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;f++}c[l]=256*c[l]+o,2!=++r&&4!=r||l++}if(4!=r)return;break}if(":"==d()){if(f++,!d())return}else if(d())return;c[l++]=t}else{if(null!==u)return;f++,u=++l}}if(null!==u)for(a=l-u,l=7;0!=l&&a>0;)s=c[l],c[l--]=c[u+a-1],c[u+--a]=s;else if(8!=l)return;return c}(X(e,1,-1)),!t)return U;this.host=t}else if(this.isSpecial()){if(e=v(e),F(te,e))return U;if(t=function(e){var t,n,r,o,i,a,s,c=Z(e,".");if(c.length&&""==c[c.length-1]&&c.length--,(t=c.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(o=c[r]))return e;if(i=10,o.length>1&&"0"==A(o,0)&&(i=F(K,o)?16:8,o=X(o,8==i?1:2)),""===o)a=0;else{if(!F(10==i?Q:8==i?J:ee,o))return e;a=T(o,i)}D(n,a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=B(256,5-t))return null}else if(a>255)return null;for(s=M(n),r=0;r<n.length;r++)s+=n[r]*B(256,3-r);return s}(e),null===t)return U;this.host=t}else{if(F(ne,e))return U;for(t="",n=y(e),r=0;r<n.length;r++)t+=ue(n[r],ae);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return p(fe,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&de(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,o=e.host,i=e.port,a=e.path,s=e.query,c=e.fragment,l=t+":";return null!==o?(l+="//",e.includesCredentials()&&(l+=n+(r?":"+r:"")+"@"),l+=ie(o),null!==i&&(l+=":"+i)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?a[0]:a.length?"/"+I(a,"/"):"",null!==s&&(l+="?"+s),null!==c&&(l+="#"+c),l},setHref:function(e){var t=this.parse(e);if(t)throw C(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Me(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+ie(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(g(e)+":",ye)},getUsername:function(){return this.username},setUsername:function(e){var t=y(g(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=ue(t[n],le)}},getPassword:function(){return this.password},setPassword:function(e){var t=y(g(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=ue(t[n],le)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?ie(e):ie(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,xe)},getHostname:function(){var e=this.host;return null===e?"":ie(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,je)},getPort:function(){var e=this.port;return null===e?"":g(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=g(e))?this.port=null:this.parse(e,Pe))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+I(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Ee))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=g(e))?this.query=null:("?"==A(e,0)&&(e=X(e,1)),this.query="",this.parse(e,Fe)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=g(e))?("#"==A(e,0)&&(e=X(e,1)),this.fragment="",this.parse(e,Ie)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Me=function(e){var t=d(this,De),n=k(arguments.length,1)>1?arguments[1]:void 0,r=S(t,new ze(e,!1,n));i||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},De=Me.prototype,Le=function(e,t){return{get:function(){return x(this)[e]()},set:t&&function(e){return x(this)[t](e)},configurable:!0,enumerable:!0}};if(i&&u(De,{href:Le("serialize","setHref"),origin:Le("getOrigin"),protocol:Le("getProtocol","setProtocol"),username:Le("getUsername","setUsername"),password:Le("getPassword","setPassword"),host:Le("getHost","setHost"),hostname:Le("getHostname","setHostname"),port:Le("getPort","setPort"),pathname:Le("getPathname","setPathname"),search:Le("getSearch","setSearch"),searchParams:Le("getSearchParams"),hash:Le("getHash","setHash")}),f(De,"toJSON",(function(){return x(this).serialize()}),{enumerable:!0}),f(De,"toString",(function(){return x(this).serialize()}),{enumerable:!0}),R){var Ne=R.createObjectURL,Ze=R.revokeObjectURL;Ne&&f(Me,"createObjectURL",c(Ne,R)),Ze&&f(Me,"revokeObjectURL",c(Ze,R))}w(Me,"URL"),o({global:!0,forced:!a,sham:!i},{URL:Me})},285:(e,t,n)=>{n(8789)},8058:e=>{try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},1766:(e,t,n)=>{var r;!function(){"use strict";var o=function(){this.init()};o.prototype={init:function(){var e=this||i;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||i;if(e=parseFloat(e),t.ctx||p(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var a=t._howls[n]._soundById(r[o]);a&&a._node&&(a._node.volume=a._volume*e)}return t}return t._volume},mute:function(e){var t=this||i;t.ctx||p(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var a=t._howls[n]._soundById(r[o]);a&&a._node&&(a._node.muted=!!e||a._muted)}return t},stop:function(){for(var e=this||i,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||i,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,p()),e},codecs:function(e){return(this||i)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||i;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||i,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator?e._navigator.userAgent:"",o=r.match(/OPR\/([0-6].)/g),a=o&&parseInt(o[0].split("/")[1],10)<33,s=-1!==r.indexOf("Safari")&&-1===r.indexOf("Chrome"),c=r.match(/Version\/(.*?) /),l=s&&c&&parseInt(c[1],10)<15;return e._codecs={mp3:!(a||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(l||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(l||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||i;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}catch(n){e.noAudio=!0;break}for(var o=0;o<e._howls.length;o++)if(!e._howls[o]._webAudio)for(var i=e._howls[o]._getSoundIds(),a=0;a<i.length;a++){var s=e._howls[o]._soundById(i[a]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var c=e.ctx.createBufferSource();c.buffer=e._scratchBuffer,c.connect(e.ctx.destination),void 0===c.start?c.noteOn(0):c.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),c.onended=function(){c.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||i;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(e){var t=this||i;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&i.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&i.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var i=new o,a=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};a.prototype={init:function(e){var t=this;return i.ctx||p(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=i.usingWebAudio&&!t._html5,void 0!==i.ctx&&i.ctx&&i.autoUnlock&&i._unlockAudio(),i._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=this,t=null;if(i.noAudio)e._emit("loaderror",null,"No audio support.");else{"string"==typeof e._src&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var r,o;if(e._format&&e._format[n])r=e._format[n];else{if("string"!=typeof(o=e._src[n])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(r=/^data:audio\/([^;,]+);/i.exec(o))||(r=/\.([^.]+)$/.exec(o.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),r&&i.codecs(r)){t=e._src[n];break}}if(t)return e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new s(e),e._webAudio&&l(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,r=null;if("number"==typeof e)r=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e="__default",!n._playLock)){for(var o=0,a=0;a<n._sounds.length;a++)n._sounds[a]._paused&&!n._sounds[a]._ended&&(o++,r=n._sounds[a]._id);1===o?e=null:r=null}}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state){s._sprite=e,s._ended=!1;var c=s._id;return n._queue.push({event:"play",action:function(){n.play(c)}}),c}if(r&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&i._autoResume();var l=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),u=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-l),f=1e3*u/Math.abs(s._rate),d=n._sprite[e][0]/1e3,p=(n._sprite[e][0]+n._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var h=function(){s._paused=!1,s._seek=l,s._start=d,s._stop=p,s._loop=!(!s._loop&&!n._sprite[e][2])};if(!(l>=p)){var y=s._node;if(n._webAudio){var m=function(){n._playLock=!1,h(),n._refreshBuffer(s);var e=s._muted||n._muted?0:s._volume;y.gain.setValueAtTime(e,i.ctx.currentTime),s._playStart=i.ctx.currentTime,void 0===y.bufferSource.start?s._loop?y.bufferSource.noteGrainOn(0,l,86400):y.bufferSource.noteGrainOn(0,l,u):s._loop?y.bufferSource.start(0,l,86400):y.bufferSource.start(0,l,u),f!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),f)),t||setTimeout((function(){n._emit("play",s._id),n._loadQueue()}),0)};"running"===i.state&&"interrupted"!==i.ctx.state?m():(n._playLock=!0,n.once("resume",m),n._clearTimer(s._id))}else{var b=function(){y.currentTime=l,y.muted=s._muted||n._muted||i._muted||y.muted,y.volume=s._volume*i.volume(),y.playbackRate=s._rate;try{var r=y.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,h(),r.then((function(){n._playLock=!1,y._unlocked=!0,t?n._loadQueue():n._emit("play",s._id)})).catch((function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0}))):t||(n._playLock=!1,h(),n._emit("play",s._id)),y.playbackRate=s._rate,y.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),f):(n._endTimers[s._id]=function(){n._ended(s),y.removeEventListener("ended",n._endTimers[s._id],!1)},y.addEventListener("ended",n._endTimers[s._id],!1))}catch(e){n._emit("playerror",s._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===y.src&&(y.src=n._src,y.load());var v=window&&window.ejecta||!y.readyState&&i._navigator.isCocoonJS;if(y.readyState>=3||v)b();else{n._playLock=!0,n._state="loading";var g=function(){n._state="loaded",b(),y.removeEventListener(i._canPlayEvent,g,!1)};y.addEventListener(i._canPlayEvent,g,!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var o=t._soundById(n[r]);if(o&&!o._paused&&(o._seek=t.seek(n[r]),o._rateSeek=0,o._paused=!0,t._stopFade(n[r]),o._node))if(t._webAudio){if(!o._node.bufferSource)continue;void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),t._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||o._node.pause();arguments[1]||t._emit("pause",o?o._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),o=0;o<r.length;o++){n._clearTimer(r[o]);var i=n._soundById(r[o]);i&&(i._seek=i._start||0,i._rateSeek=0,i._paused=!0,i._ended=!0,n._stopFade(r[o]),i._node&&(n._webAudio?i._node.bufferSource&&(void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)):isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.currentTime=i._start||0,i._node.pause(),i._node.duration===1/0&&n._clearSound(i._node))),t||n._emit("stop",i._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),o=0;o<r.length;o++){var a=n._soundById(r[o]);a&&(a._muted=e,a._interval&&n._stopFade(a._id),n._webAudio&&a._node?a._node.gain.setValueAtTime(e?0:a._volume,i.ctx.currentTime):a._node&&(a._node.muted=!!i._muted||e),n._emit("mute",a._id))}return n},volume:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._volume;if(1===o.length||2===o.length&&void 0===o[1]){var a=r._getSoundIds(),s=a.indexOf(o[0]);s>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else o.length>=2&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if(!(void 0!==e&&e>=0&&e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,o)}}),r;void 0===t&&(r._volume=e),t=r._getSoundIds(t);for(var c=0;c<t.length;c++)(n=r._soundById(t[c]))&&(n._volume=e,o[2]||r._stopFade(t[c]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,i.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*i.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var o=this;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"fade",action:function(){o.fade(e,t,n,r)}}),o;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),o.volume(e,r);for(var a=o._getSoundIds(r),s=0;s<a.length;s++){var c=o._soundById(a[s]);if(c){if(r||o._stopFade(a[s]),o._webAudio&&!c._muted){var l=i.ctx.currentTime,u=l+n/1e3;c._volume=e,c._node.gain.setValueAtTime(e,l),c._node.gain.linearRampToValueAtTime(t,u)}o._startFadeInterval(c,e,t,n,a[s],void 0===r)}}return o},_startFadeInterval:function(e,t,n,r,o,i){var a=this,s=t,c=n-t,l=Math.abs(c/.01),u=Math.max(4,l>0?r/l:r),f=Date.now();e._fadeTo=n,e._interval=setInterval((function(){var o=(Date.now()-f)/r;f=Date.now(),s+=c*o,s=Math.round(100*s)/100,s=c<0?Math.max(n,s):Math.min(n,s),a._webAudio?e._volume=s:a.volume(s,e._id,!0),i&&(a._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,a.volume(n,e._id),a._emit("fade",e._id))}),u)},_stopFade:function(e){var t=this,n=t._soundById(e);return n&&n._interval&&(t._webAudio&&n._node.gain.cancelScheduledValues(i.ctx.currentTime),clearInterval(n._interval),n._interval=null,t.volume(n._fadeTo,e),n._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._loop;if(1===o.length){if("boolean"!=typeof o[0])return!!(n=r._soundById(parseInt(o[0],10)))&&n._loop;e=o[0],r._loop=e}else 2===o.length&&(e=o[0],t=parseInt(o[1],10));for(var i=r._getSoundIds(t),a=0;a<i.length;a++)(n=r._soundById(i[a]))&&(n._loop=e,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,r.playing(i[a])&&(r.pause(i[a],!0),r.play(i[a],!0)))));return r},rate:function(){var e,t,n,r=this,o=arguments;if(0===o.length)t=r._sounds[0]._id;else if(1===o.length){var a=r._getSoundIds(),s=a.indexOf(o[0]);s>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else 2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if("number"!=typeof e)return(n=r._soundById(t))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,o)}}),r;void 0===t&&(r._rate=e),t=r._getSoundIds(t);for(var c=0;c<t.length;c++)if(n=r._soundById(t[c])){r.playing(t[c])&&(n._rateSeek=r.seek(t[c]),n._playStart=r._webAudio?i.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,i.ctx.currentTime):n._node&&(n._node.playbackRate=e);var l=r.seek(t[c]),u=(r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-l,f=1e3*u/Math.abs(n._rate);!r._endTimers[t[c]]&&n._paused||(r._clearTimer(t[c]),r._endTimers[t[c]]=setTimeout(r._ended.bind(r,n),f)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length)n._sounds.length&&(t=n._sounds[0]._id);else if(1===r.length){var o=n._getSoundIds(),a=o.indexOf(r[0]);a>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(void 0===t)return 0;if("number"==typeof e&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var s=n._soundById(t);if(s){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var c=n.playing(t)?i.ctx.currentTime-s._playStart:0,l=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(l+c*Math.abs(s._rate))}return s._node.currentTime}var u=n.playing(t);u&&n.pause(t,!0),s._seek=e,s._ended=!1,n._clearTimer(t),n._webAudio||!s._node||isNaN(s._node.duration)||(s._node.currentTime=e);var f=function(){u&&n.play(t,!0),n._emit("seek",t)};if(u&&!n._webAudio){var d=function(){n._playLock?setTimeout(d,0):f()};setTimeout(d,0)}else f()}return n},playing:function(e){var t=this;if("number"==typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var r=0;r<t._sounds.length;r++)if(!t._sounds[r]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,r=t._soundById(e);return r&&(n=t._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(i._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),i._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=i._howls.indexOf(e);r>=0&&i._howls.splice(r,1);var o=!0;for(n=0;n<i._howls.length;n++)if(i._howls[n]._src===e._src||e._src.indexOf(i._howls[n]._src)>=0){o=!1;break}return c&&o&&delete c[e._src],i.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var o=this["_on"+e];return"function"==typeof t&&o.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this,o=r["_on"+e],i=0;if("number"==typeof t&&(n=t,t=null),t||n)for(i=0;i<o.length;i++){var a=n===o[i].id;if(t===o[i].fn&&a||!t&&a){o.splice(i,1);break}}else if(e)r["_on"+e]=[];else{var s=Object.keys(r);for(i=0;i<s.length;i++)0===s[i].indexOf("_on")&&Array.isArray(r[s[i]])&&(r[s[i]]=[])}return r},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this,o=r["_on"+e],i=o.length-1;i>=0;i--)o[i].id&&o[i].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(r,o[i].fn),0),o[i].once&&r.off(e,o[i].fn,o[i].id));return r._loadQueue(e),r},_loadQueue:function(e){var t=this;if(t._queue.length>0){var n=t._queue[0];n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()}return t},_ended:function(e){var t=this,n=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var r=!(!e._loop&&!t._sprite[n][2]);if(t._emit("end",e._id),!t._webAudio&&r&&t.stop(e._id,!0).play(e._id),t._webAudio&&r){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=i.ctx.currentTime;var o=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),o)}return t._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),i._autoSuspend()),t._webAudio||r||t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!=typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var n=t._soundById(e);n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new s(e)},_drain:function(){var e=this,t=e._pool,n=0,r=0;if(!(e._sounds.length<t)){for(r=0;r<e._sounds.length;r++)e._sounds[r]._ended&&n++;for(r=e._sounds.length-1;r>=0;r--){if(n<=t)return;e._sounds[r]._ended&&(e._webAudio&&e._sounds[r]._node&&e._sounds[r]._node.disconnect(0),e._sounds.splice(r,1),n--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=i.ctx.createBufferSource(),e._node.bufferSource.buffer=c[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,i.ctx.currentTime),this},_cleanBuffer:function(e){var t=i._navigator&&i._navigator.vendor.indexOf("Apple")>=0;if(i._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=i._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(i._navigator&&i._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(e){this._parent=e,this.init()};s.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++i._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=i._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),e._node.gain.setValueAtTime(n,i.ctx.currentTime),e._node.paused=!0,e._node.connect(i.masterGain)):i.noAudio||(e._node=i._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(i._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=!0===t._preload?"auto":t._preload,e._node.volume=n*i.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++i._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(i._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,t=e._parent;t._duration===1/0&&(t._duration=Math.ceil(10*e._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var c={},l=function(e){var t=e._src;if(c[t])return e._duration=c[t].duration,void d(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);f(r.buffer,e)}else{var i=new XMLHttpRequest;i.open(e._xhr.method,t,!0),i.withCredentials=e._xhr.withCredentials,i.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach((function(t){i.setRequestHeader(t,e._xhr.headers[t])})),i.onload=function(){var t=(i.status+"")[0];"0"===t||"2"===t||"3"===t?f(i.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+i.status+".")},i.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete c[t],e.load())},u(i)}},u=function(e){try{e.send()}catch(t){e.onerror()}},f=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(c[t._src]=e,d(t,e)):n()};"undefined"!=typeof Promise&&1===i.ctx.decodeAudioData.length?i.ctx.decodeAudioData(e).then(r).catch(n):i.ctx.decodeAudioData(e,r,n)},d=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},p=function(){if(i.usingWebAudio){try{"undefined"!=typeof AudioContext?i.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?i.ctx=new webkitAudioContext:i.usingWebAudio=!1}catch(e){i.usingWebAudio=!1}i.ctx||(i.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(i._navigator&&i._navigator.platform),t=i._navigator&&i._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(i._navigator&&i._navigator.userAgent.toLowerCase());i._navigator&&!r&&(i.usingWebAudio=!1)}i.usingWebAudio&&(i.masterGain=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),i.masterGain.gain.setValueAtTime(i._muted?0:i._volume,i.ctx.currentTime),i.masterGain.connect(i.ctx.destination)),i._setup()}};void 0===(r=function(){return{Howler:i,Howl:a}}.apply(t,[]))||(e.exports=r),t.Howler=i,t.Howl=a,void 0!==n.g?(n.g.HowlerGlobal=o,n.g.Howler=i,n.g.Howl=a,n.g.Sound=s):"undefined"!=typeof window&&(window.HowlerGlobal=o,window.Howler=i,window.Howl=a,window.Sound=s)}(),function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var r=this;return r.ctx&&r.ctx.listener?(t="number"!=typeof t?r._pos[1]:t,n="number"!=typeof n?r._pos[2]:n,"number"!=typeof e?r._pos:(r._pos=[e,t,n],void 0!==r.ctx.listener.positionX?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(e,t,n,r,o,i){var a=this;if(!a.ctx||!a.ctx.listener)return a;var s=a._orientation;return t="number"!=typeof t?s[1]:t,n="number"!=typeof n?s[2]:n,r="number"!=typeof r?s[3]:r,o="number"!=typeof o?s[4]:o,i="number"!=typeof i?s[5]:i,"number"!=typeof e?s:(a._orientation=[e,t,n,r,o,i],void 0!==a.ctx.listener.forwardX?(a.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(i,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(e,t,n,r,o,i),a)},Howl.prototype.init=(e=Howl.prototype.init,function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(e,n)}}),r;var o=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof e)return r._stereo;r._stereo=e,r._pos=[e,0,0]}for(var i=r._getSoundIds(n),a=0;a<i.length;a++){var s=r._soundById(i[a]);if(s){if("number"!=typeof e)return s._stereo;s._stereo=e,s._pos=[e,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||t(s,o),"spatial"===o?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(e,0,0):s._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),r._emit("stereo",s._id)}}return r},Howl.prototype.pos=function(e,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"pos",action:function(){i.pos(e,n,r,o)}}),i;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,void 0===o){if("number"!=typeof e)return i._pos;i._pos=[e,n,r]}for(var a=i._getSoundIds(o),s=0;s<a.length;s++){var c=i._soundById(a[s]);if(c){if("number"!=typeof e)return c._pos;c._pos=[e,n,r],c._node&&(c._panner&&!c._panner.pan||t(c,"spatial"),void 0!==c._panner.positionX?(c._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):c._panner.setPosition(e,n,r)),i._emit("pos",c._id)}}return i},Howl.prototype.orientation=function(e,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"orientation",action:function(){i.orientation(e,n,r,o)}}),i;if(n="number"!=typeof n?i._orientation[1]:n,r="number"!=typeof r?i._orientation[2]:r,void 0===o){if("number"!=typeof e)return i._orientation;i._orientation=[e,n,r]}for(var a=i._getSoundIds(o),s=0;s<a.length;s++){var c=i._soundById(a[s]);if(c){if("number"!=typeof e)return c._orientation;c._orientation=[e,n,r],c._node&&(c._panner||(c._pos||(c._pos=i._pos||[0,0,-.5]),t(c,"spatial")),void 0!==c._panner.orientationX?(c._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),c._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),c._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):c._panner.setOrientation(e,n,r)),i._emit("orientation",c._id)}}return i},Howl.prototype.pannerAttr=function(){var e,n,r,o=this,i=arguments;if(!o._webAudio)return o;if(0===i.length)return o._pannerAttr;if(1===i.length){if("object"!=typeof i[0])return(r=o._soundById(parseInt(i[0],10)))?r._pannerAttr:o._pannerAttr;e=i[0],void 0===n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),o._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:o._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:o._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:o._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:o._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:o._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:o._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:o._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:o._panningModel})}else 2===i.length&&(e=i[0],n=parseInt(i[1],10));for(var a=o._getSoundIds(n),s=0;s<a.length;s++)if(r=o._soundById(a[s])){var c=r._pannerAttr;c={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:c.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:c.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:c.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:c.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:c.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:c.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:c.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:c.panningModel};var l=r._panner;l?(l.coneInnerAngle=c.coneInnerAngle,l.coneOuterAngle=c.coneOuterAngle,l.coneOuterGain=c.coneOuterGain,l.distanceModel=c.distanceModel,l.maxDistance=c.maxDistance,l.refDistance=c.refDistance,l.rolloffFactor=c.rolloffFactor,l.panningModel=c.panningModel):(r._pos||(r._pos=o._pos||[0,0,-.5]),t(r,"spatial"))}return o},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,t._stereo?n.stereo(t._stereo):t._pos?n.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,n._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()},1830:(e,t)=>{t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,o=n.length;r<o;r++){var i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}},4187:e=>{var t=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var r,o,i=e,a=e.indexOf("["),s=e.indexOf("]");-1!=a&&-1!=s&&(e=e.substring(0,a)+e.substring(a,s).replace(/:/g,";")+e.substring(s,e.length));for(var c,l,u=t.exec(e||""),f={},d=14;d--;)f[n[d]]=u[d]||"";return-1!=a&&-1!=s&&(f.source=i,f.host=f.host.substring(1,f.host.length-1).replace(/;/g,":"),f.authority=f.authority.replace("[","").replace("]","").replace(/;/g,":"),f.ipv6uri=!0),f.pathNames=(r=f.path,o=r.replace(/\/{2,9}/g,"/").split("/"),"/"!=r.substr(0,1)&&0!==r.length||o.splice(0,1),"/"==r.substr(r.length-1,1)&&o.splice(o.length-1,1),o),f.queryKey=(c=f.query,l={},c.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(l[t]=n)})),l),f}},2281:e=>{"use strict";var t,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),r={},o=0,i=0;function a(e){var t="";do{t=n[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function s(){var e=a(+new Date);return e!==t?(o=0,t=e):e+"."+a(o++)}for(;i<64;i++)r[n[i]]=i;s.encode=a,s.decode=function(e){var t=0;for(i=0;i<e.length;i++)t=64*t+r[e.charAt(i)];return t},e.exports=s},1761:(e,t,n)=>{var r={"./Actions.js":4037,"./Buddy.js":2987,"./Chat.js":1743,"./Error.js":2335,"./Get.js":1371,"./Igloo.js":4524,"./Ignore.js":9324,"./Item.js":4068,"./Join.js":7264,"./Login.js":9580,"./MiniGame.js":6402,"./Postcard.js":2375,"./Puffles.js":7520};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=1761}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{Decoder:()=>Lu,Encoder:()=>Du,PacketType:()=>Mu,protocol:()=>zu}),n(9601),n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var t=n(5136);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(2222),n(7327),n(8309),n(1249),n(7042),n(1038),n(4916),n(9753),n(5306),n(3710),n(9714);var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.registerTextMetrics(),this.metrics=this.getTextMetrics()}var t,n;return t=e,(n=[{key:"getTextMetrics",value:function(){var e=localStorage.getItem("text_metrics");if(!e)return{};try{return JSON.parse(e)}catch(e){return localStorage.removeItem("text_metrics"),{}}}},{key:"registerTextMetrics",value:function(){var e=this,t=Phaser.GameObjects.GameObjectFactory;function n(t){e.setMetrics(t),this._setStyle(t),e.createMetrics(this,t)}t.remove("text"),t.register("text",(function(t,r,o,i){var a=function(t,n,r,o,i){e.setMetrics(i);var a=new Phaser.GameObjects.Text(t,n,r,o,i);return e.createMetrics(a,i),a}(this.scene,t,r,o,i);return a._setStyle=a.setStyle,a.setStyle=n,this.displayList.add(a)}))}},{key:"setMetrics",value:function(e){var t=this.getKey(e);t in this.metrics&&(e.metrics=this.metrics[t])}},{key:"createMetrics",value:function(e,t){var n=this.getKey(t);n in this.metrics||(this.metrics[n]="default"==n?{ascent:0,descent:0,fontSize:0}:e.getTextMetrics(),localStorage.setItem("text_metrics",JSON.stringify(this.metrics)))}},{key:"getKey",value:function(e){if(!e||!e.fontFamily||!e.fontSize)return"default";var t=e.fontSize.toString().replace("px","");return"".concat(e.fontFamily).concat(t)}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),i=n(4866),a=n(390);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function u(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(r);if(o){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function s(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),r=i.call(this,e,null!=t?t:760,null!=n?n:480);var o=e.add.image(0,0,"prompt","window-button");o.setOrigin(.5,.5047619047619047),r.add(o);var c=e.add.text(0,0,"",{});c.setOrigin(.5,.5),c.text="Ok",c.setStyle({align:"center",fixedWidth:280,fontFamily:"Arial Narrow",fontSize:"40px",fontStyle:"bold"}),r.add(c);var l=new a.zx(o);return l.spriteName="window-button",l.callback=function(){return r.onClick()},l.activeFrame=!1,r}return t=s,(n=[{key:"onClick",value:function(){this.parentContainer.callback()}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.Z);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function m(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(o){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m(this,e)});function s(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this,e,null!=t?t:760,null!=n?n:480)).bg,r.text,r.visible=!1;var o=e.add.rectangle(0,0,1520,960);o.isFilled=!0,o.fillColor=0,o.fillAlpha=.2,r.add(o);var c=e.add.rectangle(0,-40,708,584);c.isFilled=!0,c.fillColor=164045,r.add(c);var l=e.add.text(0,0,"",{});l.setOrigin(.5,.5),l.text="You have found a party hat.\nWould you like to pick it up?",l.setStyle({align:"center",color:"#000000",fixedWidth:628,fixedHeight:136,fontFamily:"Arial Narrow",fontSize:"32px"}),r.add(l);var u=new d(e,0,130);r.add(u);var f=e.add.image(0,-182,"main","prompt_coin");return r.add(f),new a.vj(o),new a.X7(c).corner=50,r.bg=c,r.text=l,r}return t=s,(n=[{key:"show",value:function(e){this.visible=!0;var t=this.world.client.coins+e;this.text.text=this.getFormatString("game_over",e,t)}},{key:"callback",value:function(){this.ruffle.close(),this.visible=!1}}])&&h(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.Z);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function _(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},j(e,t)}function P(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}const C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=R(r);if(o){var n=R(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return P(this,e)});function a(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,t,n)).bg=r.createBackground(708,"error"),r.text=r.createText(),r.button=r.createButton("error-button","Okay"),r.add([r.bg,r.text,r.button]),r}return t=a,(n=[{key:"show",value:function(e,t,n){this.text.text=e,this.button.text.text=t,this.button.component.callback=n,this.text.height=this.text.height>140?this.text.height:140,this.resize(),this.visible=!0}},{key:"resize",value:function(){this.bg.resize(708,this.text.height+this.button.height+100+25),this.text.y=-this.bg.height/2+this.text.height/2+50,this.button.y=this.bg.height/2-this.button.height/2-50}}])&&x(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(r);if(o){var n=O(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return _(this,e)});function s(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this,e,t,n)).createBlock(),r.visible=!1,r.textStyle={fontFamily:"Arial",fontSize:32,color:"#000000",align:"center",fixedWidth:626,wordWrap:{width:600,useAdvancedWrap:!0}},r.buttonTextStyle={fontFamily:"Arial",fontSize:40,color:"#ffffff",align:"center"},r}return t=s,(n=[{key:"createBlock",value:function(){var e=this.scene.add.rectangle(0,0,1520,960);e.isFilled=!0,e.fillColor=0,e.fillAlpha=.2,new a.vj(e),this.add(e)}},{key:"createBackground",value:function(e,t){var n=this.scene.add.nineslice(0,0,e,400,{key:"prompt",frame:t},50);return n.setOrigin(.5),n}},{key:"createText",value:function(){var e=this.scene.add.text(0,0,"",this.textStyle);return e.setOrigin(.5,.5),e}},{key:"createButton",value:function(e,t){var n=this,r=this.scene.add.container(0,0);return r.bg=this.scene.add.image(0,0,"prompt",e),r.text=this.scene.add.text(0,0,t,this.buttonTextStyle),r.add(r.bg),r.add(r.text),r.text.setOrigin(.5),r.bg.setOrigin(.5,.5),r.setSize(r.bg.width,r.bg.height),r.component=new a.zx(r.bg),r.component.spriteName=e,r.component.callback=function(){return n.visible=!1},r}}])&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.Z));function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t){return B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},B(e,t)}function A(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function F(e){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},F(e)}n(4944),n(3792),n(6833),n(6699),n(2023);var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=F(r);if(o){var n=F(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return A(this,e)});function s(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),r=i.call(this,e,null!=t?t:760,null!=n?n:480);var o=e.add.image(110,0,"prompt","window-button-small");o.setOrigin(.5,.49523809523809526),r.add(o);var c=e.add.image(-110,0,"prompt","window-button-small");c.setOrigin(.5,.49523809523809526),r.add(c);var l=e.add.text(110,0,"",{});l.setOrigin(.5,.5),l.text="No",l.setStyle({align:"center",fixedWidth:150,fontFamily:"Arial Narrow",fontSize:"40px",fontStyle:"bold"}),r.add(l);var u=e.add.text(-110,0,"",{});u.setOrigin(.5,.5),u.text="Yes",u.setStyle({align:"center",fixedWidth:150,fontFamily:"Arial Narrow",fontSize:"40px",fontStyle:"bold"}),r.add(u);var f=new a.zx(o);f.spriteName="window-button-small",f.callback=function(){return r.onNoClick()},f.activeFrame=!1;var d=new a.zx(c);return d.spriteName="window-button-small",d.callback=function(){return r.onYesClick()},d.activeFrame=!1,r}return t=s,(n=[{key:"onYesClick",value:function(){this.parentContainer.callback()}},{key:"onNoClick",value:function(){this.parentContainer.noCallback()}}])&&E(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.Z),z=n(4027);function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},L(e,t)}function N(e,t){if(t&&("object"===M(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Z(e){return Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Z(e)}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Z(r);if(o){var n=Z(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return N(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e)).prompt=t,n}return t=a,(n=[{key:"baseURL",get:function(){return"furniture"==this.prompt.type?"/assets/media/furniture/icon/@5x/":"/assets/media/clothing/icon/large/"}},{key:"keyPrefix",get:function(){return"furniture"==this.prompt.type?"furniture/icon/@5x/":"clothing/icon/large/"}},{key:"scale",get:function(){switch(this.prompt.type){case"clothing":return.75;case"furniture":return.65;default:return 1}}},{key:"loadIcon",value:function(e){var t=this;this.prompt.icon&&this.prompt.icon.destroy();var n=this.getKey(e);this.checkComplete("image",n,(function(){t.onFileComplete(n,e)}))||(this.image(n,"".concat(e,".png")),this.start())}},{key:"onFileComplete",value:function(e,t){if(this.prompt.visible&&this.textureExists(e)&&t==this.prompt.item){this.prompt.icon&&this.prompt.icon.destroy();var n=this.scene.add.image(0,-182,e);n.scale=this.scale,this.prompt.add(n),this.prompt.icon=n}}}])&&D(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(z.Z);function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t){return H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},H(e,t)}function U(e,t){if(t&&("object"===Y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return G(e)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(r);if(o){var n=q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return U(this,e)});function s(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this,e,null!=t?t:760,null!=n?n:480)).bg,r.text,r.dual,r.visible=!1;var o=e.add.rectangle(0,0,1520,960);o.isFilled=!0,o.fillColor=0,o.fillAlpha=.2,r.add(o);var c=e.add.rectangle(0,-40,708,584);c.isFilled=!0,c.fillColor=164045,r.add(c);var l=e.add.text(0,0,"",{});l.setOrigin(.5,.5),l.text="You have found a party hat.\nWould you like to pick it up?",l.setStyle({align:"center",color:"#000000",fixedWidth:628,fixedHeight:136,fontFamily:"Arial Narrow",fontSize:"32px"}),r.add(l);var u=new I(e,0,130);return r.add(u),new a.vj(o),new a.X7(c).corner=50,r.bg=c,r.text=l,r.dual=u,r.text.setWordWrapWidth(616,!0),r.item,r.icon,r.type,r.loader=new X(e,G(r)),r}return t=s,(n=[{key:"showItem",value:function(e){if(this.inventoryIncludes(e))return this.interface.prompt.showError("You already have this item.");this.show(e,this.crumbs.items[e],"clothing")}},{key:"showFurniture",value:function(e){this.show(e,this.crumbs.furniture[e],"furniture")}},{key:"show",value:function(e,t,n){t&&(this.item=e,this.type=n,this.text.text=this.getText(t.name,t.cost),this.visible=!0,this.loader.loadIcon(e))}},{key:"inventoryIncludes",value:function(e){return Object.values(this.world.client.inventory).flat().includes(e)}},{key:"getText",value:function(e,t){return t<1?"You have found a ".concat(e,".\nWould you like to pick it up?"):"Would you like to buy ".concat(e," for ").concat(t," coins. You currently have ").concat(this.world.client.coins," coins.")}},{key:"callback",value:function(){this.item&&this.sendAddItem(),this.visible=!1}},{key:"noCallback",value:function(){this.visible=!1}},{key:"sendAddItem",value:function(){switch(this.type){case"clothing":this.network.send("add_item",{item:this.item});break;case"furniture":this.network.send("add_furniture",{furniture:this.item})}}}])&&W(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.Z);function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t){return J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},J(e,t)}function Q(e,t){if(t&&("object"===$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ee(e){return ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ee(e)}var te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ee(r);if(o){var n=ee(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Q(this,e)});function s(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this,e,null!=t?t:760,null!=n?n:480)).bg,r.bar,r.progress,r.text,r.spinner,r.visible=!1;var o=e.add.rectangle(0,0,1520,960);o.isFilled=!0,o.fillColor=0,o.fillAlpha=.2,r.add(o);var c=e.add.rectangle(0,-40,708,584);c.isFilled=!0,c.fillColor=164045,r.add(c);var l=e.add.image(295,-273,"main","blue-button");r.add(l);var u=e.add.image(295,-275,"main","blue-x");r.add(u);var f=e.add.container(0,-21);r.add(f);var d=e.add.rectangle(0,0,200,40);d.isStroked=!0,d.strokeColor=26265,d.lineWidth=4,f.add(d);var p=e.add.rectangle(-90,0,180,20);p.scaleX=0,p.setOrigin(0,.5),p.isFilled=!0,f.add(p);var h=e.add.text(0,19,"",{});h.setOrigin(.5,0),h.setStyle({align:"center",fixedWidth:800,fixedHeight:40,fontFamily:"Arial",fontSize:"32px"}),r.add(h);var y=e.add.image(0,-101,"load","spinner");r.add(y),new a.vj(o),new a.X7(c).corner=50;var m=new a.zx(l);return m.spriteName="blue-button",m.callback=function(){return r.close()},r.bg=c,r.bar=f,r.progress=p,r.text=h,r.spinner=y,r.scene=e,r.externalScene,r.tween=e.tweens.add({targets:r.spinner,angle:{from:0,to:180},duration:900,repeat:-1,ease:"Cubic"}),r}return t=s,n=[{key:"show",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e&&(this.externalScene=e,this.text.text=this.getString("loading",e.sys.config),this.progress.scaleX=n,e.events.off("create"),e.load.on("progress",(function(e){return t.progress.scaleX=e})),e.events.once("create",(function(){t.visible=!1,t.scene.bringToTop()})),this.visible=!0)}},{key:"close",value:function(){this.visible=!1;var e=this.externalScene;e&&e.events.once("create",(function(){return e.scene.stop()}))}}],n&&K(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.Z);function ne(e){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(e)}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t){return oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},oe(e,t)}function ie(e,t){if(t&&("object"===ne(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ae(e){return ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ae(e)}var se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oe(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ae(r);if(o){var n=ae(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ie(this,e)});function s(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this,e,null!=t?t:760,null!=n?n:480)).bg,r.text,r.single,r.dual,r.visible=!1;var o=e.add.rectangle(0,0,1520,960);o.isFilled=!0,o.fillColor=0,o.fillAlpha=.2,r.add(o);var c=e.add.rectangle(0,-95,708,324);c.isFilled=!0,c.fillColor=164045,r.add(c);var l=e.add.text(0,-161,"",{});l.setOrigin(.5,.5),l.text="Message goes here\nMessage goes here",l.setStyle({align:"center",color:"#000000",fixedWidth:628,fontFamily:"Arial Narrow",fontSize:"32px"}),r.add(l);var u=new d(e,0,-35);r.add(u);var f=new I(e,0,-36);return f.visible=!1,r.add(f),new a.vj(o),new a.X7(c).corner=50,r.bg=c,r.text=l,r.single=u,r.dual=f,r}return t=s,(n=[{key:"show",value:function(e,t,n,r){this.text.text=e,this.dual.visible=!1,this.single.visible=!1,this[t].visible=!0,this.callback=n,this.noCallback=r,this.visible=!0}}])&&re(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.Z);function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var le=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.interface=t,this.coin=new v(t,760,480),this.error=new C(t,760,480),this.item=new V(t,760,480),this.loading=new te(t,760,480),this.window=new se(t,760,480),t.add.existing(this.coin),t.add.existing(this.error),t.add.existing(this.item),t.add.existing(this.loading),t.add.existing(this.window)}var t,n;return t=e,n=[{key:"showCoin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.coin.show(e),this.setCursor()}},{key:"showError",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Okay",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return t.error.visible=!1};this.error.show(e,n,r),this.setCursor()}},{key:"showItem",value:function(e){this.item.showItem(e),this.setCursor()}},{key:"showFurniture",value:function(e){this.item.showFurniture(e),this.setCursor()}},{key:"showLoading",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.loading.show(e,t),this.setCursor()}},{key:"showWindow",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"single",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return t.window.visible=!1},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return t.window.visible=!1};this.window.show(e,n,r,o),this.setCursor()}},{key:"hideAll",value:function(){this.loading.visible=!1}},{key:"setCursor",value:function(){this.interface.resetCursor()}}],n&&ce(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t){return he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},he(e,t)}function ye(e,t){if(t&&("object"===ue(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return me(e)}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function be(e){return be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},be(e)}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&he(e,t)}(s,e);var t,n,r,i,a=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=be(r);if(i){var n=be(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ye(this,e)});function s(){var e;de(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ve(me(e=a.call.apply(a,[this].concat(n))),"metricsManager",new o),e}return t=s,n=[{key:"create",value:function(){this.prompt=new le(this),this.interfaces=this.crumbs.scenes.interfaces,this.loadedScenes=[];var e=this.add.graphics();e.lineStyle(16,this.crumbs.frameColor,1),e.strokeRoundedRect(0,0,1520,960,15),this.lastScene}},{key:"loading",get:function(){return this.scene.get("Load")}},{key:"main",get:function(){return this.scene.get("Main")}},{key:"iglooEdit",get:function(){return this.scene.get("IglooEdit")}},{key:"showLoading",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.hideInterface(),this.scene.isActive("Load")?this.loading.setContent(e,t):this.scene.isSleeping("Load")?this.scene.wake("Load",{text:e,showBar:t}):this.scene.launch("Load",{text:e,showBar:t}),this.bringToTop("Load")}},{key:"hideLoading",value:function(){this.loading&&this.loading.scene.isActive()&&this.scene.sleep("Load")}},{key:"showInterface",value:function(){this.hideLoading(),this.scene.isSleeping("Main")?this.scene.wake("Main"):this.scene.isActive("Main")||this.scene.launch("Main"),this.bringToTop("Main")}},{key:"hideInterface",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.main&&this.main.scene.isActive()&&(this.scene.sleep("Main",{clearChat:e}),this.stopExternals())}},{key:"showIglooEdit",value:function(){this.scene.isSleeping("IglooEdit")?this.scene.wake("IglooEdit"):this.scene.isActive("IglooEdit")||this.scene.launch("IglooEdit"),this.bringToTop("IglooEdit")}},{key:"bringToTop",value:function(e){this.scene.bringToTop(e),this.scene.bringToTop(),this.input.setDefaultCursor("default")}},{key:"hideIglooEdit",value:function(){this.iglooEdit&&this.iglooEdit.scene.isActive()&&this.scene.sleep("IglooEdit")}},{key:"showEmoteBalloon",value:function(e,t){this.main.balloonFactory.showEmoteBalloon(e,t)}},{key:"showTextBalloon",value:function(e,t){this.main.balloonFactory.showTextBalloon(e,t)}},{key:"showCard",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.main.playerCard.showCard(e,t)}},{key:"loadExternal",value:function(e){if(e in this.interfaces&&!this.prompt.loading.visible){if(!(e in this.scene.manager.keys))return this.scene.add(e,this.interfaces[e],!0),this.loadedScenes.push(e);this.scene.isVisible(e)?this.scene.get(e).events.emit("showloading"):this.scene.launch(e),this.bringToTop(e)}}},{key:"stopExternals",value:function(){var e,t=this,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(this.loadedScenes);try{var r=function(){var n=e.value,r=t.scene.get(n);r.scene.isActive()?r.scene.stop():r.scene.isVisible()&&r.events.once("create",(function(){return r.scene.stop()}))};for(n.s();!(e=n.n()).done;)r()}catch(e){n.e(e)}finally{n.f()}}},{key:"updateBuddies",value:function(){this.main.scene.isActive()&&(this.main.playerCard.updateButtons(),this.main.buddy.showPage())}},{key:"refreshPlayerCard",value:function(){this.main.playerCard.visible&&this.main.playerCard.id==this.world.client.id&&this.showCard(this.world.client.id,!0)}},{key:"updateCatalogCoins",value:function(e){this.scene.manager.getScenes().filter((function(e){return"Book"==Object.getPrototypeOf(e.constructor).name})).map((function(t){t.coins&&t.setCoins(e)}))}},{key:"resetCursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;if(this.lastScene){if(this.lastScene!=e){this.lastScene.input._over[0].map((function(e){e.input&&e.input.enabled&&e.emit("pointerout")}));var t=e.input._temp[0];(!t||t.input&&!t.input.cursor)&&e.input.setDefaultCursor("default"),this.lastScene.input._over[0]=[],this.lastScene=e}}else this.lastScene=e}}],n&&pe(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(t.Z);function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(9826),n(7941),n(2772),n(3843),n(8559),n(5003),n(9554),n(4747),n(9337),n(3321);var Oe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"setStartPos",value:function(e){if(e.x=this.clampX(e.x),e.y=this.clampY(e.y),this.isBlocked(e)){for(var t=e.room.isIgloo?e.crumbs.scenes.igloos[e.room.args.type]:e.crumbs.scenes.rooms[e.room.id],n=0;n<25;n++){var r=this.getRandomPos(t.x,t.y,80);if(!this.isBlocked(e,r.x,r.y))return e.setPos(r.x,r.y)}e.setPos(t.x,t.y)}}},{key:"getPath",value:function(e,t){var n=e.pos,r=this.getSafeTarget(e,n,t),o=Phaser.Math.Distance.BetweenPoints(n,r);if(o>10){var i=this.getDuration(o,this.speed),a=this.getAngle(n,r);return e.direction=this.getDirection(a),{target:r,duration:i}}}},{key:"getSafeTarget",value:function(e,t,n){n=this.clampPos(n);for(var r=Math.round(Phaser.Math.Distance.BetweenPoints(t,n)),o=(n.x-t.x)/r,i=(n.y-t.y)/r,a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t);r>0&&!this.isBlocked(e,a.x+o,a.y+i);)a.x+=o,a.y+=i,r--;return a.x=Math.round(a.x),a.y=Math.round(a.y),a}},{key:"getDuration",value:function(e,t){return e/t*1e3}},{key:"getAngle",value:function(e,t){var n=t.x-e.x,r=t.y-e.y,o=Math.floor(Math.atan2(r,n)*(180/Math.PI)-90);return o<0?o+360:o}},{key:"getDirection",value:function(e){var t=Math.round(e/45)+1;return t>8?1:t}},{key:"clampPos",value:function(e){return e.x=this.clampX(e.x),e.y=this.clampY(e.y),e}},{key:"clampX",value:function(e){var t=Math.max(this.minX,Math.min(e,this.maxX));return Math.round(t)}},{key:"clampY",value:function(e){var t=Math.max(this.minY,Math.min(e,this.maxY));return Math.round(t)}},{key:"getRandomPos",value:function(e,t,n){return{x:this.clampX(e+Phaser.Math.Between(-n,n)),y:this.clampY(t+Phaser.Math.Between(-n,n))}}},{key:"isBlocked",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.x,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.y;return e.room.matter.containsPoint(e.room.block,t,n)}}],null&&ke(t.prototype,null),n&&ke(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();_e(Oe,"speed",215),_e(Oe,"minX",30),_e(Oe,"maxX",1490),_e(Oe,"minY",30),_e(Oe,"maxY",870);var Se=["user"];function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Pe=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.world=t,this.interface=t.interface,this.network=t.network,this.crumbs=t.crumbs,this.getString=t.getString;var o=n.user,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(n,Se);Object.assign(this,i),this.id=o.id,this.coins=o.coins,this.rank=o.rank,this.joinTime=o.joinTime,this.iglooOpen=!1,this.lastRoom,this.slots=["color","head","face","neck","body","hand","feet","flag","photo","award"],this.inventory=this.initInventory(),this.penguin,this.emoteKeyPressed=!1,this.lastBalloon=Date.now(),this.throttleDelay=100,this.keys=this.crumbs.quick_keys.keys,this.emotes=this.crumbs.quick_keys.emotes,this.keyActions={send_frame:function(e){return r.sendFrame(e)},send_wave:function(){return r.sendFrame(25,!1)},send_sit:function(){return r.sendSit(r.input.mousePointer)},show_crosshair:function(){return r.showCrosshair()},emote_key:function(){return r.emoteKeyPressed=!0},send_emote:function(e){return r.sendEmote(e)},send_safe:function(e){return r.sendSafe(e)}},this.lockRotation=!1,this.input.on("pointermove",(function(e){return r.onPointerMove(e)})),this.input.keyboard.on("keydown",(function(e){return r.onKeyDown(e)}))}var t,n;return t=e,n=[{key:"isTweening",get:function(){return this.penguin.isTweening}},{key:"visible",get:function(){return this.penguin.visible}},{key:"input",get:function(){return this.interface.main.input}},{key:"isBalloonThrottled",get:function(){var e=Date.now();return e-this.lastBalloon<this.throttleDelay||(this.lastBalloon=e,!1)}},{key:"isModerator",get:function(){return this.rank>1}},{key:"initInventory",value:function(){var e,t=Object.fromEntries(this.slots.map((function(e){return[e,[]]}))),n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(this.inventory);try{for(n.s();!(e=n.n()).done;){var r=e.value,o=this.crumbs.items[r].type;t[this.slots[o-1]].push(r)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"onPointerMove",value:function(e){this.interface.main.crosshair.visible&&this.interface.main.onCrosshairMove(e),!this.visible||this.isTweening||this.lockRotation||this.penguin.rotate(e.x,e.y)}},{key:"onPointerUp",value:function(e,t){0==e.button&&this.visible&&(t[0]&&t[0].isButton||this.penguin.move(e.x,e.y))}},{key:"onKeyDown",value:function(e){var t=e.key.toLowerCase();this.emoteKeyPressed?this.processEmote(t):this.processKey(t)}},{key:"processEmote",value:function(e){this.emoteKeyPressed=!1,e in this.emotes&&this.sendEmote(this.emotes[e])}},{key:"processKey",value:function(e){if(e in this.keys){var t=this.keys[e];this.keyActions[t.action](t.value||null)}}},{key:"sendFrame",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.visible&&!this.isTweening&&(this.lockRotation=!0,this.penguin.playFrame(e,t),this.network.send("send_frame",{set:t,frame:e}))}},{key:"sendSit",value:function(e){this.visible&&!this.isTweening&&(this.lockRotation=!0,this.penguin.sit(e.x,e.y))}},{key:"sendSnowball",value:function(e,t){this.visible&&!this.isTweening&&(this.lockRotation=!0,this.interface.main.snowballFactory.throwBall(this.id,e,t),this.network.send("snowball",{x:e,y:t}))}},{key:"sendEmote",value:function(e){this.visible&&!this.isBalloonThrottled&&(this.interface.showEmoteBalloon(this.id,e),this.network.send("send_emote",{emote:e}))}},{key:"sendSafe",value:function(e){if(this.visible&&!this.isBalloonThrottled){var t=this.interface.main.safe.safeMessagesMap[e];this.interface.showTextBalloon(this.id,t),this.network.send("send_safe",{safe:e})}}},{key:"showCrosshair",value:function(){this.visible&&this.interface.main&&this.interface.main.onSnowballClick()}},{key:"sendJoinRoom",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:40;this.interface.showLoading(this.getString("joining",t)),this.lockRotation=!1;var i=Oe.getRandomPos(n,r,o);this.network.send("join_room",{room:e,x:i.x,y:i.y})}},{key:"sendJoinLastRoom",value:function(){if(this.world.lastRoom){var e=this.crumbs.scenes.rooms[this.world.lastRoom];e&&this.sendJoinRoom(this.world.lastRoom,e.key,e.x,e.y,80)}}},{key:"sendJoinIgloo",value:function(e){this.world.room.isIgloo&&this.world.room.id==e||(this.interface.showLoading(this.getString("joining","igloo")),this.lockRotation=!1,this.network.send("join_igloo",{igloo:e,x:0,y:0}))}}],n&&je(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Re=(n(4819),n(2481),n(2707),n(3190));function Ce(e){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e,t){return Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ee(e,t)}function Be(e,t){if(t&&("object"===Ce(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ae(e){return Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ae(e)}var Fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ee(e,t)}(a,Phaser.GameObjects.Sprite);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ae(r);if(o){var n=Ae(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Be(this,e)});function a(e,t,n,r,o){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(s=i.call(this,e,t,n,r,o)).cachedTint,s.tintedCanvas,s}return t=a,(n=[{key:"renderCanvas",value:function(e,t,n,r){n.addToRenderList(t),Re.Z.batchSprite(e,t,t.frame,n,r)}}])&&Te(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}();function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ze=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"create",value:function(e,t,n){var r;if(e.active)return"penguin_body"==t?((r=new Fe(e.room,0,0,t,"1_1")).tint=e.room.world.getColor(e.color),e.bodySprite=r,e.room.add.existing(r)):r=e.room.add.sprite(0,0,t,"1_1"),r.depth=n,e.add(r),r}}],null&&Ie(t.prototype,null),n&&Ie(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Me(e){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(e)}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Le(e,t){return Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Le(e,t)}function Ne(e,t){if(t&&("object"===Me(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ze(e){return Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ze(e)}var Xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Le(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ze(r);if(o){var n=Ze(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ne(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e.room)).penguin=e,t.equipped=t.penguin.items.equipped,t.baseURL="/assets/media/clothing/sprites/",t.keyPrefix="clothing/sprites/",t}return t=a,(n=[{key:"loadItems",value:function(){for(var e in this.equipped){var t=this.equipped[e];t.id>0&&this.loadItem(t.id,e)}this.start()}},{key:"loadItem",value:function(e,t){var n=this;if(0==e)return this.removeItem(t);this.equipped[t].sprite&&this.removeItem(t);var r=this.getKey(e);this.checkComplete("json",r,(function(){n.onFileComplete(r,t)}))||this.multiatlas(r,"".concat(e,".json"))}},{key:"onFileComplete",value:function(e,t){if(this.textureExists(e)){var n=this.equipped[t];n.sprite&&this.removeItem(t),n.sprite=ze.create(this.penguin,e,n.depth+1),this.penguin.sort("depth"),this.penguin.playFrame(this.penguin.frame)}}},{key:"removeItem",value:function(e){var t=this.equipped[e];t&&t.sprite&&(t.sprite.destroy(),t.sprite=null)}}])&&De(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(z.Z),Ye=(n(9720),["color","photo","flag"]);function We(e,t){if(e){if("string"==typeof e)return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?He(e,t):void 0}}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ge=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.penguin=t,this.slots=["photo","flag","color","feet","body","neck","hand","face","head"],this.all=this.setAll()}var t,n;return t=e,n=[{key:"equipped",get:function(){var e=this.all;return e.color,e.photo,e.flag,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Ye)}},{key:"equippedFlat",get:function(){return this.flatten(this.equipped)}},{key:"flat",get:function(){return this.flatten(this.all)}},{key:"flatten",value:function(e){return Object.fromEntries(Object.entries(e).map((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||We(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2);return[t[0],t[1].id]})))}},{key:"setAll",value:function(){var e,t={},n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=We(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(this.slots);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r]={id:this.penguin[r],depth:this.slots.indexOf(r)}}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"setItem",value:function(e,t){this.all[t].id=e}}],n&&Ue(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function qe(e){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(e)}function Ve(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$e(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Je(e,t){return Je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Je(e,t)}function Qe(e,t){if(t&&("object"===qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return et(e)}function et(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tt(e){return tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},tt(e)}var nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Je(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=tt(r);if(o){var n=tt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Qe(this,e)});function a(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=i.call(this,t,e.x,e.y),Object.assign(et(r),e),r.room=t,r.penguinLoader=n,r.items=new Ge(et(r)),r.clothingLoader=new Xe(et(r)),r.bodySprite,Oe.setStartPos(et(r)),r.depth=r.y,r.tween,r.direction,r.nameTag=n.addName(et(r)),r.balloon,r.balloonTimer,r.textBalloon,r.emoteBalloon,r.on("destroy",(function(){return r.onDestroy()})),r.isButton=!0,r.afterMove,r.load(),r}return t=a,n=[{key:"isTweening",get:function(){return!!this.tween}},{key:"pos",get:function(){return{x:this.x,y:this.y}}},{key:"playerCard",get:function(){return this.interface.main.playerCard}},{key:"paperDollLoader",get:function(){return this.playerCard.paperDoll.paperDollLoader}},{key:"onDestroy",value:function(){delete this.body}},{key:"load",value:function(){this.penguinLoader.loadPenguin(this),this.clothingLoader.loadItems(),this.room.add.existing(this)}},{key:"update",value:function(e,t){this.items.setItem(e,t),"color"==t&&this.bodySprite&&(this.bodySprite.tint=this.world.getColor(e)),t in this.items.equipped&&(this.clothingLoader.loadItem(e,t),this.clothingLoader.start()),this.playerCard.visible&&this.playerCard.id==this.id&&(this.paperDollLoader.loadItem(e,t),this.paperDollLoader.start())}},{key:"move",value:function(e,t){var n=Oe.getPath(this,{x:e,y:t});n&&this.addMoveTween(n)}},{key:"setPos",value:function(e,t){this.x=e,this.y=t}},{key:"playFrame",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.isTweening||!(o<9||o>16)){var n,r=this.list.filter((function(e){return"Sprite"==e.type})),o=[25,26].includes(e)?this.getSecretFrame(e):e,i=Ve(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.animating)return;o=a.texture.key.includes("puffle")&&[63,32,39,36,44,45,42,43,37,51,71].includes(o)?26:a.texture.key.includes("puffle")&&[52].includes(o)?13:[25,26].includes(e)?this.getSecretFrame(e):e;var s="".concat(a.texture.key,"_").concat(o);this.world.anims.exists(s)||(s=this.createAnim(a.texture.key,o)),this.checkAnim(s)?(a.visible=!0,a.anims.play(s)):a.visible=!1}}catch(e){i.e(e)}finally{i.f()}this.frame=t?e:1}}},{key:"createAnim",value:function(e,t){var n=this.crumbs.penguin[t],r=this.generateFrames(e,t,n);return 36==t&&(r=r.slice(-18)),this.world.anims.create({key:"".concat(e,"_").concat(t),frames:r,frameRate:24,repeat:n.repeat||0}),"".concat(e,"_").concat(t)}},{key:"generateFrames",value:function(e,t,n){var r={prefix:"".concat(t,"_"),frames:n.frames||Phaser.Utils.Array.NumberArray(n.start||1,n.end)},o=this.world.textures.get(e).getFrameNames(!1);return r.frames=r.frames.filter((function(e){return o.includes("".concat(t,"_").concat(e))})),this.world.anims.generateFrameNames(e,r)}},{key:"checkAnim",value:function(e){var t=this.world.anims.get(e);return t&&t.frames.length>0}},{key:"getSecretFrame",value:function(e){var t,n=this.items.equippedFlat,r=Ve(this.crumbs.secret_frames[e]);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(this.checkSecretFrames(n,o))return o.secret_frame}}catch(e){r.e(e)}finally{r.f()}return e}},{key:"checkSecretFrames",value:function(e,t){for(var n in e)if(e[n]!==t[n])return!1;return t.secret_frame in this.crumbs.penguin}},{key:"addMoveTween",value:function(e){var t=this;this.tween&&this.removeTween(!1),this.playFrame(this.direction+8),this.tween=this.room.tweens.add({targets:this,duration:e.duration,x:Math.round(e.target.x),y:Math.round(e.target.y),onUpdate:function(){return t.onMoveUpdate()},onComplete:function(){return t.onMoveComplete()}}),this.prevX=this.x,this.prevY=this.y}},{key:"onMoveUpdate",value:function(){this.depth=this.y,this.nameTag&&this.updateNameTag(),this.balloon&&this.updateBalloon();var e=this.x-this.prevX,t=this.y-this.prevY;this.pufflesprite&&this.pufflesprite.animating&&(this.pufflesprite.x-=e,this.pufflesprite.y-=t),this.prevX=this.x,this.prevY=this.y}},{key:"onMoveComplete",value:function(){this.removeTween(),this.afterMove&&(this.afterMove(),this.afterMove=null)}},{key:"updateNameTag",value:function(){this.nameTag.x=this.x,this.nameTag.y=this.y+40,this.nameTag.depth=this.depth+2e3}},{key:"updateBalloon",value:function(){this.balloon.x=this.x,this.balloon.y=this.y-95}},{key:"removeTween",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.tween&&(this.tween.remove(),this.tween=null,e&&this.playFrame(this.direction))}},{key:"playPuffleAnim",value:function(e){var t=this;if(this.pufflesprite){var n=this.getPuffleAnimPos(e);this.pufflesprite.x=n.x,this.pufflesprite.y=n.y,this.pufflesprite.play("puffle_".concat(this.pufflesprite.color,"_").concat(e)),this.pufflesprite.animating=!0,this.pufflesprite.once("animationrepeat",(function(){t.pufflesprite.stop(null,!0),t.pufflesprite.animating=!1,t.pufflesprite.setTexture("puffle_"+t.pufflesprite.color,t.direction+"_1"),t.pufflesprite.x=60,t.pufflesprite.y=0}))}}},{key:"getPuffleAnimPos",value:function(e){var t,n;switch(e){case"adopt":t=0,n=-60;break;case"dive":t=150,n=50;break;case"eat":t=60,n=-80;break;case"hydrant":t=100,n=10;break;case"maxed":t=75,n=-50;break;case"jumpspin":t=60,n=-20;break;case"jumpforward":t=80,n=-5;break;case"roll":t=110,n=0;break;case"standonhead":t=75,n=-15;break;default:t=60,n=0}return{x:t,y:n}}}],n&&Ke(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Z);function rt(e){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rt(e)}function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function at(){return at="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=st(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},at.apply(this,arguments)}function st(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ft(e)););return e}function ct(e,t){return ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ct(e,t)}function lt(e,t){if(t&&("object"===rt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ut(e)}function ut(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ft(e){return ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ft(e)}var dt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ct(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ft(r);if(o){var n=ft(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return lt(this,e)});function a(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,t,n)).isClient=!0,r.savedPenguins=r.network.savedPenguins,r.save=r.savedPenguins[r.username.toLowerCase()],n.addRing(ut(r)),r}return t=a,n=[{key:"update",value:function(e,t){at(ft(a.prototype),"update",this).call(this,e,t),this.save&&t in this.save&&(this.save[t]=e,localStorage.setItem("saved_penguins",JSON.stringify(this.savedPenguins)))}},{key:"rotate",value:function(e,t){var n=Oe.getAngle(this.pos,{x:e,y:t+80}),r=Oe.getDirection(n);this.direction=r,this.playFrame(r)}},{key:"sit",value:function(e,t){var n=Oe.getAngle(this.pos,{x:e,y:t+80}),r=Oe.getDirection(n)+16;this.playFrame(r),this.network.send("send_frame",{set:!0,frame:r})}},{key:"move",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r&&(this.afterMove=function(){return n.world.client.sendFrame(r)});var o=Oe.getPath(this,{x:e,y:t});o&&(this.addMoveTween(o),this.network.send("send_position",{x:o.target.x,y:o.target.y}))}},{key:"onMoveComplete",value:function(){this.world.client.lockRotation=!1,at(ft(a.prototype),"onMoveComplete",this).call(this),this.isTrigger()}},{key:"isTrigger",value:function(){if(this.room.triggers){var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ot(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(this.room.triggers);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(this.room.matter.containsPoint(n,this.x,this.y)&&n.callback)return n.callback()}}catch(e){t.e(e)}finally{t.f()}}}}],n&&it(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(nt);function pt(e){return pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pt(e)}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yt(e,t){return yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},yt(e,t)}function mt(e,t){if(t&&("object"===pt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function bt(e){return bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bt(e)}n(2564);var vt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yt(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=bt(r);if(o){var n=bt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return mt(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e.room)).penguin=e,t.baseURL="/assets/media/puffles/",t.keyPrefix="puffle_",t}return t=a,(n=[{key:"loadPuffle",value:function(e,t){var n=this,r=this.getKey(t),o=setInterval((function(){n.onFileComplete(r,t,e),clearInterval(o)}),100);this.start()}},{key:"onFileComplete",value:function(e,t,n){this.textureExists(e)&&this.penguin.penguinLoader.loadPuffle(n,t)}}])&&ht(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(z.Z);function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var wt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.world=t,this.nameStyle={fontFamily:"Arial",fontSize:24,color:"#000000",align:"center",fixedWidth:250}}var t,n;return t=e,(n=[{key:"loadPenguin",value:function(e){this.ploader=new vt(e),this.addPenguin(e),this.addShadow(e),this.addInput(e)}},{key:"addPenguin",value:function(e){ze.create(e,"penguin_body",1),ze.create(e,"penguin",2)}},{key:"addShadow",value:function(e){var t=e.room.add.image(0,0,"penguin_base","shadow");e.addAt(t,0)}},{key:"addRing",value:function(e){var t=e.room.add.image(0,0,"penguin_base","ring");e.addAt(t,0)}},{key:"addName",value:function(e){var t=e.x,n=e.y+40,r=e.room.add.text(t,n,e.username,this.nameStyle);return r.setOrigin(.5),r.depth=e.depth+2e3,r}},{key:"addInput",value:function(e){var t=this,n=new Phaser.Geom.Ellipse(0,-20,70,90);e.setInteractive({cursor:"pointer",hitArea:n,hitAreaCallback:Phaser.Geom.Ellipse.Contains}),e.on("pointerup",(function(){return t.onPenguinClick(e.id)}))}},{key:"onPenguinClick",value:function(e){this.world.interface.showCard(e)}},{key:"addPuffle",value:function(e,t){if(e.puffle&&e.active&&!e.hasPuffle){var n=this.world.crumbs.puffles[t].name;this.ploader.loadPuffle(e,n)}}},{key:"loadPuffle",value:function(e,t){e.puffle&&(e.pufflesprite=e.room.add.sprite(60,0,"puffle_".concat(t),"1_1"),e.pufflesprite.depth=3,e.add(e.pufflesprite),e.pufflesprite.color=t,e.hasPuffle=!0,this.world.client.penguin.id==this.world.room.id&&this.addPuffleInput(e))}},{key:"addPuffleInput",value:function(e){var t=this;e.pufflesprite.hitArea=new Phaser.Geom.Ellipse(25,25,50,50),e.pufflesprite.setInteractive({cursor:"pointer",hitArea:e.pufflesprite.hitArea,hitAreaCallback:Phaser.Geom.Ellipse.Contains}),e.pufflesprite.on("pointerup",(function(){return t.onPuffleClick(e.puffle)})),e.pufflesprite.isButton=!0}},{key:"onPuffleClick",value:function(e){this.world.network.send("get_wellbeing",{puffle:e})}}])&&gt(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ot=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.world=t,this.penguinLoader=new wt(t)}var t,n;return t=e,(n=[{key:"createPenguin",value:function(e,t){var n=this.world.client;return e.puffle&&0!==e.puffle&&this.world.network.send("get_puffle_color",{puffle:e.puffle,penguinId:e.id}),console.log(0!==e.puffle),e.id==n.id?(n.penguin=new dt(e,t,this.penguinLoader),n.penguin):new nt(e,t,this.penguinLoader)}},{key:"createPenguins",value:function(e,t){var n,r={},o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;i.id in r||(r[i.id]=this.createPenguin(i,t))}}catch(e){o.e(e)}finally{o.f()}return r}}])&&_t(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var xt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.world=t,this.scene=t.scene,this.rooms=t.crumbs.scenes.rooms,this.igloos=t.crumbs.scenes.igloos,this.games=t.crumbs.games}var t,n;return t=e,(n=[{key:"create",value:function(e){return e.room?this.createRoom(e):e.igloo?this.createIgloo(e):e.game?this.createGame(e):void 0}},{key:"createRoom",value:function(e){var t=this.rooms[e.room];return t.key in this.scene.manager.keys?(this.scene.start(t.key),this.scene.get(t.key)):this.scene.add(t.key,t.scene,!0,{id:e.room})}},{key:"createIgloo",value:function(e){var t=this.igloos[e.type];return t.key in this.scene.manager.keys?(this.scene.start(t.key,{args:e}),this.scene.get(t.key)):this.scene.add(t.key,t.scene,!0,{args:e})}},{key:"createGame",value:function(e){var t=this.games[e.game];t.flash&&this.world.ruffle.bootGame(t)}}])&&St(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(4812),n(1058),n(9600),n(3123),n(561);var Rt=function(){function e(t,n,r){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.world=t,this.RuffleHolder=n,this.crumbs=r,window.RufflePlayer=window.RufflePlayer||{},window.RufflePlayer.config={publicPath:"assets/scripts/lib/ruffle"},"true"!==localStorage.noRuffle&&(this.ruffle=window.RufflePlayer.newest(),this.rufflePlayer=this.ruffle.createPlayer(),this.rufflePlayer.style.width="1520px",this.rufflePlayer.style.height="960px",this.rufflePlayer.style.pointerEvents="auto",this.RuffleHolder.add.dom(760,480,this.rufflePlayer),document.getElementsByTagName("ruffle-player")[0].style.visibility="hidden",this.ruffle=window.RufflePlayer,window.getMyPlayerHex=this.getMyPlayerHex,window.getMyPlayerHex=getMyPlayerHex.bind(this),window.killMinigame=this.killMinigame,window.killMinigame=killMinigame.bind(this),window.killSwf=this.killSwf,window.killSwf=killSwf.bind(this),window.onSSEInit=this.onSSEInit,window.onSSEInit=onSSEInit.bind(this),window.setCannonData=this.setCannonData,window.setCannonData=setCannonData.bind(this),window.getCannonData=this.getCannonData,window.getCannonData=getCannonData.bind(this),window.getStampInfo=this.getStampInfo,window.getStampInfo=getStampInfo.bind(this),window.checkIfPlayerHasStamp=this.checkIfPlayerHasStamp,window.checkIfPlayerHasStamp=checkIfPlayerHasStamp.bind(this),window.playerWearingItem=this.playerWearingItem,window.playerWearingItem=playerWearingItem.bind(this),window.getLocalizedString=this.getLocalizedString,window.getLocalizedString=getLocalizedString.bind(this),window.getMyPuffleCount=this.getMyPuffleCount,window.getMyPuffleCount=getMyPuffleCount.bind(this),window.getMyPlayerTotalCoins=this.getMyPlayerTotalCoins,window.getMyPlayerTotalCoins=getMyPlayerTotalCoins.bind(this),window.getMyPlayerUsername=this.getMyPlayerUsername,window.getMyPlayerUsername=getMyPlayerUsername.bind(this),window.adoptPuffle=this.adoptPuffle,window.adoptPuffle=adoptPuffle.bind(this),window.getPostcards=this.getPostcards,window.getPostcards=getPostcards.bind(this),window.deletePostcard=this.deletePostcard,window.deletePostcard=deletePostcard.bind(this),window.sendPostcard=this.sendPostcard,window.sendPostcard=sendPostcard.bind(this),window.getCurrentPostcards=this.getCurrentPostcards,window.getCurrentPostcards=getCurrentPostcards.bind(this),this.swfInstance=this.rufflePlayer.load({url:"assets/media/games/swf/sse.swf",allowScriptAccess:!0,quality:"low",logLevel:"true"===localStorage.getItem("debugMode")?"Trace":"Error"}))}var t,n;return t=e,n=[{key:"handleLoadMinigame",value:function(e){var t=document.getElementsByTagName("ruffle-player")[0];t.play(),t.style.visibility="visible",t.volume=.05,t.loadMinigame("".concat(e,"/bootstrap.swf")),this.world.client.inMinigame=!0}},{key:"handleLoadOtherSwf",value:function(e,t){var n=document.getElementsByTagName("ruffle-player")[0];n.play(),n.style.visibility="visible",n.volume=.05,n.loadOtherSwf(e,t)}},{key:"onSSEInit",value:function(){var e=document.getElementsByTagName("ruffle-player")[0];e.setMediaPath("/assets/media/games/swf/","/assets/media/swf/"),console.log("sse + ruffle init"),e.pause()}},{key:"getMyPlayerHex",value:function(){return this.world.getColor(this.world.client.penguin.color)}},{key:"killMinigame",value:function(e,t,n){document.getElementsByTagName("ruffle-player")[0].style.visibility="hidden";var r=this.crumbs.scenes.rooms[t];this.world.client.sendJoinRoom(t,r.key),this.world.client.inMinigame=!1,this.world.network.send("end_ruffle_mingame",{coins:n,game:e})}},{key:"killSwf",value:function(){var e=document.getElementsByTagName("ruffle-player")[0];e.style.visibility="hidden",e.pause()}},{key:"setCannonData",value:function(e){console.log("set cannon data",e);var t=this.compressCannonData(e);this.world.client.cannonData=t,this.world.network.send("set_cannon_data",{data:t})}},{key:"getCannonData",value:function(){return console.log("get cannon data",this.world.client.cannonData),this.uncompressCannonData(this.world.client.cannonData)}},{key:"getStampInfo",value:function(e){var t=this.crumbs.stamps[e];return console.log("get stamp info ".concat(e),t),[t.name,t.groupid,t.difficulty,t.description]}},{key:"checkIfPlayerHasStamp",value:function(e){var t=this.world.client.stamps.includes(parseInt(e));return console.log("check if player has stamp ".concat(e),t),t}},{key:"playerWearingItem",value:function(e){var t=this.world.client.penguin.items.equippedFlat;for(var n in t)if(t[n]===e)return!0}},{key:"compressCannonData",value:function(e){var t,n=[],r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;1==o[1]?n.push(1):0==o[1]?n.push(0):600==o[1]?n.push("A"):n.push(o[1])}}catch(e){r.e(e)}finally{r.f()}return n.join("#")}},{key:"uncompressCannonData",value:function(e){var t=[],n=e.split("#");for(var r in n)r<36?t.push(["level"+(parseInt(r)+1)+"playerPuffleOs",n[r]]):r<72?"A"==n[r]?t.push(["level"+(parseInt(r)-35)+"bestTime",600]):t.push(["level"+(parseInt(r)-35)+"bestTime",n[r]]):r<108?0==n[r]?t.push(["level"+(parseInt(r)-71)+"turboDone",!1]):1==n[r]&&t.push(["level"+(parseInt(r)-71)+"turboDone",!0]):console.log("too much compressed cannon data, some has been ommitted!");return t}},{key:"getLocalizedString",value:function(e){return this.world.getString(e)}},{key:"getMyPuffleCount",value:function(){return this.world.client.pufflecount}},{key:"getMyPlayerTotalCoins",value:function(){return this.world.client.coins}},{key:"getMyPlayerUsername",value:function(){return this.world.client.penguin.username}},{key:"adoptPuffle",value:function(e,t){this.world.network.send("adopt_puffle",{type:e,name:t}),this.world.network.send("walk_puffle",{puffle:e})}},{key:"getPostcards",value:function(){return this.world.client.postcards}},{key:"deletePostcard",value:function(e){var t=this;this.world.client.postcards.splice(e,1),clearTimeout(this.postcardTimeout),this.postcardTimeout=setTimeout((function(){return t.world.network.send("update_postcards",{postcardArray:t.world.client.postcards},1e3)}))}},{key:"sendPostcard",value:function(e,t){this.world.network.send("send_postcard",{id:e,username:t})}},{key:"getCurrentPostcards",value:function(){return[{title:"Featured Postcards",id1:217,name1:"Let's Explore",id2:43,name2:"Happy Puffles",id3:36,name3:"You're Funny",id4:62,name4:"Let's Hang Out",id5:48,name5:"Follow Me",id6:12,name6:"Welcome to Club Penguin"},{title:"Friendship",id1:32,name1:"Terrific Friend",id2:57,name2:"Be My Buddy",id3:35,name3:"Long Time No See",id4:200,name4:"Campfire Story",id5:201,name5:"Thank You",id6:64,name6:"Stopping By"},{title:"Friendship",id1:56,name1:"Hey There",id2:24,name2:"Cool Name",id3:25,name3:"Awesome Outfit",id4:26,name4:"I Like Your Outfit",id5:88,name5:"My Tour",id6:219,name6:"Best Friends for Life!"},{title:"Puffles",id1:222,name1:"Bring your puffles!",id2:231,name2:"Cool Puffles!",id3:224,name3:"Green Puffle",id4:225,name4:"Orange Puffle",id5:220,name5:"Black Puffle",id6:221,name6:"Blue Puffle"},{title:"Igloo",id1:1,name1:"Re-decorated Igloo",id2:202,name2:"Check out my igloo",id3:27,name3:"Party at my iggy!",id4:61,name4:"Igloo Party",id5:17,name5:"Cool Igloo",id6:237,name6:"Thanks for my gift!"},{title:"Games",id1:10,name1:"Mancala",id2:19,name2:"Great Game",id3:52,name3:"Ski Hill",id4:218,name4:"My Stamp Book",id5:59,name5:"Find Four",id6:206,name6:"Stamp Book"},{title:"Rooms",id1:20,name1:"Snow Forts",id2:21,name2:"Pool",id3:55,name3:"Dojo",id4:29,name4:"Tip The Berg",id5:30,name5:"Hidden Lake",id6:16,name6:"Ice Rink"}]}}],n&&Pt(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ct(e){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct(e)}function Tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Et(e,t){return Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Et(e,t)}function Bt(e,t){if(t&&("object"===Ct(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function At(e){return At=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},At(e)}var Ft=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Et(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=At(r);if(o){var n=At(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Bt(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).client,t.room,t}return t=a,n=[{key:"create",value:function(){var e=this.scene.get("RuffleHolder");this.RuffleManager=new Rt(this,e,this.crumbs),this.penguinFactory=new Ot(this),this.roomFactory=new xt(this),this.scene.start("RuffleController"),this.network.send("get_puffle_count")}},{key:"setClient",value:function(e){this.client=new Pe(this,e)}},{key:"joinRoom",value:function(e){var t=this;if(!this.room)return this.createRoom(e);this.room.events.once("shutdown",(function(){return t.createRoom(e)})),this.room.stop()}},{key:"createRoom",value:function(e){var t=this;this.room=this.roomFactory.create(e),e.users&&(this.lastRoom=this.room.id,this.room.waiting=e.users,this.room.events.once("create",(function(){return t.addPenguins()})))}},{key:"addPenguins",value:function(){this.room.penguins=this.penguinFactory.createPenguins(this.room.waiting,this.room)}},{key:"addPenguin",value:function(e){if(!this.room.isReady&&!this.room.getWaiting(e.id))return this.room.waiting.push(e);if(!(e.id in this.room.penguins)){var t=this.penguinFactory.createPenguin(e,this.room);this.room.addPenguin(e.id,t)}}},{key:"removePenguin",value:function(e){if(!this.room.isReady)return this.room.removeWaiting(e);this.room.removePenguin(e)}},{key:"getRelationship",value:function(e){return e==this.client.id?"player":this.isBuddy(e)?this.isOnline(e)?"online":"offline":this.isIgnore(e)?"ignore":"none"}},{key:"isBuddy",value:function(e){return this.client.buddies.map((function(e){return e.id})).includes(e)}},{key:"isIgnore",value:function(e){return this.client.ignores.map((function(e){return e.id})).includes(e)}},{key:"isOnline",value:function(e){return this.client.buddies.find((function(t){return t.id==e})).online}},{key:"getColor",value:function(e){return this.crumbs.colors[e-1]||this.crumbs.colors[0]}},{key:"loadMinigame",value:function(e){this.RuffleManager.handleLoadMinigame(e)}}],n&&Tt(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(t.Z);function It(e){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},It(e)}function zt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mt(e,t){return Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Mt(e,t)}function Dt(e,t){if(t&&("object"===It(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Lt(e){return Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Lt(e)}var Nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mt(e,t)}(i,Phaser.Scene);var t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Lt(n);if(r){var o=Lt(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return Dt(this,e)});function i(){return zt(this,i),o.apply(this,arguments)}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}();function Zt(e){return Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zt(e)}function Xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yt(e,t){return Yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Yt(e,t)}function Wt(e,t){if(t&&("object"===Zt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ht(e){return Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ht(e)}var Ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yt(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ht(r);if(o){var n=Ht(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Wt(this,e)});function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this,"Load")).text,e.bar,e.progress,e.spinner,e.loading,e}return t=s,(n=[{key:"preload",value:function(){this.load.pack("load-pack","assets/media/interface/menus/load/load-pack.json")}},{key:"_create",value:function(){var e=this.add.image(0,0,"load","bg");e.setOrigin(0,0);var t=this.add.rectangle(760,480,128,128);t.scaleX=11.909224665264004,t.scaleY=7.484623172550488,t.isFilled=!0,t.fillColor=1270724;var n=this.add.text(760,520,"",{});n.setOrigin(.5,0),n.setStyle({align:"center",fixedWidth:800,fixedHeight:40,fontFamily:"Burbank Small",fontSize:"32px"});var r=this.add.container(760,480);r.visible=!1;var o=this.add.rectangle(0,0,200,40);o.isStroked=!0,o.strokeColor=26265,o.lineWidth=4,r.add(o);var i=this.add.rectangle(-90,0,180,20);i.scaleX=0,i.setOrigin(0,.5),i.isFilled=!0,i.fillColor=15790320,r.add(i);var s=this.add.image(760,400,"load","spinner"),c=this.add.sprite(760,340,"loading_assets","pizzatron0001.png");c.visible=!1,new a.vj(e),this.text=n,this.bar=r,this.progress=i,this.spinner=s,this.loading=c,this.events.emit("scene-awake")}},{key:"create",value:function(e){this.events.on("sleep",this.onSleep,this),this.events.on("wake",this.onWake,this),this._create(),this.tween=this.tweens.add({targets:this.spinner,angle:{from:0,to:180},duration:900,repeat:-1,ease:"Cubic"}),"legacy"==localStorage.clientMode?(this.spinner.visible=!1,this.loading.visible=!0,this.text.setPosition(760,600),this.setupLoadingAnims(),this.setContent(e.text,!1)):this.setContent(e.text,e.showBar)}},{key:"setupLoadingAnims",value:function(){var e=Phaser.Math.RND.between(0,2);0==e?(this.loading.setPosition(760,410),this.loading.play("shovelling")):1==e?(this.loading.setPosition(760,320),this.loading.play("pizzatron")):(this.loading.setPosition(760,390),this.loading.play("cartSurfer"))}},{key:"onSleep",value:function(){"legacy"==localStorage.clientMode&&(this.tween.pause(),this.spinner.angle=0),this.timeout&&clearTimeout(this.timeout)}},{key:"onWake",value:function(e,t){"legacy"==localStorage.clientMode?(this.setupLoadingAnims(),this.setContent(t.text,!1)):(this.tween.restart(),this.tween.play(),this.setContent(t.text,t.showBar))}},{key:"setContent",value:function(e,t){this.text.text=e}}])&&Xt(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(t.Z);function Gt(e){return Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gt(e)}function qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vt(e,t){return Vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Vt(e,t)}function $t(e,t){if(t&&("object"===Gt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Kt(e){return Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Kt(e)}var Jt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vt(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Kt(r);if(o){var n=Kt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return $t(this,e)});function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),i.call(this,"Start")}return t=s,(n=[{key:"create",value:function(){var e=this,t=this.add.image(0,0,"load","bg");t.setOrigin(0,0),t.visible=!1,this.add.image(760,420,"start","startscreen").visible=!1,this.add.image(760,766,"start","bottom").visible=!1;var n=this.add.image(364,812,"start","blog");n.visible=!1,this.add.image(1281,771,"start","penguin-1").visible=!1,this.add.image(1274,855,"start","penguin-2").visible=!1,this.add.image(760,682,"start","logo").visible=!1,this.add.image(760,480,"newstart","bg");var r=this.add.rectangle(759,919,128,128);r.scaleX=2.6720751968942604,r.scaleY=.5243142435138686,r.isFilled=!0,r.fillColor=1270724,this.add.image(760,382,"newstart","bannerdefault"),this.add.image(759,811,"newstart","bar");var o=this.add.image(410,812,"newstart","button"),i=this.add.image(1110,812,"newstart","button");this.add.image(753,811,"newstart","logo");var s=this.add.text(321,797,"",{});s.text="Create Account",s.setStyle({fontFamily:"Burbank Regular Bold",fontSize:"30px"});var c=this.add.text(1075,797,"",{});c.text="Login",c.setStyle({fontFamily:"Burbank Regular Bold",fontSize:"30px"}),this.add.image(760,911,"newstart","ver");var l=this.add.text(723.5,897,"",{});l.text="ver 1.0",l.setStyle({fontFamily:"Burbank Small Medium",fontSize:"25px"}),new a.rF(n).callback=function(){return e.onBlogClick()};var u=new a.zx(o);u.spriteName="button",u.callback=function(){return e.onCreateClick()},u.activeFrame=!1;var f=new a.zx(i);f.spriteName="button",f.callback=function(){return e.onStartClick()},f.activeFrame=!1,this.events.emit("scene-awake")}},{key:"onBlogClick",value:function(){}},{key:"onStartClick",value:function(){if(this.network.isSavedPenguins)return this.scene.start("PenguinSelect");this.scene.start("Login")}},{key:"onCreateClick",value:function(){window.location.href="/create"}}])&&qt(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(t.Z);function Qt(e){return Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qt(e)}function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach((function(t){nn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function on(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function an(e,t){return an=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},an(e,t)}function sn(e,t){if(t&&("object"===Qt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function cn(e){return cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},cn(e)}n(7207);var ln=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&an(e,t)}(a,Phaser.GameObjects.DOMElement);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=cn(r);if(o){var n=cn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return sn(this,e)});function a(e,t,n,r,o){var s,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){},l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100,u=!(arguments.length>7&&void 0!==arguments[7])||arguments[7];rn(this,a);var f=document.createElement("input");o=tn({backgroundColor:"transparent",border:"transparent",outline:"transparent",pointerEvents:"auto"},o),f.type=r,f.autocomplete="new-password",f.spellcheck=!1,f.maxLength=l,(s=i.call(this,e,t,n,f,o)).callback=c,s.preventTab=u;var d=s.getTotalPadding(o.padding);return s.phaserText=s.scene.add.text(t,n,"",{fixedWidth:o.width-d,fontFamily:o.fontFamily,fontSize:o.fontSize,color:o.color}),s.phaserText.setOrigin(.5,.5),s.phaserText.visible=!1,s.addListeners(),s.addInput(),s}return t=a,(n=[{key:"text",get:function(){return this.node.value}},{key:"setText",value:function(e){this.node.value=e}},{key:"getTotalPadding",value:function(e){if(!e)return 0;var t=e.replaceAll("px","").split(" ");return parseInt(t[1])+parseInt(t[3])}},{key:"addListeners",value:function(){var e=this;this.addListener("focus"),this.addListener("blur"),this.addListener("keydown"),this.scene.events.on("showinput",(function(){return e.onShow()})),this.scene.events.on("hideinput",(function(){return e.onHide()})),this.on("destroy",(function(){return e.onDestroy()}))}},{key:"addInput",value:function(){var e=this;this.on("focus",(function(){return e.onFocus()})),this.on("blur",(function(){return e.onBlur()})),this.on("keydown",(function(t){return e.onKeyDown(t)}))}},{key:"onFocus",value:function(){this.clearEmoteKey(),this.scene.game.input.keyboard.enabled=!1}},{key:"onBlur",value:function(){this.clearEmoteKey(),this.scene.game.input.keyboard.enabled=!0}},{key:"onKeyDown",value:function(e){"Enter"==e.key?(e.preventDefault(),this.text||this.node.blur(),this.callback()):"Tab"==e.key&&this.preventTab&&e.preventDefault()}},{key:"onShow",value:function(){this.phaserText.visible=!1,this.visible=!0}},{key:"onHide",value:function(){var e="password"==this.node.type?"".repeat(this.text.length):this.text;this.phaserText.text=e,this.phaserText.visible=!0,this.visible=!1}},{key:"onDestroy",value:function(){this.scene.events.off("showinput"),this.scene.events.off("hideinput")}},{key:"setFocus",value:function(){this.node.focus()}},{key:"clearText",value:function(){this.setText("")}},{key:"clearEmoteKey",value:function(){this.scene.world.client&&(this.scene.world.client.emoteKeyPressed=!1)}}])&&on(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}();function un(e){return un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},un(e)}function fn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dn(e,t){return dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},dn(e,t)}function pn(e,t){if(t&&("object"===un(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function hn(e){return hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hn(e)}var yn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dn(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=hn(r);if(o){var n=hn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return pn(this,e)});function s(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this,e,null!=t?t:760,null!=n?n:480)).password,r.username;var o=e.add.text(34,56,"",{});o.setOrigin(0,.5),o.text="Remember my password",o.setStyle({align:"right",color:"#000000ff",fontFamily:"Arial Narrow",fontSize:"30px"}),o.setLineSpacing(25),r.add(o);var c=e.add.text(34,1,"",{});c.setOrigin(0,.5),c.text="Remember me on this computer",c.setStyle({align:"right",color:"#000000ff",fontFamily:"Arial Narrow",fontSize:"30px"}),c.setLineSpacing(25),r.add(c);var l=e.add.image(0,55,"login","checkbox");l.setOrigin(.41509434,.58490566),r.add(l);var u=e.add.image(0,0,"login","checkbox");return u.setOrigin(.41509,.5849),r.add(u),new a.rF(l).callback=function(){return r.onRememberPasswordClick()},new a.rF(u).callback=function(){return r.onRememberMeClick()},r.password=l,r.username=u,r.scene=e,u.checked=!1,l.checked=!1,r}return t=s,(n=[{key:"onRememberMeClick",value:function(){this.password.checked&&this.disable(this.password),this.toggle(this.username)}},{key:"onRememberPasswordClick",value:function(){if(!this.password.checked)return this.scene.events.emit("hideinput"),this.scene.waitPrompt.visible=!0;this.disable(this.username),this.disable(this.password)}},{key:"toggle",value:function(e){var t=e.checked?"checkbox":"checkbox-active";e.checked=!e.checked,e.setTexture("login",t)}},{key:"enable",value:function(e){e.checked=!0,e.setTexture("login","checkbox-active")}},{key:"disable",value:function(e){e.checked=!1,e.setTexture("login","checkbox")}}])&&fn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.Z);function mn(e){return mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mn(e)}function bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vn(e,t){return vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},vn(e,t)}function gn(e,t){if(t&&("object"===mn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function wn(e){return wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wn(e)}var kn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vn(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=wn(r);if(o){var n=wn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return gn(this,e)});function s(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),r=i.call(this,e,null!=t?t:760,null!=n?n:480);var o=e.add.rectangle(0,0,1520,960);o.isFilled=!0,o.fillColor=0,o.fillAlpha=.2,r.add(o);var c=e.add.rectangle(0,0,724,410);c.isFilled=!0,c.fillColor=164045,r.add(c);var l=e.add.image(-140,95,"login","wait-button");r.add(l);var u=e.add.image(140,95,"login","wait-button");r.add(u);var f=e.add.text(0,-70,"",{});f.setOrigin(.5,.5),f.text="WAIT!\nDo other people use this\ncomputer?",f.setStyle({align:"center",fixedWidth:600,fontFamily:"Burbank Small",fontSize:"36px",fontStyle:"bold"}),r.add(f);var d=e.add.text(-140,95,"",{});d.setOrigin(.5,.5),d.text="Yes",d.setStyle({align:"center",fixedWidth:200,fontFamily:"Burbank Small",fontSize:"36px",fontStyle:"bold"}),r.add(d);var p=e.add.text(140,95,"",{});p.setOrigin(.5,.5),p.text="No",p.setStyle({align:"center",fixedWidth:200,fontFamily:"Burbank Small",fontSize:"36px",fontStyle:"bold"}),r.add(p),new a.vj(o),new a.X7(c).corner=50;var h=new a.zx(l);h.spriteName="wait-button",h.callback=function(){return r.onYesClick()},h.activeFrame=!1;var y=new a.zx(u);return y.spriteName="wait-button",y.callback=function(){return r.onYesClick()},y.activeFrame=!1,r.scene=e,r}return t=s,(n=[{key:"onYesClick",value:function(){this.visible=!1,this.scene.savePrompt.visible=!0,this.scene.savePrompt.startTimer()}}])&&bn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.Z);function _n(e){return _n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_n(e)}function On(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sn(e,t){return Sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Sn(e,t)}function xn(e,t){if(t&&("object"===_n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jn(e)}function jn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pn(e){return Pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pn(e)}var Rn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sn(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Pn(r);if(o){var n=Pn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return xn(this,e)});function s(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this,e,null!=t?t:760,null!=n?n:480)).illustration;var o=e.add.rectangle(-1,0,1520,960);o.isFilled=!0,o.fillColor=0,o.fillAlpha=.2,r.add(o);var c=e.add.image(-440,-216,"login","illustration1");c.setOrigin(.01327433628318584,0),r.add(c);var l=e.add.image(0,0,"login","save-bg");r.add(l);var u=e.add.image(-303,285,"login","save-button");r.add(u);var f=e.add.image(21,285,"login","save-button");r.add(f);var d=e.add.image(343,285,"login","learn-button");r.add(d);var p=e.add.image(487,-334,"main","blue-button");r.add(p);var h=e.add.image(487,-336,"main","blue-x");r.add(h);var y=e.add.text(-303,285,"",{});y.setOrigin(.5,.5),y.text="Save Password",y.setStyle({align:"center",fixedWidth:300,fontFamily:"Burbank Small",fontSize:"28px",fontStyle:"bold"}),r.add(y);var m=e.add.text(21,285,"",{});m.setOrigin(.5,.5),m.text="Don't Save\nPassword",m.setStyle({align:"center",fixedWidth:300,fontFamily:"Burbank Small",fontSize:"28px",fontStyle:"bold"}),r.add(m);var b=e.add.text(343,285,"",{});b.setOrigin(.5,.5),b.text="Learn More",b.setStyle({align:"center",fixedWidth:300,fontFamily:"Burbank Small",fontSize:"24px",fontStyle:"bold"}),r.add(b),new a.vj(o);var v=new a.zx(u);v.spriteName="save-button",v.callback=function(){return r.onSaveClick()},v.activeFrame=!1;var g=new a.zx(f);g.spriteName="save-button",g.callback=function(){return r.close()},g.activeFrame=!1;var w=new a.zx(d);w.spriteName="learn-button",w.callback=function(){return r.close()},w.activeFrame=!1;var k=new a.zx(p);return k.spriteName="blue-button",k.callback=function(){return r.close()},r.illustration=c,r.scene=e,r.timerConfig={delay:2800,callback:r.nextIllustration,callbackScope:jn(r),loop:!0,paused:!0},r.timer=e.time.addEvent(r.timerConfig),r.currentIllustration=1,r.maxIllustration=3,r}return t=s,(n=[{key:"onSaveClick",value:function(){this.scene.checks.enable(this.scene.checks.username),this.scene.checks.enable(this.scene.checks.password),this.close()}},{key:"close",value:function(){this.visible=!1,this.stopTimer(),this.scene.events.emit("showinput")}},{key:"nextIllustration",value:function(){this.visible&&(this.currentIllustration++,this.currentIllustration>this.maxIllustration&&(this.currentIllustration=1),this.illustration.setFrame("illustration".concat(this.currentIllustration)))}},{key:"startTimer",value:function(){this.illustration.setFrame("illustration1"),this.timer.paused=!1}},{key:"stopTimer",value:function(){this.timer.reset(this.timerConfig)}}])&&On(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.Z);function Cn(e){return Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cn(e)}function Tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tn(Object(n),!0).forEach((function(t){Bn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function An(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fn(e,t){return Fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Fn(e,t)}function In(e,t){if(t&&("object"===Cn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function zn(e){return zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zn(e)}var Mn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fn(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=zn(r);if(o){var n=zn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return In(this,e)});function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this,"Login")).checks,e.waitPrompt,e.savePrompt,e}return t=s,(n=[{key:"_create",value:function(){var e=this;this.add.image(0,1,"load","bg").setOrigin(0,0);var t=this.add.sprite(760,876,"login","small-button"),n=this.add.sprite(760,728,"login","large-button"),r=this.add.sprite(760,604,"login","small-button");this.add.image(1182,556,"login","note");var o=this.add.text(760,876,"",{});o.setOrigin(.5,.5),o.text="Back",o.setStyle({align:"right",color:"#ffffffff",fontFamily:"Arial Narrow",fontSize:"30px"}),o.setLineSpacing(25);var i=this.add.text(760,747,"",{});i.setOrigin(.5,.5),i.text="Create a free account now",i.setStyle({align:"right",color:"#ffffffff",fontFamily:"Arial Narrow",fontSize:"35px"}),i.setLineSpacing(25);var s=this.add.text(760,713,"",{});s.setOrigin(.5,.5),s.text="Don't have a penguin?",s.setStyle({align:"right",color:"#000000ff",fontFamily:"Arial Narrow",fontSize:"30px"}),s.setLineSpacing(25);var c=this.add.text(760,604,"",{});c.setOrigin(.5,.5),c.text="Forgot your password?",c.setStyle({align:"right",color:"#ffffffff",fontFamily:"Arial Narrow",fontSize:"30px"}),c.setLineSpacing(25);var l=this.add.sprite(760,483,"login","login-button"),u=this.add.text(760,483,"",{});u.setOrigin(.5,.5),u.text="Login",u.setStyle({align:"right",color:"#ffffffff",fontFamily:"Arial Narrow",fontSize:"38px"}),u.setLineSpacing(25);var f=this.add.text(503,258,"",{});f.setOrigin(0,.5),f.text="Password:",f.setStyle({align:"right",color:"#000000ff",fontFamily:"Arial Narrow",fontSize:"30px"}),f.setLineSpacing(25);var d=this.add.text(448,200,"",{});d.setOrigin(0,.5),d.text="Penguin Name:",d.setStyle({align:"right",color:"#000000ff",fontFamily:"Arial Narrow",fontSize:"30px"}),d.setLineSpacing(25),this.add.image(815,258,"login","input"),this.add.image(815,200,"login","input");var p=new yn(this,568,328);this.add.existing(p);var h=new kn(this,760,480);this.add.existing(h),h.visible=!1;var y=new Rn(this,760,480);this.add.existing(y),y.visible=!1,new a.rF(t).callback=function(){return e.onBackClick()};var m=new a.fw(t);m.key="small-button",m.end=3,m.repeat=0,m.onHover=!0,new a.rF(n).callback=function(){return e.onCreateClick()};var b=new a.fw(n);b.key="large-button",b.end=3,b.repeat=0,b.onHover=!0,new a.rF(r);var v=new a.fw(r);v.key="small-button",v.end=3,v.repeat=0,v.onHover=!0;var g=new a.zx(l);g.spriteName="login-button",g.callback=function(){return e.onLoginSubmit()},this.checks=p,this.waitPrompt=h,this.savePrompt=y,this.events.emit("scene-awake")}},{key:"create",value:function(){var e=this;this._create(),this.network.lastLoginScene="Login",this.waitPrompt.depth=1,this.savePrompt.depth=1;var t={width:380,height:53,padding:"0 6px 0 6px",filter:"none",fontFamily:"Arial",fontSize:35,color:"#000"},n=En(En({},t),{},{fontFamily:"Asterisk"});this.usernameInput=new ln(this,815,200,"text",t,(function(){return e.onLoginSubmit()}),12,!1),this.passwordInput=new ln(this,815,259,"password",n,(function(){return e.onLoginSubmit()}),128,!1),this.add.existing(this.usernameInput),this.add.existing(this.passwordInput),this.input.keyboard.on("keydown-ENTER",(function(){return e.onLoginSubmit()}))}},{key:"onLoginSubmit",value:function(){var e=this,t=this.usernameInput.text,n=this.passwordInput.text;this.interface.showLoading("Logging in ".concat(t)),this.scene.stop(),this.network.connectLogin(this.checks.username.checked,this.checks.password.checked,(function(){e.network.send("login",{username:t,password:n})}))}},{key:"onCreateClick",value:function(){window.location.href="/create"}},{key:"onBackClick",value:function(){this.network.disconnect(),this.scene.start("Start")}}])&&An(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(t.Z);function Dn(e){return Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dn(e)}function Ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zn(e,t){return Zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Zn(e,t)}function Xn(e,t){if(t&&("object"===Dn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Yn(e){return Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yn(e)}var Wn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zn(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Yn(r);if(o){var n=Yn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Xn(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e)).paperDoll=t,n.scale=.7325,n.photoScale=.7,n.flagScale=.66,n.baseURL="/assets/media/clothing/",n.keyPrefix="clothing/",n}return t=a,n=[{key:"setColor",value:function(e){this.paperDoll.body.tint=this.world.getColor(e)}},{key:"loadItems",value:function(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ln(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ln(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(this.paperDoll.slots);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=e[r];o>0&&this.loadItem(o,r)}}catch(e){n.e(e)}finally{n.f()}this.start()}},{key:"loadItem",value:function(e,t){var n=this;if("color"==t)return this.setColor(e);if(0==e)return this.removeItem(t);this.paperDoll.items[t].sprite&&this.removeItem(t);var r="flag"==t?"icon/":"paper/",o=this.getKey(r,e);this.checkComplete("image",o,(function(){n.onFileComplete(o,t)}))||this.image(o,"".concat(r).concat(e,".png"))}},{key:"onFileComplete",value:function(e,t){if(this.paperDoll.visible&&this.textureExists(e)){var n=this.paperDoll.items[t];switch(n.sprite&&this.removeItem(t),t){case"photo":n.sprite=this.addPaper(e,t,n.depth,this.photoScale);break;case"flag":n.sprite=this.addPaper(e,t,n.depth,this.flagScale),n.sprite.x=-149,n.sprite.y=-116;break;default:n.sprite=this.addPaper(e,t,n.depth)}}}},{key:"addPaper",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.scale,o=this.scene.add.image(0,0,e);return o.scale=r,o.depth=n,this.paperDoll.fadeIn&&this.fadeIn(o),"photo"==t?this.scene.playerCard.photo.add(o):this.paperDoll.add(o),this.paperDoll.isInputEnabled&&this.addInput(t,o),this.paperDoll.sort("depth"),o}},{key:"fadeIn",value:function(e){e.alpha=0,this.scene.tweens.add({targets:e,alpha:{from:0,to:1},duration:200})}},{key:"addInput",value:function(e,t){var n=this;t.setInteractive({cursor:"pointer",pixelPerfect:!0}),t.on("pointerdown",(function(){return n.onPaperClick(e)}))}},{key:"onPaperClick",value:function(e){this.network.send("remove_item",{type:e})}},{key:"removeItem",value:function(e){var t=this.paperDoll.items[e];t&&t.sprite&&(t.sprite.destroy(),t.sprite=null)}}],n&&Nn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(z.Z);function Hn(e){return Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hn(e)}function Un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gn(e,t){return Gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Gn(e,t)}function qn(e,t){if(t&&("object"===Hn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Vn(e){return Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vn(e)}var $n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gn(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Vn(r);if(o){var n=Vn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return qn(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e)).paperDoll=t,n.scale=1,n.baseURL="/assets/media/puffles/paper/",n.keyPrefix="puffles_paper/",n}return t=a,n=[{key:"loadPuffle",value:function(e){var t=this,n=this.getKey(e),r=setInterval((function(){t.textureExists(n)&&(t.onFileComplete(n),clearInterval(r))}),100);this.image(n,"".concat(e,".png")),this.start()}},{key:"onFileComplete",value:function(e){this.paperDoll.visible&&this.textureExists(e)&&(this.paperDoll.puffle&&this.paperDoll.puffle.destroy(),this.paperDoll.puffle=this.addPaper(e,1e3))}},{key:"addPaper",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.scale,r=this.scene.add.image(-50,-27,e);return r.scale=n,r.depth=t,this.paperDoll.fadeIn&&this.fadeIn(r),this.paperDoll.add(r),this.paperDoll.isInputEnabled&&this.addInput(r),this.paperDoll.sort("depth"),r}},{key:"fadeIn",value:function(e){e.alpha=0,this.scene.tweens.add({targets:e,alpha:{from:0,to:1},duration:200})}},{key:"addInput",value:function(e){var t=this;e.setInteractive({cursor:"pointer",pixelPerfect:!0}),e.on("pointerdown",(function(){return t.onPuffleClick()}))}},{key:"onPuffleClick",value:function(){this.network.send("stop_walking")}}],n&&Un(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(z.Z),Kn=n(6122);function Jn(e){return Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jn(e)}function Qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tr(e,t){return tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},tr(e,t)}function nr(e,t){if(t&&("object"===Jn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rr(e)}function rr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function or(e){return or=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},or(e)}var ir=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tr(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=or(r);if(o){var n=or(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return nr(this,e)});function a(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,null!=t?t:760,null!=n?n:480)).paperdoll,r.fadeIn=!0;var o=e.add.image(0,0,"main","paperdoll/paperdoll");return r.add(o),r.paperdoll=o,r.body=new Kn.Z(e,0,0,"main","paperdoll/body"),r.body.tint=r.crumbs.colors[0],e.add.existing(r.body),r.addAt(r.body,0),r.body.depth=1,r.paperdoll.depth=2,r.slots=["photo","color","","feet","body","neck","hand","face","head","flag"],r.items=r.setItems(),r.paperDollLoader=new Wn(e,rr(r)),r.paperDollPuffleLoader=new $n(e,rr(r)),r.isInputEnabled=!1,r}return t=a,n=[{key:"setItems",value:function(){var e,t={},n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Qn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(this.slots);try{for(n.s();!(e=n.n()).done;){var r=e.value;r&&(t[r]={depth:this.slots.indexOf(r)})}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"removeItems",value:function(){for(var e in this.items){var t=this.items[e].sprite;this.items[e].sprite&&(t.destroy(),t=null)}}},{key:"loadDoll",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.removeItems(),this.isInputEnabled=t,t?this.enableInput():this.disableInput(),this.paperDollLoader.loadItems(e),e.puffle&&0!==e.puffle&&e.id&&this.network.send("get_puffle_color",{puffle:e.puffle,penguinId:e.id})}},{key:"enableInput",value:function(){this.body.setInteractive({pixelPerfect:!0}),this.paperdoll.setInteractive({pixelPerfect:!0})}},{key:"disableInput",value:function(){this.body.removeInteractive(),this.paperdoll.removeInteractive()}}],n&&er(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Z);function ar(e){return ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ar(e)}function sr(e,t){return sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},sr(e,t)}function cr(e,t){if(t&&("object"===ar(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function lr(e){return lr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},lr(e)}var ur=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sr(e,t)}(i,e);var t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=lr(n);if(r){var o=lr(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return cr(this,e)});function i(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,e,null!=t?t:760,null!=n?n:480)).bg,r.paperDoll,r.username;var s=e.add.rectangle(0,0,488,664);s.isFilled=!0,s.fillColor=164045,r.add(s);var c=e.add.image(0,0,"login","player_large");r.add(c);var l=new ir(e,0,-45);r.add(l);var u=e.add.text(0,215,"",{});u.setOrigin(.5,.5),u.setStyle({align:"center",fixedWidth:420,fontFamily:"CCFaceFront",fontSize:"44px",fontStyle:"bold italic",stroke:"#003366",strokeThickness:10,"shadow.color":"#000000ff"}),r.add(u),new a.X7(s).corner=50;var f=new a.zx(c);return f.spriteName="player_large",f.activeFrame=!1,l.fadeIn=!1,r.bg=s,r.paperDoll=l,r.username=u,r.button=f,r}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(i.Z);function fr(e){return fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fr(e)}function dr(e,t){return dr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},dr(e,t)}function pr(e,t){if(t&&("object"===fr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function hr(e){return hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hr(e)}var yr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dr(e,t)}(i,e);var t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=hr(n);if(r){var o=hr(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return pr(this,e)});function i(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,e,null!=t?t:760,null!=n?n:480)).bg,r.penguinSmall,r.paperDoll,r.username;var s=e.add.rectangle(0,0,688,288);s.isFilled=!0,s.fillColor=164045,r.add(s);var c=e.add.image(0,0,"login","player_small");r.add(c);var l=new ir(e,-212,60);l.visible=!0,r.add(l);var u=e.add.text(90,0,"",{});u.setOrigin(.5,.5),u.setStyle({align:"center",fixedWidth:420,fontFamily:"CCFaceFront",fontSize:"48px",fontStyle:"bold italic",stroke:"#003366",strokeThickness:10,"shadow.color":"#000000ff"}),r.add(u),new a.X7(s).corner=50;var f=new a.zx(c);f.spriteName="player_small",f.activeFrame=!1,l.fadeIn=!1,r.bg=s,r.penguinSmall=c,r.paperDoll=l,r.username=u,r.button=f;var d=e.make.graphics();d.fillRoundedRect(0,0,600,196,20);var p=d.createGeometryMask();return l.mask=p,r}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(i.Z);function mr(e){return mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mr(e)}function br(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return vr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wr(e,t){return wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wr(e,t)}function kr(e,t){if(t&&("object"===mr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _r(e){return _r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_r(e)}var Or=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wr(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_r(r);if(o){var n=_r(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return kr(this,e)});function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this,"PenguinSelect")).largeBg,e.smallBg,e.container,e}return t=s,(n=[{key:"_create",value:function(){var e=this;this.add.image(0,0,"load","bg").setOrigin(0,0);var t=this.add.rectangle(760,430,1368,664);t.visible=!1,t.isFilled=!0,t.fillColor=164045;var n=this.add.rectangle(760,430,1308,728);n.visible=!1,n.isFilled=!0,n.fillColor=164045;var r=this.add.sprite(760,876,"login","larger-button"),o=this.add.text(760,876,"",{});o.setOrigin(.5,.5),o.text="Login as a different penguin",o.setStyle({align:"center",color:"#ffffffff",fixedWidth:400,fontFamily:"Arial Narrow",fontSize:"30px"}),o.setLineSpacing(25);var i=this.add.container(0,0);new a.X7(t).corner=50,new a.X7(n).corner=50,new a.rF(r).callback=function(){return e.onBackClick()};var s=new a.fw(r);s.key="small-button",s.end=3,s.repeat=0,s.onHover=!0,this.largeBg=t,this.smallBg=n,this.container=i,this.events.emit("scene-awake")}},{key:"create",value:function(){this._create(),this.container.depth=1,this.smallBg.depth=2;var e=Object.values(this.network.savedPenguins).slice(0,6),t=e.length,n=t>3?yr:ur,r=!![3,5,6].includes(t);switch(n==yr&&r&&(this.smallBg.visible=!0),n==ur&&r&&(this.largeBg.visible=!0),this.createObjects(e,n,r),t){case 1:this.createGrid(1,1,0,0);break;case 2:this.createGrid(2,1,532,0);break;case 3:this.createGrid(3,1,432,0);break;case 4:this.createGrid(2,2,700,300);break;case 5:case 6:this.createGrid(2,3,620,220);break;default:this.onError()}n==yr&&this.updateMasks()}},{key:"createObjects",value:function(e,t,n){var r,o=this,i=br(e);try{var a=function(){var e=r.value,i=new t(o,0,0);i.paperDoll.loadDoll(e),i.username.text=e.username.toUpperCase(),i.button.callback=function(){return o.onPenguinClick(e)},n&&(i.bg.visible=!1),o.add.existing(i),o.container.add(i)};for(i.s();!(r=i.n()).done;)a()}catch(e){i.e(e)}finally{i.f()}}},{key:"createGrid",value:function(e,t,n,r){Phaser.Actions.GridAlign(this.container.getAll(),{width:e,height:t,cellWidth:n,cellHeight:r,position:Phaser.Display.Align.BOTTOM_RIGHT});var o=1520-n*e,i=960-r*t;this.container.x=o/2,this.container.y=i/2-50}},{key:"updateMasks",value:function(){var e,t=br(this.container.getAll());try{for(t.s();!(e=t.n()).done;){var n=e.value,r=n.paperDoll.mask.geometryMask;if(r){var o=n.penguinSmall.getWorldTransformMatrix();r.x=o.getX(0,0)-n.penguinSmall.width/2,r.y=o.getY(0,0)-n.penguinSmall.height/2}}}catch(e){t.e(e)}finally{t.f()}}},{key:"onPenguinClick",value:function(e){this.scene.start("PenguinLogin",{penguin:e})}},{key:"onBackClick",value:function(){this.scene.start("Login")}},{key:"onError",value:function(){localStorage.removeItem("saved_penguins"),this.scene.start("Login")}}])&&gr(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(t.Z);function Sr(e){return Sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sr(e)}function xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jr(e,t){return jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},jr(e,t)}function Pr(e,t){if(t&&("object"===Sr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Rr(e){return Rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Rr(e)}var Cr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jr(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Rr(r);if(o){var n=Rr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Pr(this,e)});function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this,"PenguinLogin")).container,e.checks,e.savePrompt,e.waitPrompt,e}return t=s,(n=[{key:"_create",value:function(){var e=this;this.add.image(0,0,"load","bg").setOrigin(0,0);var t=new ur(this,475,430);this.add.existing(t);var n=this.add.sprite(760,876,"login","larger-button"),r=this.add.sprite(955,661,"login","small-button"),o=this.add.sprite(955,604,"login","small-button"),i=this.add.text(760,876,"",{});i.setOrigin(.5,.5),i.text="Login as a different penguin",i.setStyle({align:"center",color:"#ffffffff",fixedWidth:400,fontFamily:"Arial Narrow",fontSize:"30px"}),i.setLineSpacing(25);var s=this.add.text(929,661,"",{});s.setOrigin(.5,.5),s.text="Forget my penguin",s.setStyle({color:"#ffffffff",fixedWidth:300,fontFamily:"Arial Narrow",fontSize:"30px"}),s.setLineSpacing(25);var c=this.add.text(929,604,"",{});c.setOrigin(.5,.5),c.text="Forgot your password?",c.setStyle({color:"#ffffffff",fixedWidth:300,fontFamily:"Arial Narrow",fontSize:"30px"}),c.setLineSpacing(25);var l=this.add.sprite(935,487,"login","login-button"),u=this.add.text(935,487,"",{});u.setOrigin(.5,.5),u.text="Login",u.setStyle({align:"center",color:"#ffffffff",fixedWidth:100,fontFamily:"Arial Narrow",fontSize:"38px"}),u.setLineSpacing(25);var f=this.add.text(783,194,"",{});f.setOrigin(0,.5),f.text="Password:",f.setStyle({align:"right",color:"#000000ff",fontFamily:"Arial Narrow",fontSize:"30px"}),f.setLineSpacing(25),this.add.image(973,249,"login","input"),this.add.image(1258,760,"login","note");var d=new yn(this,806,330);this.add.existing(d);var p=new Rn(this,760,480);this.add.existing(p),p.visible=!1;var h=new kn(this,760,480);this.add.existing(h),h.visible=!1,new a.rF(n).callback=function(){return e.onBackClick()};var y=new a.fw(n);y.key="small-button",y.end=3,y.repeat=0,y.onHover=!0,new a.rF(r).callback=function(){return e.onForgetClick()};var m=new a.fw(r);m.key="small-button",m.end=3,m.repeat=0,m.onHover=!0,new a.rF(o);var b=new a.fw(o);b.key="small-button",b.end=3,b.repeat=0,b.onHover=!0;var v=new a.zx(l);v.spriteName="login-button",v.callback=function(){return e.onLoginSubmit()},this.container=t,this.checks=d,this.savePrompt=p,this.waitPrompt=h,this.events.emit("scene-awake")}},{key:"create",value:function(e){var t=this;this._create(),this.network.lastLoginScene="PenguinLogin",this.waitPrompt.depth=1,this.savePrompt.depth=1,this.checks.enable(this.checks.username),this.penguin=e.penguin,this.container.paperDoll.loadDoll(this.penguin),this.container.username.text=this.penguin.username.toUpperCase(),this.container.button.callback=function(){return t.onBackClick(t.penguin)},this.passwordInput=new ln(this,973,250,"password",{width:380,height:53,padding:"0 6px 0 6px",filter:"none",fontFamily:"Asterisk",fontSize:35,color:"#000"},(function(){return t.onLoginSubmit()}),128,!1),this.add.existing(this.passwordInput);var n=this.network.getToken(this.penguin.username);this.passwordEdited=!1,n&&(this.passwordInput.setText("password"),this.passwordInput.node.addEventListener("keydown",(function(){return t.passwordEdited=!0}),{once:!0}),this.checks.enable(this.checks.password)),this.input.keyboard.on("keydown-ENTER",(function(){return t.onLoginSubmit()}))}},{key:"onLoginSubmit",value:function(){var e,t=this,n=this.penguin.username,r=this.passwordInput.text,o=this.network.getToken(n);this.interface.showLoading("Logging in ".concat(n)),this.scene.stop(),e=o&&!this.passwordEdited?function(){return t.network.send("token_login",{username:n,token:o})}:function(){return t.network.send("login",{username:n,password:r})},this.network.connectLogin(this.checks.username.checked,this.checks.password.checked,e)}},{key:"onForgetClick",value:function(){var e=this.network.savedPenguins;delete e[this.penguin.username.toLowerCase()],localStorage.setItem("saved_penguins",JSON.stringify(e)),this.scene.start("PenguinSelect")}},{key:"onBackClick",value:function(){this.network.disconnect(),this.scene.start("PenguinSelect")}}])&&xr(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(t.Z);function Tr(e){return Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tr(e)}function Er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||Br(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Br(e,t){if(e){if("string"==typeof e)return Ar(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ar(e,t):void 0}}function Ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ir(e,t){return Ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ir(e,t)}function zr(e,t){if(t&&("object"===Tr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Mr(e){return Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Mr(e)}var Dr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ir(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Mr(r);if(o){var n=Mr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return zr(this,e)});function s(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this,e,null!=t?t:760,null!=n?n:480)).server,r.bar,r.buddy,r.safe,r.name,r.full,r.text,r.bars,r.name="",r.safe=!1;var o=e.add.image(0,0,"servers","server");r.add(o);var c=e.add.image(2,0,"newServers","bar");c.scaleX=1.53,c.scaleY=1.51,r.add(c);var l=e.add.image(322,1,"servers","bar_empty");l.setOrigin(.5161290322580645,.5098039215686274),r.add(l);var u=e.add.image(277,1,"servers","bar_empty");u.setOrigin(.5161290322580645,.5098039215686274),r.add(u);var f=e.add.image(232,1,"servers","bar_empty");f.setOrigin(.5161290322580645,.5098039215686274),r.add(f);var d=e.add.image(187,1,"servers","bar_empty");d.setOrigin(.5161290322580645,.5098039215686274),r.add(d);var p=e.add.image(142,1,"servers","bar_full");p.setOrigin(.5135135135135135,.5084745762711864),r.add(p);var h=e.add.image(-338,0,"servers","offline");h.setOrigin(.509090909090909,.509090909090909),r.add(h);var y=e.add.image(79,1,"servers","safe");y.setOrigin(.509090909090909,.5094339622641509),y.visible=!1,r.add(y);var m=e.add.text(-125,0,"",{});m.setOrigin(.5,.5),m.setStyle({fixedWidth:350,fontFamily:"Arial",fontSize:"50px"}),r.add(m);var b=e.add.image(240,0,"servers","full");b.setOrigin(.5,.5076923076923077),b.visible=!1,r.add(b);var v=e.add.image(142,0,"newServers","on");v.scaleX=2.1,v.scaleY=1.85,r.add(v);var g=e.add.image(187,0,"newServers","off");g.scaleX=2.1,g.scaleY=1.86,r.add(g);var w=e.add.image(232,0,"newServers","off");w.scaleX=2.1,w.scaleY=1.86,r.add(w);var k=e.add.image(277,0,"newServers","off");k.scaleX=2.1,k.scaleY=1.86,r.add(k);var _=e.add.image(322,0,"newServers","off");_.scaleX=2.1,_.scaleY=1.86,r.add(_);var O=e.add.image(78.5,-.8,"newServers","text");O.scaleX=1.86,O.scaleY=1.86,O.visible=!1,r.add(O);var S=[p,d,f,u,l],x=new a.zx(o);x.spriteName="server",x.activeFrame=!1;var j=new a.zx(c);return j.spriteName="bar",j.activeFrame=!1,r.server=o,r.bar=c,r.buddy=h,r.safe=y,r.name=m,r.full=b,r.text=O,r.bars=S,r.button=x,r.button=j,r}return t=s,n=[{key:"setPopulation",value:function(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Br(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(this.bars.entries());try{for(n.s();!(t=n.n()).done;){var r=Er(t.value,2),o=r[0],i=r[1],a=o+1<=e?"bar_full":"bar_empty";i.setFrame(a),this.full.visible=e>=6}}catch(e){n.e(e)}finally{n.f()}}}],n&&Fr(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.Z);function Lr(e){return Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lr(e)}function Nr(e,t){if(e){if("string"==typeof e)return Zr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zr(e,t):void 0}}function Zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yr(e,t){return Yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Yr(e,t)}function Wr(e,t){if(t&&("object"===Lr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Hr(e){return Hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hr(e)}var Ur=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yr(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Hr(r);if(o){var n=Hr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Wr(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,"Servers")}return t=a,n=[{key:"_create",value:function(){this.add.image(760,480,"newServers","bg"),this.add.image(760,718,"newServers","clouds"),this.add.image(760,800.5,"newServers","boxes");var e=this.add.text(1095,908,"",{});e.setOrigin(0,.5),e.text="Ultimate safe chat",e.setStyle({fixedWidth:200,fontFamily:"Arial Narrow",fontSize:"28px"});var t=this.add.image(1070,908,"servers","safe_small");t.setOrigin(.5,.5161290322580645),t.visible=!1;var n=this.add.text(645,908,"",{});n.setOrigin(0,.5),n.text="Amount of penguins online",n.setStyle({fixedWidth:300,fontFamily:"Arial Narrow",fontSize:"28px"}),this.add.image(620,908,"servers","bar_full_small").visible=!1;var r=this.add.text(277,908,"",{});r.setOrigin(0,.5),r.text="Buddies online",r.setStyle({fixedWidth:200,fontFamily:"Arial Narrow",fontSize:"28px"}),this.add.image(252,908,"servers","online_small");var o=this.add.image(1300,630,"servers","more");o.setOrigin(.5,.5027322404371585),o.visible=!1;var i=this.add.text(760,85,"",{});i.setOrigin(.5,.5),i.text="YOUR SUGGESTED SERVERS",i.setStyle({align:"center",fixedWidth:1200,fontFamily:"Burbank Small Bold",fontSize:"40px",fontStyle:"bold",stroke:"#003366",strokeThickness:10,"shadow.color":"#000000ff"}),this.add.image(619,908,"newServers","on"),this.add.image(1070,907,"newServers","text"),this.events.emit("scene-awake")}},{key:"create",value:function(e){this._create(),this.createServers(e)}},{key:"createServers",value:function(e){var t,n=this,r=122,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Nr(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(Object.entries(this.crumbs.worlds).slice(0,5).filter((function(e){return!e[1].login})));try{var i=function(){var o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||Nr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.value,2),i=o[0],a=o[1],s=new Dr(n,760,r+=102);s.name.text=i,s.safe.visible=a.safe;var c=e.populations[i]||1;s.setPopulation(c),s.button.callback=function(){return n.onServerClick(i,e.username,e.key,c>=6)},n.add.existing(s)};for(o.s();!(t=o.n()).done;)i()}catch(e){o.e(e)}finally{o.f()}}},{key:"onServerClick",value:function(e,t,n,r){if(r)return this.interface.prompt.showError("Sorry this server is full. Please select another server.");this.interface.showLoading("".concat(this.getString("joining")," ").concat(e)),this.scene.stop(),this.network.connectGame(e,t,n)}}],n&&Xr(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(t.Z);function Gr(e){return Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gr(e)}function qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vr(e,t){return Vr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Vr(e,t)}function $r(e,t){if(t&&("object"===Gr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Kr(e){return Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Kr(e)}n(4765),n(5212);var Jr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vr(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Kr(r);if(o){var n=Kr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return $r(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e.room,e.x,e.y+-95)).penguin=e,t.minWidth=128,t.minHeight=42,t.offsetY=-95,t.balloon,t}return t=a,(n=[{key:"addBalloon",value:function(e,t){e<this.minWidth&&(e=this.minWidth),t<this.minHeight&&(t=this.minHeight),this.balloon=this.scene.add.nineslice(0,0,e,t,{key:"main",frame:"balloon"},15),this.balloon.setOrigin(.5,1),this.add(this.balloon)}},{key:"addPointer",value:function(e,t){e<this.minWidth&&(e=this.minWidth);var n=this.scene.add.nineslice(0,0,e,40,{key:"main",frame:t},[0,110,0,15]);n.setOrigin(.5,0),this.add(n)}},{key:"resizeBalloon",value:function(e,t){this.balloon.resize(e,t)}},{key:"updatePosition",value:function(){this.x=this.penguin.x,this.y=this.penguin.y+this.offsetY}}])&&qr(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Z);function Qr(e){return Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qr(e)}function eo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function to(e,t){return to=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},to(e,t)}function no(e,t){if(t&&("object"===Qr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ro(e){return ro=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ro(e)}var oo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&to(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ro(r);if(o){var n=ro(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return no(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).emote=t.addEmote(),t.addBalloon(128,68),t.addPointer(128,"balloon-emote"),t.add(t.emote),t}return t=a,(n=[{key:"addEmote",value:function(){return this.scene.add.image(0,-25,"main","emotes/1")}},{key:"setContent",value:function(e){this.updatePosition();var t="emotes/".concat(e);this.world.textures.get("main").has(t)||(t="emotes/1"),this.emote.setFrame(t)}}])&&eo(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(Jr);function io(e){return io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},io(e)}function ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function so(e,t){return so=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},so(e,t)}function co(e,t){if(t&&("object"===io(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function lo(e){return lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},lo(e)}var uo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&so(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=lo(r);if(o){var n=lo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return co(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).maxLength=60,t.paddingY=16,t.textStyle={fontFamily:"Burbank Small",fontSize:24,color:"#000000",align:"center",fixedWidth:228,wordWrap:{width:228,useAdvancedWrap:!0},lineSpacing:-5},t.text=t.addText(),t.addBalloon(256,t.text.height+t.paddingY),t.addPointer(256,"balloon-text"),t.add(t.text),t}return t=a,(n=[{key:"addText",value:function(){var e=this.scene.add.text(0,0,"",this.textStyle);return e.setOrigin(.5,1),e}},{key:"setContent",value:function(e){this.updatePosition(),e=e.substring(0,this.maxLength),this.text.text=e,this.resizeBalloon(this.balloon.width,this.text.height+this.paddingY)}}])&&ao(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(Jr);function fo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var po=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.delay=4500,this.offsetY=-95}var t,n;return t=e,(n=[{key:"penguins",get:function(){return this.main.world.room.penguins}},{key:"showEmoteBalloon",value:function(e,t){if(t){var n=this.penguins[e];n&&n.visible&&(n.emoteBalloon||(n.emoteBalloon=new oo(n),n.room.add.existing(n.emoteBalloon)),n.emoteBalloon.setContent(t),this.updateBalloon(n,n.emoteBalloon))}}},{key:"showTextBalloon",value:function(e,t){if(t){var n=this.penguins[e];n&&(this.main.chatLog.addMessage(n.id,n.username,t),n.visible&&(n.textBalloon||(n.textBalloon=new uo(n),n.room.add.existing(n.textBalloon)),n.textBalloon.setContent(t),this.updateBalloon(n,n.textBalloon)))}}},{key:"updateBalloon",value:function(e,t){e.balloon&&(e.balloon.visible=!1),t.depth=e.isClient?3001:3e3,t.visible=!0,e.balloon=t,this.addTimer(e,t)}},{key:"addTimer",value:function(e,t){var n=this,r={delay:this.delay,callback:function(){return n.removeBalloon(e,t)}};if(e.balloonTimer)return e.balloonTimer.reset(r),void e.room.time.addEvent(e.balloonTimer);e.balloonTimer=e.room.time.addEvent(r)}},{key:"removeBalloon",value:function(e,t){t.visible=!1,e.balloon=null}}])&&fo(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ho(e){return ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ho(e)}function yo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mo(e,t){return mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},mo(e,t)}function bo(e,t){if(t&&("object"===ho(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function vo(e){return vo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vo(e)}const go=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mo(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=vo(r);if(o){var n=vo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return bo(this,e)});function a(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,t,n)).textStyle={fontFamily:"Arial",fontSize:24,color:"#000000",align:"center"},r.hint=r.createHint(),r.text=r.createText(),r.tween=null,r.add([r.hint,r.text]),r}return t=a,(n=[{key:"createHint",value:function(){var e=this.scene.add.nineslice(0,0,176,44,{key:"main",frame:"hint"},10);return e.setOrigin(.5),e}},{key:"createText",value:function(){return this.scene.add.text(0,-14,"",this.textStyle)}},{key:"showHint",value:function(e,t){var n=this,r=e.getWorldTransformMatrix();this.x=r.getX(0,0),this.y=r.getY(0,0)-56,this.text.text=t,this.text.x=-Math.round(this.text.width/2),this.text.visible=!1;var o=this.text.width>144?this.text.width+32:176;this.hint.resize(o,44),this.visible=!0,this.tween=this.scene.tweens.add({targets:this,scale:{from:.75,to:1},duration:50,ease:"Linear",onComplete:function(){n.text.visible=!0}})}},{key:"hideHint",value:function(){this.visible=!1,this.tween&&(this.tween.remove(),this.tween=null)}}])&&yo(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Z);function wo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ko(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ko(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ko(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Oo=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.world=t,this.balls=[],this.speed=800,this.startHeight=-12,this.maxHeight=425,this.minHeight=350,t.events.on("snowballcomplete",(function(e,n){return t.room.onSnowballComplete(e,n)}))}var t,n;return t=e,(n=[{key:"throwBall",value:function(e,t,n){var r=this,o=this.world.room.penguins[e];if(o&&!o.isTweening){this.balls.length>9&&this.removeOldestBall();var i=this.createBall(o);t+=Phaser.Math.Between(-20,20),n+=Phaser.Math.Between(-20,20),this.playAnimation(o,t,n),this.world.room.time.addEvent({delay:833,callback:function(){return r.addTween(i,t,n)}})}}},{key:"removeOldestBall",value:function(){var e=this.balls.shift();e.tween&&e.tween.remove(),e.shadow.destroy(),e.destroy()}},{key:"createBall",value:function(e){var t=this.world.room.add.image(e.x,e.y+this.startHeight,"main","snowball/ball");return t.shadow=this.world.room.add.image(e.x,e.y,"main","snowball/shadow"),t.visible=!1,t.shadow.visible=!1,this.balls.push(t),t}},{key:"playAnimation",value:function(e,t,n){var r=Oe.getAngle({x:e.x,y:e.y},{x:t,y:n}),o=Math.max(Math.round(Oe.getDirection(r)/2),1)+26;e.playFrame(o,!1)}},{key:"addTween",value:function(e,t,n){var r=this,o=Phaser.Math.Distance.Between(e.x,e.y,t,n),i=Oe.getDuration(o,this.speed),a=this.getPeak(i),s=this.getMidPoint([e.x,e.y],[t,n]),c=new Phaser.Curves.QuadraticBezier([e.x,e.y,s.x,s.y-a,t,n]);e.tween=this.world.room.tweens.add({targets:e.shadow,duration:i,y:n,onStart:function(){return r.onTweenStart(e)},onUpdate:function(){return r.onTweenUpdate(e,c)},onComplete:function(){return r.onTweenComplete(e)}})}},{key:"onTweenStart",value:function(e){e.visible=!0,e.shadow.visible=!0}},{key:"onTweenUpdate",value:function(e,t){var n=t.getPoint(e.tween.totalProgress);e.x=n.x,e.y=n.y,e.shadow.x=n.x,e.depth=e.shadow.y+1,e.shadow.depth=e.shadow.y}},{key:"onTweenComplete",value:function(e){e.active&&(e.setTexture("main","snowball/ground"),this.world.events.emit("snowballcomplete",e.x,e.y))}},{key:"getPeak",value:function(e){var t=Math.max(e/2,this.minHeight);return Math.min(t,this.maxHeight)}},{key:"getMidPoint",value:function(e,t){var n=wo(e,2),r=n[0],o=n[1],i=wo(t,2);return{x:(r+i[0])/2,y:(o+i[1])/2}}},{key:"clearBalls",value:function(){this.balls=[]}}])&&_o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),So=n(1676),xo=n(4800),jo=n(38),Po=n(1023);function Ro(e){return Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ro(e)}function Co(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function To(e,t){return To=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},To(e,t)}function Eo(e,t){if(t&&("object"===Ro(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Bo(e){return Bo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Bo(e)}var Ao=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&To(e,t)}(a,Phaser.GameObjects.Container);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Bo(r);if(o){var n=Bo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Eo(this,e)});function a(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,null!=t?t:0,null!=n?n:0)).spinner,r.waiting;var o=e.add.image(0,0,"four","spinner");r.add(o);var s=e.add.text(55,0,"",{});return s.setOrigin(0,.5),s.text="Waiting for Player",s.setStyle({fixedWidth:260,fontFamily:"Burbank Small",fontSize:"24px"}),r.add(s),r.spinner=o,r.waiting=s,r.spinnerTween=e.tweens.add({targets:o,angle:{from:0,to:180},duration:900,repeat:-1,ease:"Cubic"}),r}return t=a,(n=[{key:"setItem",value:function(e,t){this.visible=!0,this.seat=t?parseInt(t)+1:1,this.waiting.text=e||"Waiting for Player",e?(this.stopSpinner(),this.spinner.setTexture("four","counter_"+this.seat.toString())):this.startSpinner()}},{key:"hideItem",value:function(){this.visible=!1,this.stopSpinner()}},{key:"startSpinner",value:function(){this.spinner.setTexture("four","spinner"),this.spinnerTween.seek(0),this.spinnerTween.resume()}},{key:"stopSpinner",value:function(){this.spinnerTween.pause()}}])&&Co(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}();function Fo(e){return Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fo(e)}function Io(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||zo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zo(e,t){if(e){if("string"==typeof e)return Mo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mo(e,t):void 0}}function Mo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Do(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lo(e,t){return Lo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Lo(e,t)}function No(e,t){if(t&&("object"===Fo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zo(e)}function Zo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xo(e){return Xo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xo(e)}var Yo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lo(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Xo(r);if(o){var n=Xo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return No(this,e)});function a(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,null!=t?t:760,null!=n?n:480)).counterContainer,r.board,r.hover,r.hitbox,r.placers,r.items;var o=e.add.image(0,0,"four","window");r.add(o);var s=e.add.image(0,-44,"four","shadow");r.add(s);var c=e.add.container(0,0);r.add(c);var l=e.add.image(0,-44,"four","board");r.add(l);var u=new Ao(e,-126,232);r.add(u);var f=new Ao(e,-126,172);r.add(f);var d=e.add.image(181,-243,"main","blue-button");r.add(d);var p=e.add.image(181,-245,"main","blue-x");r.add(p);var h=e.add.image(-145,-194,"four","counter_1");h.setOrigin(.5,.7),h.visible=!1,r.add(h);var y=e.add.container(-152,-44);y.visible=!1,r.add(y);var m=e.add.rectangle(0,0,60,304);m.fillColor=14876672,m.fillAlpha=.5,y.add(m);var b=e.add.rectangle(55,0,49,304);b.fillColor=12247808,b.fillAlpha=.5,y.add(b);var v=e.add.rectangle(103,0,49,304);v.fillColor=58115,v.fillAlpha=.5,y.add(v);var g=e.add.rectangle(152,0,49,304);g.fillColor=58299,g.fillAlpha=.5,y.add(g);var w=e.add.rectangle(201,0,49,304);w.fillColor=27619,w.fillAlpha=.5,y.add(w);var k=e.add.rectangle(250,0,49,304);k.fillColor=5767395,k.fillAlpha=.5,y.add(k);var _=e.add.rectangle(304,0,60,304);_.fillColor=14907392,_.fillAlpha=.5,y.add(_);var O=[f,u];new xo.Z(Zo(r)).handle=o;var S=new So.Z(d);S.spriteName="blue-button",S.callback=function(){return r.onClose()};var x=new Po.Z(m);x.hoverCallback=function(){return r.onHover(-145)},x.callback=function(){return r.onCounterPlace(0)};var j=new Po.Z(b);j.hoverCallback=function(){return r.onHover(-97)},j.callback=function(){return r.onCounterPlace(1)};var P=new Po.Z(v);P.hoverCallback=function(){return r.onHover(-49)},P.callback=function(){return r.onCounterPlace(2)};var R=new Po.Z(g);R.hoverCallback=function(){return r.onHover(0)},R.callback=function(){return r.onCounterPlace(3)};var C=new Po.Z(w);C.hoverCallback=function(){return r.onHover(49)},C.callback=function(){return r.onCounterPlace(4)};var T=new Po.Z(k);T.hoverCallback=function(){return r.onHover(98)},T.callback=function(){return r.onCounterPlace(5)};var E=new Po.Z(_);return E.hoverCallback=function(){return r.onHover(145)},E.callback=function(){return r.onCounterPlace(6)},r.counterContainer=c,r.board=l,r.hover=h,r.hitbox=y,r.placers=[],r.items=O,r.activeWaddleId,r.activeSeat,r}return t=a,n=[{key:"onButtonClick",value:function(e){this.addCounter(e,5)}},{key:"onButtonOver",value:function(e){this.hover.visible=!0,this.hover.x=e.x,this.hover.y=e.y}},{key:"onButtonOut",value:function(){this.hover.visible=!1}},{key:"activeWaddle",get:function(){return this.world.room.waddles[this.activeWaddleId]}},{key:"getSeat",value:function(e,t){return this.world.room["seats".concat(e)][t]}},{key:"onClose",value:function(){this.network.send("leave_waddle"),this.leaveSeat(),this.activeWaddleId=null,this.visible=!1}},{key:"showWaddle",value:function(e,t){this.activeWaddleId=e,this.seat=t,this.enterSeat(e,t),this.items.map((function(e){return e.hideItem()}));var n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=zo(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(this.activeWaddle.entries());try{for(r.s();!(n=r.n()).done;){var o=Io(n.value,2),i=o[0],a=o[1];this.items[i].setItem(a,this.seat)}}catch(e){r.e(e)}finally{r.f()}this.visible=!0}},{key:"updateWaddle",value:function(e,t,n){this.getSeat(e,t).visible=null!=n,this.world.room.waddles[e][t]=n,e==this.activeWaddleId&&this.items[t].setItem(n)}},{key:"init",value:function(e,t){for(var n in e){var r=this.world.room.penguins[e[n]].username;this.items[n].setItem(r,n)}this.map=[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],this.xcoords=[-145,-97,-49,0,49,97,145],this.ycoords=[121,73,24,-24,-73,-121];var o=this.scene.add.container(0,-44);this.counterContainer.add(o),this.counters=o,this.world.client.id==t?(this.hover.setTexture("four","counter_1"),this.hover.visible=!0,this.hitbox.visible=!0):(this.hover.setTexture("four","counter_2"),this.hover.visible=!1,this.hitbox.visible=!1)}},{key:"enterSeat",value:function(e,t){this.activeSeat=this.getSeat(e,t),this.world.client.penguin.move(this.activeSeat.x,this.activeSeat.y,this.activeSeat.sitFrame)}},{key:"leaveSeat",value:function(){var e=this.activeSeat.x+this.activeSeat.offsetX,t=this.activeSeat.y+this.activeSeat.offsetY;this.activeSeat=null,this.world.client.penguin.move(e,t)}},{key:"onHover",value:function(e){this.hover.x=e}},{key:"onCounterPlace",value:function(e){for(var t=0;t<6;t++)if(0==this.map[e][t])return this.placeCounter(t,e,this.seat+1),this.hitbox.visible=!1,this.hover.visible=!1,void this.network.send("place_counter",{column:e,row:t})}},{key:"placeCounter",value:function(e,t,n){0===this.map[t][e]&&(this.map[t][e]=this.scene.add.image(this.xcoords[t],this.ycoords[e],"four","counter_"+n.toString()),this.counters.add(this.map[t][e]))}},{key:"changeTurn",value:function(e){this.world.client.id==e&&(this.hover.visible=!0,this.hitbox.visible=!0)}},{key:"reset",value:function(){this.counters.destroy(),this.visible=!1}}],n&&Do(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Z);function Wo(e){return Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wo(e)}function Ho(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Go(e,t){return Go=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Go(e,t)}function qo(e,t){if(t&&("object"===Wo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Vo(e){return Vo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vo(e)}var $o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Go(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Vo(r);if(o){var n=Vo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return qo(this,e)});function a(){return Ho(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"initMenu",value:function(){this.safe&&this.setupSafe(),this.close&&this.setupClose(),this.back=this.createBack()}},{key:"setupSafe",value:function(){this.safe.isFilled=!1,this.safe.setInteractive()}},{key:"setupClose",value:function(){var e=this;this.close.isFilled=!1,this.close.setInteractive({cursor:"pointer"}),this.close.on("pointerup",(function(){return e.closeMenu()}))}},{key:"createBack",value:function(){var e=this,t=this.scene.add.rectangle(-this.x,-this.y,1520,960);return t.setOrigin(0),t.setInteractive(),this.add(t),this.sendToBack(t),t.on("pointerover",(function(){return e.onBackOver()})),t.on("pointerout",(function(){return e.onBackOut()})),t.on("pointerup",(function(){return e.onBackUp()})),t}},{key:"onBackOver",value:function(){this.closeMenu()}},{key:"onBackOut",value:function(){}},{key:"onBackUp",value:function(){this.closeMenu()}},{key:"closeMenu",value:function(){this.visible=!1}}])&&Uo(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Z);function Ko(e){return Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ko(e)}function Jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qo(e,t){return Qo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Qo(e,t)}function ei(e,t){if(t&&("object"===Ko(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ti(e){return ti=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ti(e)}var ni=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qo(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ti(r);if(o){var n=ti(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ei(this,e)});function s(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this,e,null!=t?t:760,null!=n?n:480)).safe,r.close;var o=e.add.rectangle(0,-198,200,460);o.isFilled=!0,o.fillColor=65535,o.fillAlpha=.5,r.add(o);var c=e.add.rectangle(0,61,80,80);c.isFilled=!0,c.fillColor=65535,c.fillAlpha=.5,r.add(c);var l=e.add.image(0,-198,"main","actions");r.add(l);var u=e.add.image(32,-38,"main","small-box");r.add(u);var f=e.add.image(32,-102,"main","small-box");r.add(f);var d=e.add.image(-32,-102,"main","small-box");r.add(d);var p=e.add.image(-32,-38,"main","small-box");r.add(p);var h=e.add.image(0,-198,"main","large-box");r.add(h);var y=e.add.image(0,-326,"main","large-box");r.add(y);var m=e.add.image(0,-198,"main","wave");r.add(m);var b=e.add.image(0,-70,"main","sit");r.add(b);var v=e.add.image(0,-326,"main","dance");r.add(v);var g=new a.zx(u);g.spriteName="small-box",g.callback=function(){return r.onActionClick(24)},g.activeFrame=!1;var w=new a.zx(f);w.spriteName="small-box",w.callback=function(){return r.onActionClick(22)},w.activeFrame=!1;var k=new a.zx(d);k.spriteName="small-box",k.callback=function(){return r.onActionClick(20)},k.activeFrame=!1;var _=new a.zx(p);_.spriteName="small-box",_.callback=function(){return r.onActionClick(18)},_.activeFrame=!1;var O=new a.zx(h);O.spriteName="large-box",O.callback=function(){return r.onActionClick(25,!1)},O.activeFrame=!1;var S=new a.zx(y);return S.spriteName="large-box",S.callback=function(){return r.onActionClick(26)},S.activeFrame=!1,r.safe=o,r.close=c,r.initMenu(),r}return t=s,n=[{key:"onActionClick",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.world.client.sendFrame(e,t),this.visible=!1}}],n&&Jo(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}($o);function ri(e){return ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ri(e)}function oi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ii(e,t){return ii=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ii(e,t)}function ai(e,t){if(t&&("object"===ri(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function si(e){return si=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},si(e)}var ci=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ii(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=si(r);if(o){var n=si(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ai(this,e)});function s(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this,e,null!=t?t:760,null!=n?n:480)).icon,r.username;var o=e.add.image(0,0,"main","buddy/item");r.add(o);var c=e.add.image(-137,0,"main","buddy/icon-offline");r.add(c);var l=e.add.text(25,0,"",{});l.setOrigin(.5,.5),l.setStyle({fixedWidth:270,fontFamily:"Burbank Small",fontSize:"24px"}),r.add(l);var u=new a.zx(o);return u.spriteName="buddy/item",u.callback=function(){return r.onClick()},u.activeFrame=!1,r.icon=c,r.username=l,r.id=null,r}return t=s,(n=[{key:"setItem",value:function(e){if(!e)return this.clearItem();this.id=e.id,this.username.text=e.username;var t=this.world.getRelationship(e.id),n="buddy/icon-".concat(t);this.icon.setTexture("main",n)}},{key:"clearItem",value:function(){this.id=null,this.username.text="",this.icon.setTexture("main","buddy/icon-offline")}},{key:"onClick",value:function(){this.id&&this.interface.showCard(this.id)}}])&&oi(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.Z);function li(e){return li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},li(e)}function ui(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||fi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fi(e,t){if(e){if("string"==typeof e)return di(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?di(e,t):void 0}}function di(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hi(e,t){return hi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},hi(e,t)}function yi(e,t){if(t&&("object"===li(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mi(e)}function mi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bi(e){return bi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bi(e)}var vi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hi(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=bi(r);if(o){var n=bi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return yi(this,e)});function s(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this,e,null!=t?t:760,null!=n?n:480)).text,r.total,r.items;var o=e.add.image(0,0,"friends","friend popup.png");r.add(o);var c=e.add.text(0,-236,"",{});c.setOrigin(.5,.5),c.text="Your Friends",c.setStyle({align:"center",color:"#000000",fixedWidth:420,fontFamily:"Burbank Small",fontSize:"30px"}),r.add(c);var l=e.add.image(177,-231,"main","blue-button");r.add(l);var u=e.add.image(177,-233,"main","blue-x");r.add(u);var f=e.add.image(177,19,"friends","scroller.png");r.add(f);var d=e.add.image(177,201,"main","blue-button");r.add(d);var p=e.add.image(177,-167,"main","blue-button");r.add(p);var h=e.add.image(177,199,"main","blue-arrow");h.flipY=!0,r.add(h);var y=e.add.image(177,-169,"main","blue-arrow");r.add(y);var m=new ci(e,-26,194);r.add(m);var b=new ci(e,-26,142);r.add(b);var v=new ci(e,-26,90);r.add(v);var g=new ci(e,-26,38);r.add(g);var w=new ci(e,-26,-14);r.add(w);var k=new ci(e,-26,-66);r.add(k);var _=new ci(e,-26,-118);r.add(_);var O=new ci(e,-26,-170);r.add(O);var S=e.add.image(-60,261,"main","blue-button");r.add(S);var x=e.add.image(0,261,"main","blue-button");r.add(x);var j=e.add.image(60,261,"main","blue-button");r.add(j);var P=e.add.image(-60,259,"main","buddies-icon");r.add(P);var R=e.add.image(0,259,"main","online-icon");r.add(R);var C=e.add.image(60,259,"main","ignore-icon");r.add(C);var T=e.add.text(-132,279,"",{});T.setOrigin(.5,.5),T.setStyle({color:"#003366",fixedWidth:100,fixedHeight:64,fontFamily:"Burbank Small",fontSize:"24px"}),r.add(T);var E=[O,_,k,w,g,v,b,m];new a.K$(mi(r)).handle=o;var B=new a.zx(l);B.spriteName="blue-button",B.callback=function(){r.visible=!1};var A=new a.zx(d);A.spriteName="blue-button",A.callback=function(){return r.nextPage()},A.activeFrame=!1;var F=new a.zx(p);F.spriteName="blue-button",F.callback=function(){return r.prevPage()},F.activeFrame=!1;var I=new a.zx(S);I.spriteName="blue-button",I.callback=function(){return r.switchList("buddies","Your Friends")},new a.tk(S).text="Show Buddies";var z=new a.zx(x);z.spriteName="blue-button",z.callback=function(){return r.switchList("room","Users in Room")},new a.tk(x).text="Show Online";var M=new a.zx(j);return M.spriteName="blue-button",M.callback=function(){return r.switchList("ignores","Ignore List")},new a.tk(j).text="Show Ignored",r.text=c,r.total=T,r.items=E,r.listType="buddies",r.page=1,r.pageSize=8,r.showPage(),r}return t=s,n=[{key:"penguins",get:function(){return this[this.listType]}},{key:"maxPage",get:function(){return Math.ceil(this.penguins.length/this.pageSize)}},{key:"buddies",get:function(){return this.world.client.buddies.sort((function(e,t){return-(e.online-t.online)||e.username.toLowerCase().localeCompare(t.username.toLowerCase())}))}},{key:"room",get:function(){var e=this;return Object.values(this.world.room.penguins).map((function(t){return{id:t.id,username:e.filterUsername(t)}})).sort((function(e,t){return e.username.toLowerCase().localeCompare(t.username.toLowerCase())}))}},{key:"filterUsername",value:function(e){return 1==e.username_approved?e.username:"P"+e.id}},{key:"ignores",get:function(){return this.world.client.ignores.sort((function(e,t){return e.username.toLowerCase().localeCompare(t.username.toLowerCase())}))}},{key:"showPage",value:function(){if(0!=this.visible){var e,t=this.penguins.slice((this.page-1)*this.pageSize,this.page*this.pageSize),n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=fi(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(this.items.entries());try{for(n.s();!(e=n.n()).done;){var r=ui(e.value,2),o=r[0],i=r[1],a=t[o];a?i.setItem(a):i.setItem(null)}}catch(e){n.e(e)}finally{n.f()}"buddies"==this.listType||"ignores"==this.listType?(this.total.text="".concat(this.world.client[this.listType].length,"/100"),this.total.visible=!0):this.total.visible=!1}}},{key:"prevPage",value:function(){var e=this.page-1;e<1||(this.page=e,this.showPage())}},{key:"nextPage",value:function(){var e=this.page+1;e>this.maxPage||(this.page=e,this.showPage())}},{key:"switchList",value:function(e,t){this.page=1,this.text.text=t,this.listType=e,this.showPage()}}],n&&pi(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.Z);function gi(e){return gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gi(e)}function wi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||_i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ki(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function _i(e,t){if(e){if("string"==typeof e)return Oi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oi(e,t):void 0}}function Oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Si(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xi(e,t){return xi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xi(e,t)}function ji(e,t){if(t&&("object"===gi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Pi(e){return Pi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pi(e)}var Ri=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xi(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Pi(r);if(o){var n=Pi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ji(this,e)});function s(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this,e,null!=t?t:760,null!=n?n:480)).bg,r.handle,r.arrow;var o=e.add.image(0,-440,"main","chatlog/bg");r.add(o);var c=e.add.container(0,0);r.add(c);var l=e.add.image(0,8,"chatlogs");c.add(l);var u=e.add.image(0,2,"downarrow");return c.add(u),new a.vj(o),new a.rF(l).callback=function(){r.onTabClick()},r.bg=o,r.handle=l,r.arrow=u,r.textStyle={fontFamily:"Burbank Small",fontSize:24,color:"#000000",align:"left",fixedWidth:720},r.messages=[],r.containers=r.createContainers(),r.open=!1,r.dragging=!1,e.events.once("update",(function(){return r.addInput()})),r}return t=s,n=[{key:"addInput",value:function(){var e=this;this.handle.input.draggable=!0,this.scene.input.dragDistanceThreshold=10,this.handle.on("dragstart",(function(){return e.onTabDragStart()})),this.handle.on("drag",(function(t){return e.onTabDrag(t.y)})),this.handle.on("dragend",(function(){return e.onTabDragEnd()}))}},{key:"createContainers",value:function(){for(var e=this,t=[],n=-17,r=function(r){n-=40;var o=e.scene.add.image(0,n,"main","chatlog/message");o.id=null,o.text=e.scene.add.text(0,n,"",e.textStyle),o.text.setOrigin(.5),e.add([o,o.text]),t.push(o);var i=new a.zx(o);i.spriteName="chatlog/message",i.activeFrame=!1,i.callback=function(){return e.onMessageClick(o.id)}},o=1;o<=20;o++)r();return t}},{key:"addMessage",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];20==this.messages.length&&this.messages.pop(),this.messages.unshift({id:e,message:"".concat(t,": ").concat(n),filtered:r}),this.updateMessages()}},{key:"updateMessages",value:function(){var e,t=ki(this.messages.entries());try{for(t.s();!(e=t.n()).done;){var n=wi(e.value,2),r=n[0],o=n[1],i=this.containers[r];i.id=o.id,i.text.text=o.message,o.filtered?i.text.setColor("#ff0000"):i.text.setColor("#000000")}}catch(e){t.e(e)}finally{t.f()}this.dragging&&this.checkContainers()}},{key:"clearMessages",value:function(){this.messages=[];var e,t=ki(this.containers);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.id=null,n.text.text=""}}catch(e){t.e(e)}finally{t.f()}}},{key:"onMessageClick",value:function(e){e&&this.interface.showCard(e)}},{key:"onTabClick",value:function(){this.dragging||(this.open?this.y=10:this.y=270,this.open=!this.open,this.arrow.toggleFlipY(),this.checkContainers())}},{key:"onTabDragStart",value:function(){this.dragging=!0}},{key:"onTabDrag",value:function(e){e>840&&(e=840),e<2&&(e=2),this.y=Math.round(e),!this.open&&e>222&&(this.open=!0,this.arrow.flipY=!0)}},{key:"onTabDragEnd",value:function(){var e=this;this.checkContainers(),setTimeout((function(){e.dragging=!1}),200)}},{key:"checkContainers",value:function(){var e,t=ki(this.containers);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.checkContainer(n)}}catch(e){t.e(e)}finally{t.f()}}},{key:"checkContainer",value:function(e){var t=e.getWorldTransformMatrix().getY(0,0)-23>0;e.visible=t,e.text.visible=t}}],n&&Si(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.Z);function Ci(e){return Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ci(e)}function Ti(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ei(e,t){return Ei=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ei(e,t)}function Bi(e,t){if(t&&("object"===Ci(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ai(e){return Ai=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ai(e)}var Fi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ei(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ai(r);if(o){var n=Ai(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Bi(this,e)});function s(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this,e,null!=t?t:760,null!=n?n:480)).safe,r.close;var o=e.add.rectangle(0,-229,280,520);o.isFilled=!0,o.fillColor=65535,o.fillAlpha=.5,r.add(o);var c=e.add.rectangle(0,61,80,80);c.isFilled=!0,c.fillColor=65535,c.fillAlpha=.5,r.add(c);var l=e.add.image(0,-222,"main","emotes");l.scaleY=.8624867995227165,r.add(l);var u=e.add.image(64,-63,"main","small-box");r.add(u);var f=e.add.image(0,-63,"main","small-box");r.add(f);var d=e.add.image(-64,-63,"main","small-box");r.add(d);var p=e.add.image(64,-127,"main","small-box");r.add(p);var h=e.add.image(0,-127,"main","small-box");r.add(h);var y=e.add.image(-64,-127,"main","small-box");r.add(y);var m=e.add.image(64,-191,"main","small-box");r.add(m);var b=e.add.image(0,-191,"main","small-box");r.add(b);var v=e.add.image(-64,-191,"main","small-box");r.add(v);var g=e.add.image(64,-255,"main","small-box");r.add(g);var w=e.add.image(0,-255,"main","small-box");r.add(w);var k=e.add.image(-64,-255,"main","small-box");r.add(k);var _=e.add.image(64,-319,"main","small-box");r.add(_);var O=e.add.image(0,-319,"main","small-box");r.add(O);var S=e.add.image(-64,-319,"main","small-box");r.add(S);var x=e.add.image(64,-383,"main","small-box");r.add(x);var j=e.add.image(0,-383,"main","small-box");r.add(j);var P=e.add.image(-64,-383,"main","small-box");r.add(P);var R=e.add.image(64,-63,"main","emotes/16-small");r.add(R);var C=e.add.image(0,-63,"main","emotes/30-small");r.add(C);var T=e.add.image(-64,-63,"main","emotes/28-small");r.add(T);var E=e.add.image(64,-127,"main","emotes/17-small");r.add(E);var B=e.add.image(0,-127,"main","emotes/10-small");r.add(B);var A=e.add.image(-64,-127,"main","emotes/9-small");r.add(A);var F=e.add.image(64,-191,"main","emotes/24-small");r.add(F);var I=e.add.image(0,-191,"main","emotes/8-small");r.add(I);var z=e.add.image(-64,-191,"main","emotes/7-small");r.add(z);var M=e.add.image(64,-255,"main","emotes/22");M.scaleX=.8,M.scaleY=.8,r.add(M);var D=e.add.image(0,-255,"main","emotes/6-small");r.add(D);var L=e.add.image(-64,-255,"main","emotes/5-small");r.add(L);var N=e.add.image(64,-319,"main","emotes/18-small");r.add(N);var Z=e.add.image(0,-319,"main","emotes/4-small");r.add(Z);var X=e.add.image(-64,-319,"main","emotes/3-small");r.add(X);var Y=e.add.image(64,-383,"main","emotes/13-small");r.add(Y);var W=e.add.image(0,-383,"main","emotes/2-small");r.add(W);var H=e.add.image(-64,-383,"main","emotes/1-small");r.add(H);var U=new a.zx(u);U.spriteName="small-box",U.callback=function(){r.onEmoteClick(16)},U.activeFrame=!1;var G=new a.zx(f);G.spriteName="small-box",G.callback=function(){r.onEmoteClick(30)},G.activeFrame=!1;var q=new a.zx(d);q.spriteName="small-box",q.callback=function(){r.onEmoteClick(28)},q.activeFrame=!1;var V=new a.zx(p);V.spriteName="small-box",V.callback=function(){r.onEmoteClick(17)},V.activeFrame=!1;var $=new a.zx(h);$.spriteName="small-box",$.callback=function(){r.onEmoteClick(10)},$.activeFrame=!1;var K=new a.zx(y);K.spriteName="small-box",K.callback=function(){r.onEmoteClick(9)},K.activeFrame=!1;var J=new a.zx(m);J.spriteName="small-box",J.callback=function(){r.onEmoteClick(24)},J.activeFrame=!1;var Q=new a.zx(b);Q.spriteName="small-box",Q.callback=function(){r.onEmoteClick(8)},Q.activeFrame=!1;var ee=new a.zx(v);ee.spriteName="small-box",ee.callback=function(){r.onEmoteClick(7)},ee.activeFrame=!1;var te=new a.zx(g);te.spriteName="small-box",te.callback=function(){r.onEmoteClick(22)},te.activeFrame=!1;var ne=new a.zx(w);ne.spriteName="small-box",ne.callback=function(){r.onEmoteClick(6)},ne.activeFrame=!1;var re=new a.zx(k);re.spriteName="small-box",re.callback=function(){r.onEmoteClick(5)},re.activeFrame=!1;var oe=new a.zx(_);oe.spriteName="small-box",oe.callback=function(){r.onEmoteClick(18)},oe.activeFrame=!1;var ie=new a.zx(O);ie.spriteName="small-box",ie.callback=function(){r.onEmoteClick(4)},ie.activeFrame=!1;var ae=new a.zx(S);ae.spriteName="small-box",ae.callback=function(){r.onEmoteClick(3)},ae.activeFrame=!1;var se=new a.zx(x);se.spriteName="small-box",se.callback=function(){r.onEmoteClick(13)},se.activeFrame=!1;var ce=new a.zx(j);ce.spriteName="small-box",ce.callback=function(){r.onEmoteClick(2)},ce.activeFrame=!1;var le=new a.zx(P);return le.spriteName="small-box",le.callback=function(){r.onEmoteClick(1)},le.activeFrame=!1,r.safe=o,r.close=c,r.initMenu(),r}return t=s,(n=[{key:"onEmoteClick",value:function(e){this.world.client.sendEmote(e),this.visible=!1}}])&&Ti(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}($o);function Ii(e){return Ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ii(e)}function zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mi(e,t){return Mi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Mi(e,t)}function Di(e,t){if(t&&("object"===Ii(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Li(e){return Li=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Li(e)}var Ni=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mi(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Li(r);if(o){var n=Li(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Di(this,e)});function a(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,null!=t?t:760,null!=n?n:480)).icon,r.username;var o=e.add.image(0,0,"friends","friend name.png");r.add(o);var s=e.add.image(-137,0,"main","buddy/icon-load");r.add(s);var c=e.add.text(25,0,"",{});return c.setOrigin(.5,.5),c.text="Empty",c.setStyle({fixedWidth:270,fontFamily:"Burbank Small",fontSize:"24px"}),r.add(c),r.icon=s,r.username=c,r.id=null,r.spinnerTween=e.tweens.add({targets:r.icon,angle:{from:0,to:180},duration:900,repeat:-1,ease:"Cubic"}),r}return t=a,(n=[{key:"setItem",value:function(e){if(this.visible=!0,this.username.text=e||"Empty",e){this.stopSpinner();var t=e.toLowerCase()==this.world.client.penguin.username.toLowerCase()?"player":"none";this.icon.setTexture("main","buddy/icon-".concat(t))}else this.startSpinner(),this.icon.setTexture("main","buddy/icon-load")}},{key:"hideItem",value:function(){this.visible=!1,this.stopSpinner()}},{key:"startSpinner",value:function(){this.spinnerTween.seek(0),this.spinnerTween.resume()}},{key:"stopSpinner",value:function(){this.spinnerTween.pause(),this.icon.angle=0}}])&&zi(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Z);function Zi(e){return Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zi(e)}function Xi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||Yi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yi(e,t){if(e){if("string"==typeof e)return Wi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wi(e,t):void 0}}function Wi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ui(e,t){return Ui=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ui(e,t)}function Gi(e,t){if(t&&("object"===Zi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qi(e)}function qi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vi(e){return Vi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vi(e)}var $i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ui(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Vi(r);if(o){var n=Vi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Gi(this,e)});function s(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this,e,null!=t?t:760,null!=n?n:480)).text,r.items;var o=e.add.rectangle(0,0,464,360);o.isFilled=!0,o.fillColor=39372,r.add(o);var c=e.add.image(0,-190,"main","tab-2");r.add(c);var l=new Ni(e,0,100);r.add(l);var u=new Ni(e,0,48);r.add(u);var f=new Ni(e,0,-4);r.add(f);var d=new Ni(e,0,-56);r.add(d);var p=e.add.text(0,-122,"",{});p.setOrigin(.5,.5),p.text="Sled Racing",p.setStyle({align:"center",color:"#000000",fixedWidth:420,fontFamily:"Burbank Small",fontSize:"32px"}),r.add(p);var h=e.add.image(178,-126,"main","blue-button");r.add(h);var y=e.add.image(178,-128,"main","blue-x");r.add(y);var m=[d,f,u,l];new a.K$(qi(r)).handle=o,new a.X7(o).corner=50;var b=new a.zx(h);return b.spriteName="blue-button",b.callback=function(){return r.onClose()},r.text=p,r.items=m,r.activeWaddleId,r.activeSeat,r}return t=s,n=[{key:"activeWaddle",get:function(){return this.world.room.waddles[this.activeWaddleId]}},{key:"getSeat",value:function(e,t){return this.world.room["seats".concat(e)][t]}},{key:"onClose",value:function(){this.network.send("leave_waddle"),this.leaveSeat(),this.activeWaddleId=null,this.visible=!1}},{key:"showWaddle",value:function(e,t){this.activeWaddleId=e,this.enterSeat(e,t),this.items.map((function(e){return e.hideItem()}));var n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Yi(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(this.activeWaddle.entries());try{for(r.s();!(n=r.n()).done;){var o=Xi(n.value,2),i=o[0],a=o[1];this.items[i].setItem(a)}}catch(e){r.e(e)}finally{r.f()}this.visible=!0}},{key:"updateWaddle",value:function(e,t,n){this.getSeat(e,t).visible=null!=n,this.world.room.waddles[e][t]=n,e==this.activeWaddleId&&this.items[t].setItem(n)}},{key:"enterSeat",value:function(e,t){this.activeSeat=this.getSeat(e,t),this.world.client.penguin.move(this.activeSeat.x,this.activeSeat.y,this.activeSeat.sitFrame)}},{key:"leaveSeat",value:function(){var e=this.activeSeat.x+this.activeSeat.offsetX,t=this.activeSeat.y+this.activeSeat.offsetY;this.activeSeat=null,this.world.client.penguin.move(e,t)}}],n&&Hi(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.Z);function Ki(e){return Ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ki(e)}function Ji(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qi(e,t){return Qi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Qi(e,t)}function ea(e,t){if(t&&("object"===Ki(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ta(e)}function ta(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function na(e){return na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},na(e)}var ra=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qi(e,t)}(s,Phaser.GameObjects.Container);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=na(r);if(o){var n=na(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ea(this,e)});function s(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),r=i.call(this,e,null!=t?t:760,null!=n?n:457);var o=e.add.image(0,20,"map-for-igloo","igloo/igloo");return o.setOrigin(.5054945054945055,.5058823529411764),r.add(o),new a.tk(ta(r)),new a.rF(o).callback=function(){return r.onClick()},new a.tk(o),r.scene=e,r.id,r}return t=s,(n=[{key:"onClick",value:function(){this.id&&this.scene.world.client.sendJoinIgloo(this.id)}},{key:"reset",value:function(){this.id=null,this.__ShowHint.text=null,this.visible=!1}},{key:"show",value:function(e){this.id=e.id,this.__ShowHint.text=e.username,this.visible=!0}}])&&Ji(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}();function oa(e){return oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oa(e)}function ia(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aa(e,t){return aa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},aa(e,t)}function sa(e,t){if(t&&("object"===oa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ca(e){return ca=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ca(e)}var la=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aa(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ca(r);if(o){var n=ca(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return sa(this,e)});function s(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this,e,null!=t?t:760,null!=n?n:480)).icon,r.username;var o=e.add.image(0,0,"map","igloo/item_small");r.add(o);var c=e.add.image(-137,0,"map","igloo/icon_none");r.add(c);var l=e.add.text(25,0,"",{});l.setOrigin(.5,.5),l.setStyle({color:"#000",fixedWidth:270,fontFamily:"Burbank Small",fontSize:"24px"}),r.add(l);var u=new a.zx(o);return u.spriteName="igloo/item_small",u.callback=function(){return r.onClick()},u.activeFrame=!1,r.icon=c,r.username=l,r.id,r}return t=s,(n=[{key:"setItem",value:function(e){if(!e)return this.clearItem();this.id=e.id,this.username.text=e.username;var t=this.world.getRelationship(e.id);"online"!=t&&(t="none");var n="igloo/icon_".concat(t);this.icon.setFrame(n)}},{key:"clearItem",value:function(){this.id=null,this.username.text="",this.icon.setFrame("igloo/icon_none")}},{key:"onClick",value:function(){this.id&&this.world.client.sendJoinIgloo(this.id)}}])&&ia(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.Z);function ua(e){return ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ua(e)}function fa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||pa(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function da(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=pa(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function pa(e,t){if(e){if("string"==typeof e)return ha(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ha(e,t):void 0}}function ha(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ya(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ma(e,t){return ma=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ma(e,t)}function ba(e,t){if(t&&("object"===ua(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return va(e)}function va(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ga(e){return ga=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ga(e)}var wa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ma(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ga(r);if(o){var n=ga(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ba(this,e)});function s(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this,e,null!=t?t:760,null!=n?n:480)).spinner,r.panel,r.down,r.downButton,r.up,r.upButton,r.iglooSprites,r.items;var o=e.add.rectangle(0,0,1520,960);o.isFilled=!0,o.fillColor=0,o.fillAlpha=.2,r.add(o);var c=e.add.image(-11,-44,"map","igloo/bg");r.add(c);var l=new ra(e,-336,-50);l.scaleX=.9,l.scaleY=.9,l.flipX=!1,l.flipY=!1,r.add(l);var u=new ra(e,-277,-30);u.scaleX=.9,u.scaleY=.9,u.flipX=!1,u.flipY=!1,r.add(u);var f=new ra(e,-216,-10);f.scaleX=.9,f.scaleY=.9,f.flipX=!1,f.flipY=!1,r.add(f);var d=new ra(e,-156,9);d.scaleX=.9,d.scaleY=.9,d.flipX=!1,d.flipY=!1,r.add(d);var p=new ra(e,-107,61);p.scaleX=1,p.scaleY=1,p.flipX=!1,p.flipY=!1,r.add(p);var h=new ra(e,-224,88);h.scaleX=1,h.scaleY=1,h.flipX=!0,h.flipY=!1,r.add(h);var y=new ra(e,-150,119);y.scaleX=1,y.scaleY=1,y.flipX=!1,y.flipY=!1,r.add(y);var m=new ra(e,-89,140);m.scaleX=1,m.scaleY=1,m.flipX=!1,m.flipY=!1,r.add(m);var b=new ra(e,-439,-16);b.scaleX=.9,b.scaleY=.9,b.flipX=!0,b.flipY=!1,r.add(b);var v=new ra(e,-382,36);v.scaleX=1,v.scaleY=1,v.flipX=!1,v.flipY=!1,r.add(v);var g=new ra(e,-323,57);g.scaleX=1,g.scaleY=1,g.flipX=!1,g.flipY=!1,r.add(g);var w=new ra(e,-286,116);w.scaleX=1,w.scaleY=1,w.flipX=!0,w.flipY=!1,r.add(w);var k=new ra(e,108,67);k.scaleX=1,k.scaleY=1,k.flipX=!0,k.flipY=!1,r.add(k);var _=new ra(e,81,117);_.scaleX=1,_.scaleY=1,_.flipX=!0,_.flipY=!1,r.add(_);var O=new ra(e,188,101);O.scaleX=1,O.scaleY=1,O.flipX=!0,O.flipY=!1,r.add(O);var S=new ra(e,-121,-144);S.scaleX=.8,S.scaleY=.8,S.flipX=!1,S.flipY=!1,r.add(S);var x=new ra(e,-76,-108);x.scaleX=.8,x.scaleY=.8,x.flipX=!1,x.flipY=!1,r.add(x);var j=new ra(e,-35,-67);j.scaleX=.8,j.scaleY=.8,j.flipX=!1,j.flipY=!1,r.add(j);var P=new ra(e,-46,-7);P.scaleX=.9,P.scaleY=.9,P.flipX=!1,P.flipY=!1,r.add(P);var R=new ra(e,135,-49);R.scaleX=.9,R.scaleY=.9,R.flipX=!0,R.flipY=!1,r.add(R);var C=new ra(e,95,-28);C.scaleX=.9,C.scaleY=.9,C.flipX=!0,C.flipY=!1,r.add(C);var T=new ra(e,44,6);T.scaleX=.9,T.scaleY=.9,T.flipX=!0,T.flipY=!1,r.add(T);var E=new ra(e,-5,40);E.scaleX=.9,E.scaleY=.9,E.flipX=!1,E.flipY=!1,r.add(E);var B=new ra(e,191,-14);B.scaleX=.9,B.scaleY=.9,B.flipX=!1,B.flipY=!1,r.add(B);var A=new ra(e,-136,-73);A.scaleX=.8,A.scaleY=.8,A.flipX=!0,A.flipY=!1,r.add(A);var F=new ra(e,-189,-75);F.scaleX=.8,F.scaleY=.8,F.flipX=!0,F.flipY=!1,r.add(F);var I=new ra(e,-31,-180);I.scaleX=.8,I.scaleY=.8,I.flipX=!1,I.flipY=!1,r.add(I);var z=new ra(e,10,-156);z.scaleX=.8,z.scaleY=.8,z.flipX=!1,z.flipY=!1,r.add(z);var M=new ra(e,71,-140);M.scaleX=.8,M.scaleY=.8,M.flipX=!0,M.flipY=!1,r.add(M);var D=new ra(e,37,-107);D.scaleX=.8,D.scaleY=.8,D.flipX=!1,D.flipY=!1,r.add(D);var L=e.add.image(-485,-268,"map","igloo/note");r.add(L);var N=e.add.image(476,-286,"main","grey-button");N.angle=6,r.add(N);var Z=e.add.image(476,-288,"main","grey-x");Z.angle=6,r.add(Z);var X=e.add.image(-19,-55,"map","igloo/spinner");X.setOrigin(.5076923076923077,.5),r.add(X);var Y=e.add.container(268,-238);r.add(Y);var W=e.add.image(197,318,"map","igloo/card");Y.add(W);var H=e.add.image(5,0,"map","igloo/tape");H.setOrigin(.5017421602787456,.5),Y.add(H);var U=e.add.image(183,72,"map","igloo/item_large");Y.add(U);var G=e.add.image(18,72,"map","igloo/icon_player");G.setOrigin(.5128205128205128,.5128205128205128),Y.add(G);var q=e.add.text(180,72,"",{});q.setOrigin(.5,.5),q.setStyle({color:"#000",fixedWidth:270,fontFamily:"Burbank Small",fontSize:"24px"}),Y.add(q);var V=new la(e,155,549);Y.add(V);var $=new la(e,155,497);Y.add($);var K=new la(e,155,445);Y.add(K);var J=new la(e,155,393);Y.add(J);var Q=new la(e,155,341);Y.add(Q);var ee=new la(e,155,289);Y.add(ee);var te=new la(e,155,237);Y.add(te);var ne=new la(e,155,185);Y.add(ne);var re=e.add.text(0,126,"",{});re.text="Open Igloos",re.setStyle({color:"#999",fontFamily:"Burbank Small",fontSize:"22px",fontStyle:"bold"}),Y.add(re);var oe=e.add.container(358,549);Y.add(oe);var ie=e.add.image(0,2,"main","grey-button");oe.add(ie);var ae=e.add.image(0,0,"main","grey-arrow");ae.flipY=!0,oe.add(ae);var se=e.add.container(358,180);Y.add(se);var ce=e.add.image(0,2,"main","grey-button");se.add(ce);var le=e.add.image(0,0,"main","grey-arrow");se.add(le);var ue=[E,T,P,C,D,p,_,z,O,d,k,M,x,S,R,B,h,w,g,m,y,f,u,A,F,j,I,l,v,b],fe=[ne,te,ee,Q,J,K,$,V];new a.vj(o);var de=new a.zx(N);de.spriteName="grey-button",de.callback=function(){return r.visible=!1};var pe=new a.zx(U);pe.spriteName="igloo/item_large",pe.callback=function(){return r.onIglooClick()},pe.activeFrame=!1;var he=new a.zx(ie);he.spriteName="grey-button",he.callback=function(){return r.nextPage()};var ye=new a.zx(ce);ye.spriteName="grey-button",ye.callback=function(){return r.prevPage()},r.spinner=X,r.panel=Y,r.down=oe,r.downButton=ie,r.up=se,r.upButton=ce,r.iglooSprites=ue,r.items=fe;var me=r.world.client.penguin;return 1==me.username_approved?q.text=me.username:q.text="P"+me.id,r.tween=e.tweens.add({targets:r.spinner,angle:{from:0,to:180},duration:900,repeat:-1,ease:"Cubic",paused:!0}),r.igloos,r.page=1,r.pageSize=8,e.events.on("sleep",r.stopSpinner,va(r)),r}return t=s,(n=[{key:"maxPage",get:function(){return Math.ceil(this.igloos.length/this.pageSize)}},{key:"onIglooClick",value:function(){this.world.client.sendJoinIgloo(this.world.client.id)}},{key:"show",value:function(){this.iglooSprites.map((function(e){return e.reset()})),this.panel.visible=!1,this.startSpinner(),this.visible=!0,this.interface.input.setDefaultCursor("default"),this.network.send("get_igloos")}},{key:"setIgloos",value:function(e){this.visible&&(this.igloos=e.sort((function(e,t){return e.username.toLowerCase().localeCompare(t.username.toLowerCase())})),this.panel.visible=!0,this.stopSpinner(),this.showPage())}},{key:"showPage",value:function(){var e,t=this.igloos.slice((this.page-1)*this.pageSize,this.page*this.pageSize),n=da(this.items.entries());try{for(n.s();!(e=n.n()).done;){var r=fa(e.value,2),o=r[0],i=r[1],a=t[o];a?i.setItem(a):i.setItem(null)}}catch(e){n.e(e)}finally{n.f()}this.showIgloos(),this.updateButtons()}},{key:"prevPage",value:function(){var e=this.page-1;e<1||(this.page=e,this.showPage())}},{key:"nextPage",value:function(){var e=this.page+1;e>this.maxPage||(this.page=e,this.showPage())}},{key:"showIgloos",value:function(){var e,t=this.iglooSprites.length,n=da(this.igloos.slice(0,t).entries());try{for(n.s();!(e=n.n()).done;){var r=fa(e.value,2),o=r[0],i=r[1],a=this.iglooSprites[o];a&&a.show(i)}}catch(e){n.e(e)}finally{n.f()}}},{key:"updateButtons",value:function(){var e=this.page>1,t=this.page<this.maxPage;this.upButton.input.enabled=e,this.downButton.input.enabled=t,this.up.alpha=e?1:.6,this.down.alpha=t?1:.6}},{key:"startSpinner",value:function(){this.tween.restart(),this.tween.play(),this.spinner.visible=!0}},{key:"stopSpinner",value:function(){this.tween.pause(),this.spinner.angle=0,this.spinner.visible=!1}}])&&ya(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.Z);function ka(e){return ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ka(e)}function _a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oa(e,t){return Oa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Oa(e,t)}function Sa(e,t){if(t&&("object"===ka(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function xa(e){return xa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xa(e)}var ja=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oa(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=xa(r);if(o){var n=xa(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Sa(this,e)});function s(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this,e,null!=t?t:760,null!=n?n:480)).white_overlay,r.iglooMap,r.shops_container,r.catchinwavesupgrades,r.costumetrunk,r.hydrohopperupgrades,r.martialartworks,r.musiccatalog,r.penguinstyle,r.petfurniture,r.sledraceupgrades,r.snowandsports,r.games_container,r.aqua,r.arcade,r.counters,r.jitsu,r.surfer,r.waves_1,r.dancecontest,r.soundstudio,r.hydro,r.fishing,r.jetpack,r.pizzatron,r.cannon,r.rescue,r.roundup,r.pufflescape,r.sled,r.smoothie;var o=e.add.image(53,362,"newestMap","Smbolo 27");o.scaleX=.5,o.scaleY=.5,r.add(o);var c=e.add.image(0,-35,"map","bg");c.setOrigin(.5,.5007429420505201),c.visible=!1,r.add(c);var l=e.add.rectangle(-32.77707700843423,23.469213665729455,1520,960);l.scaleX=1.0622070020971,l.scaleY=1.1688154174421634,l.setOrigin(.4803183635209356,.49685330762054664),l.isFilled=!0,l.fillColor=0,l.fillAlpha=.5,r.add(l);var u=e.add.image(26,-272,"newestMap","sky");u.scaleX=.5,u.scaleY=.5,r.add(u);var f=e.add.image(506,-219,"newestMap","cloud2");f.scaleX=.5,f.scaleY=.5,r.add(f);var d=e.add.image(400,-256,"newestMap","sprite 35");d.scaleX=.5,d.scaleY=.5,r.add(d);var p=e.add.image(-417,-179,"newestMap","cloud1");p.scaleX=.5,p.scaleY=.5,r.add(p);var h=e.add.image(69,-310,"map","dojo");h.setOrigin(.5038759689922481,.5056179775280899),h.visible=!1,r.add(h);var y=e.add.image(29,-276,"map","mountains");y.visible=!1,r.add(y);var m=e.add.image(-12,-30,"map","island");m.setOrigin(.5005417118093174,.5),m.visible=!1,r.add(m);var b=e.add.image(-232,-256,"map","mtn");b.visible=!1,r.add(b);var v=e.add.image(-181,-179,"map","village");v.setOrigin(.503030303030303,.5041322314049587),v.visible=!1,r.add(v);var g=e.add.image(-390,-94,"map","beach");g.visible=!1,r.add(g);var w=e.add.image(-370,114,"map","dock");w.setOrigin(.5,.5037037037037037),w.visible=!1,r.add(w);var k=e.add.image(-128,22,"map","town");k.visible=!1,r.add(k);var _=e.add.image(78,30,"map","forts");_.setOrigin(.5045045045045045,.5045871559633027),_.visible=!1,r.add(_);var O=e.add.image(201,141,"map","igloo");O.visible=!1,r.add(O);var S=e.add.image(52,-98,"map","rink");S.setOrigin(.5023041474654378,.5),S.visible=!1,r.add(S);var x=e.add.image(291,-84,"map","forest");x.setOrigin(.5027027027027027,.5057471264367817),x.visible=!1,r.add(x);var j=e.add.image(334,-169,"map","cove");j.setOrigin(.5,.5058823529411764),j.visible=!1,r.add(j);var P=e.add.image(168,-214,"map","mine");P.setOrigin(.5042016806722689,.5),P.visible=!1,r.add(P);var R=e.add.image(402,-210,"map","berg");R.visible=!1,r.add(R);var C=e.add.image(419,242,"map","note");C.setOrigin(.5017667844522968,.5),C.visible=!1,r.add(C);var T=e.add.image(-1,18,"map","a");T.scaleX=.91,T.scaleY=.91,T.visible=!1,r.add(T);var E=e.add.image(0,17,"map-new","overlay/main");E.scaleX=.97,E.scaleY=.95,E.visible=!1,r.add(E);var B=e.add.image(9,216,"newestMap","sea");B.scaleX=.5,B.scaleY=.5,r.add(B);var A=e.add.image(1,167,"newestMap","waves");A.scaleX=.5,A.scaleY=.5,r.add(A);var F=e.add.image(98,-291,"newestMap","Smbolo 42");F.scaleX=.5,F.scaleY=.5,r.add(F);var I=e.add.image(29,-190,"newestMap","Symbol 14");I.scaleX=.5,I.scaleY=.5,r.add(I);var z=e.add.image(-231,-159,"newestMap","Smbolo 46");z.scaleX=.5,z.scaleY=.5,r.add(z);var M=e.add.image(394,-193,"newestMap","Smbolo 47");M.scaleX=.5,M.scaleY=.5,r.add(M);var D=e.add.image(-410,-183,"newestMap","Smbolo 45");D.scaleX=.5,D.scaleY=.5,r.add(D);var L=e.add.image(-86,-205,"newestMap","Smbolo 48");L.scaleX=.5,L.scaleY=.5,r.add(L);var N=e.add.image(-7,14,"newestMap","shadows");N.scaleX=.5,N.scaleY=.5,N.alpha=.2,N.alphaTopLeft=.2,N.alphaTopRight=.2,N.alphaBottomLeft=.2,N.alphaBottomRight=.2,r.add(N);var Z=e.add.image(88,196,"newestMap","Smbolo 44");Z.scaleX=.5,Z.scaleY=.5,r.add(Z);var X=e.add.image(-160,111,"newestMap","Smbolo 4");X.scaleX=.5,X.scaleY=.5,r.add(X);var Y=e.add.image(-481,176,"newestMap","Smbolo 52");Y.scaleX=.5,Y.scaleY=.5,r.add(Y);var W=e.add.image(92,83,"newestMap","Smbolo 64");W.scaleX=.5,W.scaleY=.5,r.add(W);var H=e.add.image(121,11,"newestMap","central");H.scaleX=.5,H.scaleY=.5,r.add(H);var U=e.add.image(142,40,"newestMap","Smbolo 69");U.scaleX=.5,U.scaleY=.5,r.add(U);var G=e.add.image(30,7,"newestMap","igloo");G.scaleX=.5,G.scaleY=.5,r.add(G);var q=e.add.image(179,103,"newestMap","Smbolo 66");q.scaleX=.5,q.scaleY=.5,r.add(q);var V=e.add.image(70,115,"newestMap","Smbolo 70");V.scaleX=.5,V.scaleY=.5,r.add(V);var $=e.add.image(-177,137,"newestMap","town");$.scaleX=.5,$.scaleY=.5,r.add($);var K=e.add.image(-292,199,"newestMap","Smbolo 93");K.scaleX=.5,K.scaleY=.5,r.add(K);var J=e.add.image(-169,156,"newestMap","Smbolo 6");J.scaleX=.5,J.scaleY=.5,r.add(J);var Q=e.add.image(-400,203,"newestMap","Smbolo 77");Q.scaleX=.5,Q.scaleY=.5,r.add(Q);var ee=e.add.image(-602,395,"newestMap","pirate");ee.scaleX=.5,ee.scaleY=.5,r.add(ee);var te=e.add.image(-296,370,"newestMap","Smbolo 65");te.scaleX=.5,te.scaleY=.5,r.add(te);var ne=e.add.image(-301,336,"newestMap","Smbolo 78");ne.scaleX=.5,ne.scaleY=.5,r.add(ne);var re=e.add.image(-412,322,"newestMap","Smbolo 109");re.scaleX=.5,re.scaleY=.5,r.add(re);var oe=e.add.image(-380,305,"newestMap","port");oe.scaleX=.5,oe.scaleY=.5,r.add(oe);var ie=e.add.image(523,46,"newestMap","Smbolo 97");ie.scaleX=.5,ie.scaleY=.5,r.add(ie);var ae=e.add.image(677,263,"newestMap","Smbolo 87");ae.scaleX=.5,ae.scaleY=.5,r.add(ae);var se=e.add.image(581,63,"newestMap","forest");se.scaleX=.5,se.scaleY=.5,r.add(se);var ce=e.add.image(596,92,"newestMap","Smbolo 98");ce.scaleX=.5,ce.scaleY=.5,r.add(ce);var le=e.add.image(675,269,"newestMap","hidden");le.scaleX=.5,le.scaleY=.5,r.add(le);var ue=e.add.image(649,86,"newestMap","Smbolo 62");ue.scaleX=.5,ue.scaleY=.5,r.add(ue);var fe=e.add.image(611,110,"newestMap","Smbolo 99");fe.scaleX=.5,fe.scaleY=.5,r.add(fe);var de=e.add.image(-500,177,"newestMap","tropical");de.scaleX=.5,de.scaleY=.5,r.add(de);var pe=e.add.image(615,122,"newestMap","Smbolo 100");pe.scaleX=.5,pe.scaleY=.5,r.add(pe);var he=e.add.image(290,94,"newestMap","plaza");he.scaleX=.5,he.scaleY=.5,r.add(he);var ye=e.add.image(462,218,"newestMap","Smbolo 107");ye.scaleX=.5,ye.scaleY=.5,r.add(ye);var me=e.add.image(378,187,"newestMap","Smbolo 60");me.scaleX=.5,me.scaleY=.5,r.add(me);var be=e.add.image(429,51,"newestMap","mine");be.scaleX=.5,be.scaleY=.5,r.add(be);var ve=e.add.image(506,229,"newestMap","Smbolo 84");ve.scaleX=.5,ve.scaleY=.5,r.add(ve);var ge=e.add.image(537,291,"newestMap","lake");ge.scaleX=.5,ge.scaleY=.5,r.add(ge);var we=e.add.image(592,282,"newestMap","Smbolo 85");we.scaleX=.5,we.scaleY=.5,r.add(we);var ke=e.add.image(511,155,"newestMap","Smbolo 71");ke.scaleX=.5,ke.scaleY=.5,r.add(ke);var _e=e.add.image(445,112,"newestMap","Smbolo 105");_e.scaleX=.5,_e.scaleY=.5,r.add(_e);var Oe=e.add.image(440,-175,"newestMap","Smbolo 51");Oe.scaleX=.5,Oe.scaleY=.5,r.add(Oe);var Se=e.add.image(485,99,"newestMap","park");Se.scaleX=.5,Se.scaleY=.5,r.add(Se);var xe=e.add.image(-726,89,"newestMap","berg");xe.scaleX=.5,xe.scaleY=.5,r.add(xe);var je=e.add.image(97,-173,"newestMap","Smbolo 50");je.scaleX=.5,je.scaleY=.5,r.add(je);var Pe=e.add.image(609,215,"newestMap","Smbolo 35");Pe.scaleX=.5,Pe.scaleY=.5,r.add(Pe);var Re=e.add.image(472,-315,"newestMap","dojo");r.add(Re);var Ce=e.add.image(-5,9,"newestMap","cloudsall");Ce.scaleX=.5,Ce.scaleY=.5,r.add(Ce);var Te=e.add.rectangle(5,5,128,128);Te.scaleX=11.693966924568103,Te.scaleY=7.654820022230695,Te.visible=!1,Te.alpha=.5,Te.isFilled=!0,r.add(Te);var Ee=e.add.image(0,20,"map-new","overlay/main");r.add(Ee);var Be=e.add.image(716,-414,"main","grey-button");r.add(Be);var Ae=e.add.image(716,-416,"main","grey-x");r.add(Ae);var Fe=e.add.image(-666,-377,"map-new","overlay/shopsbutton0001");r.add(Fe);var Ie=e.add.image(-540,-377,"map-new","overlay/placesbutton0001");r.add(Ie);var ze=e.add.image(-411,-377,"map-new","overlay/gamesbutton0001");r.add(ze);var Me=e.add.text(-700,-321,"",{});Me.text="Shops",Me.setStyle({color:"#404040ff",fontFamily:"Burbank Small ",fontSize:"25px"}),r.add(Me);var De=e.add.text(-577,-321,"",{});De.text="Places",De.setStyle({color:"#404040ff",fontFamily:"Burbank Small",fontSize:"25px"}),r.add(De);var Le=e.add.text(-450,-321,"",{});Le.text="Games",Le.setStyle({color:"#404040ff",fontFamily:"Burbank Small",fontSize:"25px"}),r.add(Le);var Ne=new wa(e,0,0);Ne.visible=!1,r.add(Ne);var Ze=e.add.container(-466,-158);Ze.visible=!1,r.add(Ze);var Xe=e.add.sprite(-42,365,"map-new","shops/catchinwavesupgrades0001");Ze.add(Xe);var Ye=e.add.sprite(916,320,"map-new","shops/costumetrunk0001");Ye.visible=!1,Ze.add(Ye);var We=e.add.sprite(1008,424,"map-new","shops/hydrohopperupgrades0001");Ze.add(We);var He=e.add.sprite(746,33,"map-new","shops/martialartworks0001");He.visible=!1,Ze.add(He);var Ue=e.add.sprite(80,447,"map-new","shops/musiccatalog0001");Ze.add(Ue);var Ge=e.add.sprite(275,287,"map-new","shops/penguinstyle0001");Ze.add(Ge);var qe=e.add.sprite(755,265,"map-new","shops/petfurniture0001");Ze.add(qe);var Ve=e.add.sprite(123,71,"map-new","shops/sledracerupgrades0001");Ve.visible=!1,Ze.add(Ve);var $e=e.add.sprite(544,172,"map-new","shops/snowandsports0001");$e.visible=!1,Ze.add($e);var Ke=e.add.container(-642,-216);Ke.visible=!1,r.add(Ke);var Je=e.add.sprite(-54,276,"map-new","games/aquagrabber0001");Ke.add(Je);var Qe=e.add.sprite(464,258,"map-new","games/arcadegames0001");Ke.add(Qe);var et=e.add.sprite(356,338,"map-new","games/beancounters0001");Ke.add(et);var tt=e.add.sprite(789,50,"map-new","games/cardjitsu0001");tt.visible=!1,Ke.add(tt);var nt=e.add.sprite(1098,307,"map-new","games/cartsurfer0001");Ke.add(nt);var rt=e.add.sprite(141,421,"map-new","games/catchinwaves0001");Ke.add(rt);var ot=e.add.sprite(464,400,"map-new","games/dancecontest0001");Ke.add(ot);var it=e.add.sprite(448,444,"map-new","games/dj3ksoundstudio0001");it.visible=!1,Ke.add(it);var at=e.add.sprite(1190,497,"map-new","games/hydrohopper0001");Ke.add(at);var st=e.add.sprite(182,225,"map-new","games/icefishing0001");st.visible=!1,Ke.add(st);var ct=e.add.sprite(259,498,"map-new","games/jetpackadventure0001");Ke.add(ct);var lt=e.add.sprite(983,338,"map-new","games/pizzatron0001");Ke.add(lt);var ut=e.add.sprite(836,364,"map-new","games/pufflelaunch0001");Ke.add(ut);var ft=e.add.sprite(1071,189,"map-new","games/pufflerescue0001");Ke.add(ft);var dt=e.add.sprite(890,247,"map-new","games/puffleroundup0001");Ke.add(dt);var pt=e.add.sprite(855,491,"map-new","games/pufflescape0001");pt.visible=!1,Ke.add(pt);var ht=e.add.sprite(153,89,"map-new","games/sledracing0001");ht.visible=!1,Ke.add(ht);var yt=e.add.sprite(322,529,"map-new","games/smoothiesmash0001");yt.visible=!1,Ke.add(yt),new a.vj(c),new a.vj(l);var mt=new a.zx(h);mt.spriteName="dojo",mt.callback=function(){return r.onRoomClick(321)},mt.activeFrame=!1,new a.tk(h).text="dojoext_hint";var bt=new a.zx(b);bt.spriteName="mtn",bt.callback=function(){return r.onRoomClick(230)},bt.activeFrame=!1,new a.tk(b).text="mtn_hint";var vt=new a.zx(v);vt.spriteName="village",vt.callback=function(){return r.onRoomClick(200)},vt.activeFrame=!1,new a.tk(v).text="village_hint";var gt=new a.zx(g);gt.spriteName="beach",gt.callback=function(){return r.onRoomClick(400)},gt.activeFrame=!1,new a.tk(g).text="beach_hint";var wt=new a.zx(w);wt.spriteName="dock",wt.callback=function(){return r.onRoomClick(800)},wt.activeFrame=!1,new a.tk(w).text="dock_hint";var kt=new a.zx(k);kt.spriteName="town",kt.callback=function(){return r.onRoomClick(100)},kt.activeFrame=!1,new a.tk(k).text="town_hint";var _t=new a.zx(_);_t.spriteName="forts",_t.callback=function(){return r.onRoomClick(801)},_t.activeFrame=!1,new a.tk(_).text="forts_hint";var Ot=new a.zx(O);Ot.spriteName="igloo",Ot.callback=function(){return r.iglooMap.show()},Ot.activeFrame=!1,new a.tk(O).text="igloos_hint";var St=new a.zx(S);St.spriteName="rink",St.callback=function(){return r.onRoomClick(802)},St.activeFrame=!1,new a.tk(S).text="rink_hint";var xt=new a.zx(x);xt.spriteName="forest",xt.callback=function(){return r.onRoomClick(809)},xt.activeFrame=!1,new a.tk(x).text="forest_hint";var jt=new a.zx(j);jt.spriteName="cove",jt.callback=function(){return r.onRoomClick(810)},jt.activeFrame=!1,new a.tk(j).text="cove_hint";var Pt=new a.zx(P);Pt.spriteName="mine",Pt.callback=function(){return r.onRoomClick(807)},Pt.activeFrame=!1,new a.tk(P).text="shack_hint";var Rt=new a.zx(R);Rt.spriteName="berg",Rt.callback=function(){return r.onRoomClick(805)},Rt.activeFrame=!1,new a.vj(C);var Ct=new a.zx(H);Ct.spriteName="central",Ct.callback=function(){return r.onRoomClick(1)},Ct.activeFrame=!1,new a.tk(H).text="Centre Island";var Tt=new a.zx(G);Tt.spriteName="igloo",Tt.callback=function(){return r.iglooMap.show()},Tt.activeFrame=!1,new a.tk(G).text="Show Igloos";var Et=new a.zx($);Et.spriteName="town",Et.callback=function(){return r.onRoomClick(10)},Et.activeFrame=!1,new a.tk($).text="Town Center";var Bt=new a.zx(ee);Bt.spriteName="pirate",Bt.callback=function(){return r.onRoomClick(40)},Bt.activeFrame=!1,new a.tk(ee).text="Pirate Island";var At=new a.zx(oe);At.spriteName="port",At.callback=function(){return r.onRoomClick(30)},At.activeFrame=!1,new a.tk(oe).text="The Port";var Ft=new a.zx(se);Ft.spriteName="forest",Ft.callback=function(){return r.onRoomClick(80)},Ft.activeFrame=!1,new a.tk(se).text="Lost Forest",new a.rF(le).callback=function(){return r.onRoomClick(92)};var It=new a.zx(de);It.spriteName="tropical",It.callback=function(){return r.onRoomClick(20)},It.activeFrame=!1,new a.tk(de).text="Tropical Forest";var zt=new a.zx(he);zt.spriteName="plaza",zt.callback=function(){return r.onRoomClick(50)},zt.activeFrame=!1,new a.tk(he).text="Plaza";var Mt=new a.zx(be);Mt.spriteName="mine",Mt.callback=function(){return r.onRoomClick(70)},Mt.activeFrame=!1,new a.tk(be).text="Mine Entrance";var Dt=new a.zx(ge);Dt.spriteName="lake",Dt.callback=function(){return r.onRoomClick(90)},Dt.activeFrame=!1,new a.tk(ge).text="Lake";var Lt=new a.zx(Se);Lt.spriteName="park",Lt.callback=function(){return r.onRoomClick(60)},Lt.activeFrame=!1,new a.tk(Se).text="Nature Park",new a.rF(xe).callback=function(){return r.onRoomClick(2)},new a.zx(Re).spriteName="dojo",new a.tk(Re).text="Yso Village",new a.vj(Te);var Nt=new a.zx(Be);return Nt.spriteName="grey-button",Nt.callback=function(){r.visible=!1},new a.rF(Fe).callback=function(){return r.changeMode("shops")},new a.rF(Ie).callback=function(){return r.changeMode("places")},new a.tk(Xe).text="Game Upgrade",new a.rF(Xe),new a.rF(We),new a.tk(We).text="Game Upgrade",new a.rF(Ue).callback=function(){return r.onRoomClick(410)},new a.tk(Ue).text="Music Catalog",new a.rF(Ge).callback=function(){return r.onRoomClick(130)},new a.tk(Ge).text="Penguin Style",new a.rF(qe),new a.tk(qe).text="Pet Furniture",new a.rF(Je).callback=function(){return r.onRoomClick(805)},new a.tk(Je).text="Aqua Grabber",new a.rF(Qe).callback=function(){return r.onRoomClick(121)},new a.tk(Qe).text="Arcade",new a.rF(et).callback=function(){return r.onRoomClick(110)},new a.tk(et).text="Bean Counters",new a.rF(nt).callback=function(){return r.onRoomClick(808)},new a.tk(nt).text="Cart Surfer",new a.rF(ot).callback=function(){return r.onRoomClick(120)},new a.tk(ot).text="Dance Contest",new a.rF(at).callback=function(){return r.onRoomClick(800)},new a.tk(at).text="Hydro Hopper",new a.rF(st).callback=function(){return r.onRoomClick(220)},new a.tk(st).text="Ice Fishing",new a.rF(ct).callback=function(){return r.onRoomClick(411)},new a.tk(ct).text="Jetpack Adventure",new a.rF(lt).callback=function(){return r.onRoomClick(330)},new a.tk(lt).text="Pizzatron 3000",new a.rF(ut).callback=function(){return r.onRoomClick(310)},new a.tk(ut).text="Puffle Launch",new a.rF(ft).callback=function(){return r.onRoomClick(808)},new a.tk(ft).text="Puffle Rescue",new a.rF(dt).callback=function(){return r.onRoomClick(310)},new a.tk(dt).text="Puffle Roundup\n",new a.rF(ht).callback=function(){return r.onRoomClick(230)},new a.tk(ht).text="Sled Racing",r.white_overlay=Te,r.iglooMap=Ne,r.shops_container=Ze,r.catchinwavesupgrades=Xe,r.costumetrunk=Ye,r.hydrohopperupgrades=We,r.martialartworks=He,r.musiccatalog=Ue,r.penguinstyle=Ge,r.petfurniture=qe,r.sledraceupgrades=Ve,r.snowandsports=$e,r.games_container=Ke,r.aqua=Je,r.arcade=Qe,r.counters=et,r.jitsu=tt,r.surfer=nt,r.waves_1=rt,r.dancecontest=ot,r.soundstudio=it,r.hydro=at,r.fishing=st,r.jetpack=ct,r.pizzatron=lt,r.cannon=ut,r.rescue=ft,r.roundup=dt,r.pufflescape=pt,r.sled=ht,r.smoothie=yt,r}return t=s,(n=[{key:"onRoomClick",value:function(e){var t=this.crumbs.scenes.rooms[e];this.world.room.key!=t.key&&(this.visible=!1,this.world.client.sendJoinRoom(e,t.key,t.x,t.y,80))}},{key:"changeMode",value:function(e){"shops"==e&&("shops"==this.mode?(this.other.visible=!1,this.unselected.visible=!0,this.shops_container.visible=!1,this.mode="none"):(this.games_container.visible=!1,this.shops_container.visible=!0,this.white_overlay.visible=!0,this.other.visible=!0,this.unselected.visible=!1,this.mode="shops"))}}])&&_a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.Z);function Pa(e){return Pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pa(e)}function Ra(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ca(e,t){return Ca=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ca(e,t)}function Ta(e,t){if(t&&("object"===Pa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ea(e)}function Ea(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ba(e){return Ba=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ba(e)}var Aa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ca(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ba(r);if(o){var n=Ba(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ta(this,e)});function s(e,t,n){var r,o,c,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),l="places",(c="mode")in(o=Ea(r=i.call(this,e,null!=t?t:760,null!=n?n:460)))?Object.defineProperty(o,c,{value:l,enumerable:!0,configurable:!0,writable:!0}):o.mode=l,r.unselected,r.places,r.other,r.overlay,r.places_container,r.cove,r.dock,r.dojo,r.forest,r.berg,r.igloos,r.beach,r.shack,r.plaza,r.rink,r.mtn,r.village,r.forts,r.town,r.games_container,r.aqua,r.arcade,r.counters,r.jitsu,r.surfer,r.waves,r.dancecontest,r.soundstudio,r.hydro,r.fishing,r.jetpack,r.pizzatron,r.cannon,r.rescue,r.roundup,r.pufflescape,r.sled,r.smoothie,r.shops_container,r.catchinwavesupgrades,r.costumetrunk,r.hydrohopperupgrades,r.icefishingupgrades,r.martialartworks,r.musiccatalog,r.penguinstyle,r.petfurniture,r.sledraceupgrades,r.snowandsports,r.places_btn,r.games_btn,r.shops_btn,r.close_btn,r.iglooMap;var u=e.add.sprite(0,24,"map-new","background/unselected");u.visible=!1,r.add(u);var f=e.add.sprite(0,24,"map-new","background/placesselected");r.add(f);var d=e.add.sprite(-62,-4,"map-new","background/otherselected");d.visible=!1,r.add(d);var p=e.add.sprite(0,23,"map-new","overlay/main");r.add(p);var h=e.add.container(-693,-210);r.add(h);var y=e.add.sprite(1361,401,"map-new","places/cove0001");h.add(y);var m=e.add.sprite(221,541,"map-new","places/dock0001");h.add(m);var b=e.add.sprite(865,23,"map-new","places/dojoexterior0001");h.add(b);var v=e.add.sprite(1121,384,"map-new","places/forest0001");h.add(v);var g=e.add.sprite(1375,167,"map-new","places/iceberg");h.add(g);var w=e.add.sprite(523,469,"map-new","places/igloomap0001");h.add(w);var k=e.add.sprite(0,350,"map-new","places/lighthouse0001");h.add(k);var _=e.add.sprite(1108,213,"map-new","places/mineshack0001");h.add(_);var O=e.add.sprite(930,288,"map-new","places/plaza0001");h.add(O);var S=e.add.sprite(616,187,"map-new","places/pool0001");h.add(S);var x=e.add.sprite(261,116,"map-new","places/skihill0001");h.add(x);var j=e.add.sprite(312,211,"map-new","places/skivillage0001");h.add(j);var P=e.add.sprite(705,262,"map-new","places/snowforts0001");h.add(P);var R=e.add.sprite(502,322,"map-new","places/town0001");h.add(R);var C=e.add.container(-623,-272);C.visible=!1,r.add(C);var T=e.add.sprite(1230,204,"map-new","games/aquagrabber0001");C.add(T);var E=e.add.sprite(450,309,"map-new","games/arcadegames0001");C.add(E);var B=e.add.sprite(302,379,"map-new","games/beancounters0001");C.add(B);var A=e.add.sprite(789,50,"map-new","games/cardjitsu0001");A.visible=!1,C.add(A);var F=e.add.sprite(1071,227,"map-new","games/cartsurfer0001");C.add(F);var I=e.add.sprite(1219,458,"map-new","games/catchinwaves0001");I.visible=!1,C.add(I);var z=e.add.sprite(558,373,"map-new","games/dancecontest0001");C.add(z);var M=e.add.sprite(448,444,"map-new","games/dj3ksoundstudio0001");M.visible=!1,C.add(M);var D=e.add.sprite(124,577,"map-new","games/hydrohopper0001");C.add(D);var L=e.add.sprite(182,225,"map-new","games/icefishing0001");C.add(L);var N=e.add.sprite(6,341,"map-new","games/jetpackadventure0001");C.add(N);var Z=e.add.sprite(954,394,"map-new","games/pizzatron0001");C.add(Z);var X=e.add.sprite(749,423,"map-new","games/pufflelaunch0001");C.add(X);var Y=e.add.sprite(916,240,"map-new","games/pufflerescue0001");C.add(Y);var W=e.add.sprite(740,285,"map-new","games/puffleroundup0001");C.add(W);var H=e.add.sprite(855,491,"map-new","games/pufflescape0001");H.visible=!1,C.add(H);var U=e.add.sprite(153,89,"map-new","games/sledracing0001");C.add(U);var G=e.add.sprite(322,529,"map-new","games/smoothiesmash0001");G.visible=!1,C.add(G);var q=e.add.container(-590,-202);q.visible=!1,r.add(q);var V=e.add.sprite(1192,415,"map-new","shops/catchinwavesupgrades0001");V.visible=!1,q.add(V);var $=e.add.sprite(916,320,"map-new","shops/costumetrunk0001");$.visible=!1,q.add($);var K=e.add.sprite(172,514,"map-new","shops/hydrohopperupgrades0001");K.visible=!1,q.add(K);var J=e.add.sprite(170,241,"map-new","shops/icefishingupgrades0001");q.add(J);var Q=e.add.sprite(746,33,"map-new","shops/martialartworks0001");Q.visible=!1,q.add(Q);var ee=e.add.sprite(0,386,"map-new","shops/musiccatalog0001");q.add(ee);var te=e.add.sprite(505,349,"map-new","shops/penguinstyle0001");q.add(te);var ne=e.add.sprite(747,311,"map-new","shops/petfurniture0001");ne.visible=!1,q.add(ne);var re=e.add.sprite(123,71,"map-new","shops/sledracerupgrades0001");re.visible=!1,q.add(re);var oe=e.add.sprite(544,172,"map-new","shops/snowandsports0001");oe.visible=!1,q.add(oe);var ie=e.add.sprite(-649,-378,"map-new","overlay/placesbutton0001");r.add(ie);var ae=e.add.text(-690,-326,"",{});ae.text="Places",ae.setStyle({color:"#7f7f7fff",fontFamily:"Burbank Small",fontSize:"24px",fontStyle:"bold"}),r.add(ae);var se=e.add.sprite(-520,-378,"map-new","overlay/gamesbutton0001");r.add(se);var ce=e.add.text(-557,-326,"",{});ce.text="Games",ce.setStyle({color:"#7f7f7fff",fontFamily:"Burbank Small",fontSize:"24px",fontStyle:"bold"}),r.add(ce);var le=e.add.sprite(-393,-378,"map-new","overlay/shopsbutton0001");r.add(le);var ue=e.add.text(-429,-326,"",{});ue.text="Shops",ue.setStyle({color:"#7f7f7fff",fontFamily:"Burbank Small",fontSize:"24px",fontStyle:"bold"}),r.add(ue);var fe=e.add.sprite(717,-414,"map-new","overlay/closebutton0001");r.add(fe);var de=new wa(e,0,0);de.visible=!1,r.add(de),new a.vj(u),new a.vj(p),new a.tk(y).text="Cove";var pe=new a.rF(y);pe.hoverCallback=function(){return r.select(r.cove)},pe.hoverOutCallback=function(){return r.unselect(r.cove)},pe.callback=function(){return r.onRoomClick(810)},new a.tk(m).text="Dock";var he=new a.rF(m);he.hoverCallback=function(){return r.select(r.dock)},he.hoverOutCallback=function(){return r.unselect(r.dock)},he.callback=function(){return r.onRoomClick(800)},new a.tk(b).text="Dojo Courtyard";var ye=new a.rF(b);ye.hoverCallback=function(){return r.select(r.dojo)},ye.hoverOutCallback=function(){return r.unselect(r.dojo)},ye.callback=function(){return r.onRoomClick(321)},new a.tk(v).text="Forest";var me=new a.rF(v);me.hoverCallback=function(){return r.select(r.forest)},me.hoverOutCallback=function(){return r.unselect(r.forest)},me.callback=function(){return r.onRoomClick(809)},new a.rF(g).callback=function(){return r.onRoomClick(805)},new a.tk(w).text="Player Igloos";var be=new a.rF(w);be.hoverCallback=function(){return r.select(r.igloos)},be.hoverOutCallback=function(){return r.unselect(r.igloos)},be.callback=function(){return r.iglooMap.show()},new a.tk(k).text="Beach";var ve=new a.rF(k);ve.hoverCallback=function(){return r.select(r.beach)},ve.hoverOutCallback=function(){return r.unselect(r.beach)},ve.callback=function(){return r.onRoomClick(400)},new a.tk(_).text="Mine Shack";var ge=new a.rF(_);ge.hoverCallback=function(){return r.select(r.shack)},ge.hoverOutCallback=function(){return r.unselect(r.shack)},ge.callback=function(){return r.onRoomClick(807)},new a.tk(O).text="Plaza";var we=new a.rF(O);we.hoverCallback=function(){return r.select(r.plaza)},we.hoverOutCallback=function(){return r.unselect(r.plaza)},we.callback=function(){return r.onRoomClick(300)},new a.tk(S).text="Pool";var ke=new a.rF(S);ke.hoverCallback=function(){return r.select(r.rink)},ke.hoverOutCallback=function(){return r.unselect(r.rink)},ke.callback=function(){return r.onRoomClick(802)},new a.tk(x).text="Ski Hill";var _e=new a.rF(x);_e.hoverCallback=function(){return r.select(r.mtn)},_e.hoverOutCallback=function(){return r.unselect(r.mtn)},_e.callback=function(){return r.onRoomClick(230)},new a.tk(j).text="Ski Village";var Oe=new a.rF(j);Oe.hoverCallback=function(){return r.select(r.village)},Oe.hoverOutCallback=function(){return r.unselect(r.village)},Oe.callback=function(){return r.onRoomClick(200)},new a.tk(P).text="Snow Forts";var Se=new a.rF(P);Se.hoverCallback=function(){return r.select(r.forts)},Se.hoverOutCallback=function(){return r.unselect(r.forts)},Se.callback=function(){return r.onRoomClick(801)},new a.tk(R).text="Town";var xe=new a.rF(R);return xe.hoverCallback=function(){return r.select(r.town)},xe.hoverOutCallback=function(){return r.unselect(r.town)},xe.callback=function(){return r.onRoomClick(100)},new a.rF(T).callback=function(){return r.onRoomClick(805)},new a.tk(T).text="Aqua Grabber",new a.rF(E).callback=function(){return r.onRoomClick(121)},new a.tk(E).text="Arcade",new a.rF(B).callback=function(){return r.onRoomClick(110)},new a.tk(B).text="Bean Counters",new a.rF(F).callback=function(){return r.onRoomClick(808)},new a.tk(F).text="Cart Surfer",new a.rF(z).callback=function(){return r.onRoomClick(120)},new a.tk(z).text="Dance Contest",new a.rF(D).callback=function(){return r.onRoomClick(800)},new a.tk(D).text="Hydro Hopper",new a.rF(L).callback=function(){return r.onRoomClick(220)},new a.tk(L).text="Ice Fishing",new a.rF(N).callback=function(){return r.onRoomClick(411)},new a.tk(N).text="Jetpack Adventure",new a.rF(Z).callback=function(){return r.onRoomClick(330)},new a.tk(Z).text="Pizzatron 3000",new a.rF(X).callback=function(){return r.onRoomClick(310)},new a.tk(X).text="Puffle Launch",new a.rF(Y).callback=function(){return r.onRoomClick(808)},new a.tk(Y).text="Puffle Rescue",new a.rF(W).callback=function(){return r.onRoomClick(310)},new a.tk(W).text="Puffle Roundup\n",new a.rF(U).callback=function(){return r.onRoomClick(230)},new a.tk(U).text="Sled Racing",new a.rF(J).callback=function(){return r.onRoomClick(220)},new a.tk(J).text="Ice Fishing Game Upgrades",new a.rF(ee).callback=function(){return r.onRoomClick(410)},new a.tk(ee).text="Music Catalog",new a.rF(te).callback=function(){return r.onRoomClick(130)},new a.tk(te).text="Penguin Style",new a.rF(ie).callback=function(){return r.changeMode("places")},new a.rF(se).callback=function(){return r.changeMode("games")},new a.rF(le).callback=function(){return r.changeMode("shops")},new a.rF(fe).callback=function(){r.visible=!1},r.unselected=u,r.places=f,r.other=d,r.overlay=p,r.places_container=h,r.cove=y,r.dock=m,r.dojo=b,r.forest=v,r.berg=g,r.igloos=w,r.beach=k,r.shack=_,r.plaza=O,r.rink=S,r.mtn=x,r.village=j,r.forts=P,r.town=R,r.games_container=C,r.aqua=T,r.arcade=E,r.counters=B,r.jitsu=A,r.surfer=F,r.waves=I,r.dancecontest=z,r.soundstudio=M,r.hydro=D,r.fishing=L,r.jetpack=N,r.pizzatron=Z,r.cannon=X,r.rescue=Y,r.roundup=W,r.pufflescape=H,r.sled=U,r.smoothie=G,r.shops_container=q,r.catchinwavesupgrades=V,r.costumetrunk=$,r.hydrohopperupgrades=K,r.icefishingupgrades=J,r.martialartworks=Q,r.musiccatalog=ee,r.penguinstyle=te,r.petfurniture=ne,r.sledraceupgrades=re,r.snowandsports=oe,r.places_btn=ie,r.games_btn=se,r.shops_btn=le,r.close_btn=fe,r.iglooMap=de,r}return t=s,(n=[{key:"changeMode",value:function(e){"places"==e?"places"==this.mode?(this.places.visible=!1,this.unselected.visible=!0,this.mode="none"):(this.places_container.visible=!0,this.games_container.visible=!1,this.shops_container.visible=!1,this.places.visible=!0,this.other.visible=!1,this.unselected.visible=!1,this.mode="places"):"games"==e?"games"==this.mode?(this.other.visible=!1,this.unselected.visible=!0,this.games_container.visible=!1,this.places_container.visible=!0,this.mode="none"):(this.shops_container.visible=!1,this.places_container.visible=!1,this.games_container.visible=!0,this.places.visible=!1,this.other.visible=!0,this.unselected.visible=!1,this.mode="games"):"shops"==e&&("shops"==this.mode?(this.other.visible=!1,this.unselected.visible=!0,this.shops_container.visible=!1,this.places_container.visible=!0,this.mode="none"):(this.games_container.visible=!1,this.places_container.visible=!1,this.shops_container.visible=!0,this.places.visible=!1,this.other.visible=!0,this.unselected.visible=!1,this.mode="shops"))}},{key:"onRoomClick",value:function(e){var t=this.crumbs.scenes.rooms[e];this.world.room.key!=t.key&&(this.visible=!1,this.world.client.sendJoinRoom(e,t.key,t.x,t.y,80))}},{key:"select",value:function(e){e.scaleX=1.05,e.scaleY=1.05}},{key:"unselect",value:function(e){e.scaleX=1,e.scaleY=1}}])&&Ra(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.Z);function Fa(e){return Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fa(e)}function Ia(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||za(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function za(e,t){if(e){if("string"==typeof e)return Ma(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ma(e,t):void 0}}function Ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Da(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function La(e,t){return La=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},La(e,t)}function Na(e,t){if(t&&("object"===Fa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Za(e){return Za=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Za(e)}var Xa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&La(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Za(r);if(o){var n=Za(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Na(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e)).inventory=t,n.slots=t.slots,n.page,n.validSlots=["large-box","large-box-hover"],n.baseURL="/assets/media/clothing/icon/",n.keyPrefix="clothing/icon/",n.attachErrorListener(),n}return t=a,n=[{key:"loadPage",value:function(e){this.page=e;var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=za(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(this.slots.entries());try{for(n.s();!(t=n.n()).done;){var r=Ia(t.value,2),o=r[0],i=r[1];i.item&&i.item.destroy(),i.spinner&&i.spinner.destroy();var a=e[o];a?(i.setInteractive(),i.setFrame("large-box"),this.addSpinner(i),this.loadItem(a)):(i.disableInteractive(),i.setFrame("large-box-empty"))}}catch(e){n.e(e)}finally{n.f()}this.start()}},{key:"addSpinner",value:function(e){var t=this.scene.add.image(e.x,e.y,"main","spinner");this.inventory.container.add(t),this.scene.tweens.add({targets:t,angle:{from:0,to:180},duration:900,repeat:-1,ease:"Cubic"}),e.spinner=t}},{key:"loadItem",value:function(e){var t=this,n="".concat(this.keyPrefix).concat(e);this.checkComplete("image",n,(function(){t.onFileComplete(n,e)}))||this.image(n,"".concat(e,".png"))}},{key:"onFileComplete",value:function(e,t){this.addIcon(t,e)}},{key:"onLoadError",value:function(e){var t=this.getKeyId(e.key);this.addIcon(t,"main","x-icon")}},{key:"addIcon",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.inventory.visible&&this.textureExists(t)){var r=this.page.indexOf(e),o=this.slots[r];if(o&&this.validSlots.includes(o.frame.name)){o.spinner&&o.spinner.destroy();var i=this.scene.add.image(o.x,o.y,t,n);this.inventory.container.add(i),i.id=e,o.item=i}}}}],n&&Da(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(z.Z);function Ya(e){return Ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ya(e)}function Wa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ha(e,t){return Ha=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ha(e,t)}function Ua(e,t){if(t&&("object"===Ya(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ga(e)}function Ga(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qa(e){return qa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qa(e)}var Va=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ha(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=qa(r);if(o){var n=qa(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ua(this,e)});function s(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this,e,null!=t?t:760,null!=n?n:460)).container,r.inventory_bg,r.active_text,r.arrow,r.slots;var o=e.add.container(-56,-272);o.visible=!1,r.add(o);var c=e.add.image(56,270,"main","inventory/bg");o.add(c);var l=e.add.image(368,245,"main","inventory/scroll");o.add(l);var u=e.add.image(368,472,"main","grey-button");o.add(u);var f=e.add.image(368,470,"main","grey-arrow");f.flipY=!0,o.add(f);var d=e.add.image(368,2,"main","grey-button");o.add(d);var p=e.add.image(368,0,"main","grey-arrow");o.add(p);var h=e.add.image(264,439,"main","large-box");o.add(h);var y=e.add.image(132,439,"main","large-box");o.add(y);var m=e.add.image(0,439,"main","large-box");o.add(m);var b=e.add.image(264,307,"main","large-box");o.add(b);var v=e.add.image(132,307,"main","large-box");o.add(v);var g=e.add.image(0,307,"main","large-box");o.add(g);var w=e.add.image(264,175,"main","large-box");o.add(w);var k=e.add.image(132,175,"main","large-box");o.add(k);var _=e.add.image(0,175,"main","large-box");o.add(_);var O=e.add.image(264,43,"main","large-box");o.add(O);var S=e.add.image(132,43,"main","large-box");o.add(S);var x=e.add.image(0,43,"main","large-box");o.add(x);var j=e.add.image(131,553,"main","inventory/sort-button");o.add(j);var P=e.add.text(130,553,"",{});P.setOrigin(.5,.5),P.text="All Items",P.setStyle({align:"center",color:"#000000ff",fixedWidth:268,fontFamily:"Burbank Small",fontSize:"24px"}),o.add(P);var R=e.add.container(369,-156);r.add(R);var C=e.add.image(8,2,"main","tab");C.angle=-90,R.add(C);var T=e.add.image(0,0,"main","tab-arrow");T.angle=-90,R.add(T);var E=[x,S,O,_,k,w,g,v,b,m,y,h],B=new a.zx(u);B.spriteName="grey-button",B.callback=function(){r.nextPage()};var A=new a.zx(d);A.spriteName="grey-button",A.callback=function(){r.prevPage()};var F=new a.zx(h);F.spriteName="large-box",F.callback=function(){r.onSlotClick(11)},F.activeFrame=!1;var I=new a.zx(y);I.spriteName="large-box",I.callback=function(){r.onSlotClick(10)},I.activeFrame=!1;var z=new a.zx(m);z.spriteName="large-box",z.callback=function(){r.onSlotClick(9)},z.activeFrame=!1;var M=new a.zx(b);M.spriteName="large-box",M.callback=function(){r.onSlotClick(8)},M.activeFrame=!1;var D=new a.zx(v);D.spriteName="large-box",D.callback=function(){r.onSlotClick(7)},D.activeFrame=!1;var L=new a.zx(g);L.spriteName="large-box",L.callback=function(){r.onSlotClick(6)},L.activeFrame=!1;var N=new a.zx(w);N.spriteName="large-box",N.callback=function(){r.onSlotClick(5)},N.activeFrame=!1;var Z=new a.zx(k);Z.spriteName="large-box",Z.callback=function(){r.onSlotClick(4)},Z.activeFrame=!1;var X=new a.zx(_);X.spriteName="large-box",X.callback=function(){r.onSlotClick(3)},X.activeFrame=!1;var Y=new a.zx(O);Y.spriteName="large-box",Y.callback=function(){r.onSlotClick(2)},Y.activeFrame=!1;var W=new a.zx(S);W.spriteName="large-box",W.callback=function(){r.onSlotClick(1)},W.activeFrame=!1;var H=new a.zx(x);H.spriteName="large-box",H.callback=function(){r.onSlotClick(0)},H.activeFrame=!1;var U=new a.zx(j);return U.spriteName="inventory/sort-button",U.callback=function(){return r.parentContainer.inventorySort.showMenu()},U.activeFrame=!1,new a.rF(C).callback=function(){r.onTabClick()},r.container=o,r.inventory_bg=c,r.active_text=P,r.arrow=T,r.slots=E,r.page=1,r.pageSize=12,r.filter=null,r.inventoryLoader=new Xa(e,Ga(r)),r.inventory_bg.setInteractive({pixelPerfect:!0}),r}return t=s,(n=[{key:"inventory",get:function(){var e=this.world.client.inventory;return this.filter&&(e="other"==this.filter?e.flag.concat(e.photo,e.award):e[this.filter]),Object.values(e).flat()}},{key:"maxPage",get:function(){return Math.ceil(this.inventory.length/this.pageSize)}},{key:"showPage",value:function(){if(this.visible){var e=this.inventory.slice((this.page-1)*this.pageSize,this.page*this.pageSize);this.inventoryLoader.loadPage(e)}}},{key:"prevPage",value:function(){var e=this.page-1;e<1||(this.page=e,this.showPage())}},{key:"nextPage",value:function(){var e=this.page+1;e>this.maxPage||(this.page=e,this.showPage())}},{key:"onTabClick",value:function(){this.container.visible?(this.parentContainer.bringToTop(this),this.parentContainer.inventorySort.closeMenu(),this.x-=495):(this.parentContainer.sendToBack(this),this.x+=495),this.container.visible=!this.container.visible,this.arrow.toggleFlipY()}},{key:"onSlotClick",value:function(e){var t=this.slots[e].item;t&&t.id&&t.active&&this.network.send("update_player",{item:t.id})}}])&&Wa(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.Z);function $a(e){return $a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$a(e)}function Ka(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ja(e,t){return Ja=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ja(e,t)}function Qa(e,t){if(t&&("object"===$a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function es(e){return es=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},es(e)}var ts=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ja(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=es(r);if(o){var n=es(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Qa(this,e)});function s(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this,e,null!=t?t:760,null!=n?n:480)).safe,r.close,r.other_container;var o=e.add.rectangle(0,0,320,80);o.isFilled=!0,o.fillColor=65535,o.fillAlpha=.5,r.add(o);var c=e.add.rectangle(0,0,295,48);c.isFilled=!0,c.fillColor=65535,c.fillAlpha=.5,r.add(c);var l=e.add.image(0,-70,"main","list/small");r.add(l);var u=e.add.text(0,-70,"",{});u.setOrigin(.5,.5),u.text="All Items",u.setStyle({align:"center",color:"#000000ff",fixedWidth:268,fontFamily:"Burbank Small",fontSize:"24px"}),r.add(u);var f=e.add.image(0,-134,"main","list/small_arrow");r.add(f);var d=e.add.text(0,-134,"",{});d.setOrigin(.5,.5),d.text="Other Items",d.setStyle({align:"center",color:"#000000ff",fixedWidth:268,fontFamily:"Burbank Small",fontSize:"24px"}),r.add(d);var p=e.add.image(0,-198,"main","list/small");r.add(p);var h=e.add.text(0,-198,"",{});h.setOrigin(.5,.5),h.text="Colors",h.setStyle({align:"center",color:"#000000ff",fixedWidth:268,fontFamily:"Burbank Small",fontSize:"24px"}),r.add(h);var y=e.add.image(0,-262,"main","list/small");r.add(y);var m=e.add.text(0,-262,"",{});m.setOrigin(.5,.5),m.text="Feet Items",m.setStyle({align:"center",color:"#000000ff",fixedWidth:268,fontFamily:"Burbank Small",fontSize:"24px"}),r.add(m);var b=e.add.image(0,-326,"main","list/small");r.add(b);var v=e.add.text(0,-326,"",{});v.setOrigin(.5,.5),v.text="Hand Items",v.setStyle({align:"center",color:"#000000ff",fixedWidth:268,fontFamily:"Burbank Small",fontSize:"24px"}),r.add(v);var g=e.add.image(0,-390,"main","list/small");r.add(g);var w=e.add.text(0,-390,"",{});w.setOrigin(.5,.5),w.text="Body Items",w.setStyle({align:"center",color:"#000000ff",fixedWidth:268,fontFamily:"Burbank Small",fontSize:"24px"}),r.add(w);var k=e.add.image(0,-454,"main","list/small");r.add(k);var _=e.add.text(0,-454,"",{});_.setOrigin(.5,.5),_.text="Neck Items",_.setStyle({align:"center",color:"#000000ff",fixedWidth:268,fontFamily:"Burbank Small",fontSize:"24px"}),r.add(_);var O=e.add.image(0,-518,"main","list/small");r.add(O);var S=e.add.text(0,-518,"",{});S.setOrigin(.5,.5),S.text="Face Items",S.setStyle({align:"center",color:"#000000ff",fixedWidth:268,fontFamily:"Burbank Small",fontSize:"24px"}),r.add(S);var x=e.add.image(0,-582,"main","list/small");r.add(x);var j=e.add.text(0,-582,"",{});j.setOrigin(.5,.5),j.text="Head Items",j.setStyle({align:"center",color:"#000000ff",fixedWidth:268,fontFamily:"Burbank Small",fontSize:"24px"}),r.add(j);var P=e.add.container(264,-198);P.visible=!1,r.add(P);var R=e.add.image(0,0,"main","list/small");P.add(R);var C=e.add.image(0,64,"main","list/small");P.add(C);var T=e.add.image(0,128,"main","list/small");P.add(T);var E=e.add.text(0,0,"",{});E.setOrigin(.5,.5),E.text="Pins/Flags",E.setStyle({align:"center",color:"#000000ff",fixedWidth:268,fontFamily:"Burbank Small",fontSize:"24px"}),P.add(E);var B=e.add.text(0,64,"",{});B.setOrigin(.5,.5),B.text="Awards",B.setStyle({align:"center",color:"#000000ff",fixedWidth:268,fontFamily:"Burbank Small",fontSize:"24px"}),P.add(B);var A=e.add.text(0,128,"",{});A.setOrigin(.5,.5),A.text="Backgrounds",A.setStyle({align:"center",color:"#000000ff",fixedWidth:268,fontFamily:"Burbank Small",fontSize:"24px"}),P.add(A);var F=new a.zx(l);F.spriteName="list/small",F.hoverCallback=function(){return P.visible=!1},F.callback=function(){return r.filterInventory("All Items",null)},F.activeFrame=!1;var I=new a.zx(f);I.spriteName="list/small_arrow",I.hoverCallback=function(){return P.visible=!0},I.callback=function(){return r.filterInventory("Other Items","other")},I.activeFrame=!1;var z=new a.zx(p);z.spriteName="list/small",z.hoverCallback=function(){return P.visible=!1},z.callback=function(){return r.filterInventory("Colors","color")},z.activeFrame=!1;var M=new a.zx(y);M.spriteName="list/small",M.hoverCallback=function(){return P.visible=!1},M.callback=function(){return r.filterInventory("Feet Items","feet")},M.activeFrame=!1;var D=new a.zx(b);D.spriteName="list/small",D.hoverCallback=function(){return P.visible=!1},D.callback=function(){return r.filterInventory("Hand Items","hand")},D.activeFrame=!1;var L=new a.zx(g);L.spriteName="list/small",L.hoverCallback=function(){return P.visible=!1},L.callback=function(){return r.filterInventory("Body Items","body")},L.activeFrame=!1;var N=new a.zx(k);N.spriteName="list/small",N.hoverCallback=function(){return P.visible=!1},N.callback=function(){return r.filterInventory("Neck Items","neck")},N.activeFrame=!1;var Z=new a.zx(O);Z.spriteName="list/small",Z.hoverCallback=function(){return P.visible=!1},Z.callback=function(){return r.filterInventory("Face Items","face")},Z.activeFrame=!1;var X=new a.zx(x);X.spriteName="list/small",X.hoverCallback=function(){return P.visible=!1},X.callback=function(){return r.filterInventory("Head Items","head")},X.activeFrame=!1;var Y=new a.zx(R);Y.spriteName="list/small",Y.callback=function(){return r.filterInventory("Pins/Flags","flag")},Y.activeFrame=!1;var W=new a.zx(C);W.spriteName="list/small",W.callback=function(){return r.filterInventory("Awards","award")},W.activeFrame=!1;var H=new a.zx(T);return H.spriteName="list/small",H.callback=function(){return r.filterInventory("Backgrounds","photo")},H.activeFrame=!1,r.safe=o,r.close=c,r.other_container=P,r.initMenu(),r}return t=s,(n=[{key:"inventory",get:function(){return this.parentContainer.inventory}},{key:"filterInventory",value:function(e,t){this.inventory.active_text.text=e,this.inventory.filter=t,this.inventory.page=1,this.inventory.showPage(),this.closeMenu()}},{key:"showMenu",value:function(){var e=this.getWorldTransformMatrix();this.back.x=-e.getX(0,0),this.back.y=-e.getY(0,0),this.visible=!0}},{key:"closeMenu",value:function(){this.other_container.visible=!1,this.visible=!1}}])&&Ka(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}($o);function ns(e){return ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ns(e)}function rs(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return os(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?os(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function os(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function is(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function as(e,t){return as=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},as(e,t)}function ss(e,t){if(t&&("object"===ns(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function cs(e){return cs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},cs(e)}var ls=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&as(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=cs(r);if(o){var n=cs(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ss(this,e)});function s(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this,e,null!=t?t:790.6731008322703,null!=n?n:480)).report_button,r.ignore_button,r.stamps_button,r.igloo_button,r.mail_button,r.profile_button,r.buddy_button,r.report_icon,r.ignore_icon,r.stamps_icon,r.igloo_icon,r.mail_icon,r.profile_icon,r.buddy_icon;var o=e.add.image(179.32691352599045,0,"main","blue-button-disabled");r.add(o);var c=e.add.image(119.32691352599045,0,"main","blue-button-disabled");r.add(c);var l=e.add.image(-.6730864740095512,0,"main","blue-button-disabled");r.add(l);var u=e.add.image(-60.67308647400955,0,"main","blue-button-disabled");r.add(u);var f=e.add.image(59.32691192626953,.6971156016820146,"main","blue-button-disabled");f.setOrigin(.5,.5124484928871789),r.add(f);var d=e.add.image(-120.67308647400955,0,"main","blue-button-disabled");r.add(d);var p=e.add.image(-180.67308647400955,0,"main","blue-button-disabled");r.add(p);var h=e.add.image(179.32691352599045,-1,"main","mod-icon-disabled");r.add(h);var y=e.add.image(119.32691352599045,-2,"main","ignore-icon-disabled");r.add(y);var m=e.add.image(-.6730864740095512,-2,"main","stamps-icon-disabled");r.add(m);var b=e.add.image(-60.67308647400955,-2,"main","igloo-icon-disabled");r.add(b);var v=e.add.image(59.32691352599045,0,"main","mail-icon-disabled");r.add(v);var g=e.add.image(-120.67308647400955,-2,"main","help-icon-disabled");r.add(g);var w=e.add.image(-180.67308647400955,-2,"main","buddies-icon-disabled");r.add(w);var k=new a.zx(o);k.spriteName="blue-button",k.callback=function(){return r.onReportClick()},new a.tk(o).text="Report Player";var _=new a.zx(c);_.spriteName="blue-button",_.callback=function(){return r.onIgnoreClick()},new a.tk(c).text="Ignore Player";var O=new a.zx(l);O.spriteName="blue-button",O.callback=function(){return r.onStampClick()},new a.tk(l).text="View Stampbook";var S=new a.zx(u);S.spriteName="blue-button",S.callback=function(){return r.onIglooClick()},new a.tk(u).text="Visit Igloo";var x=new a.zx(f);x.spriteName="blue-button",x.callback=function(){return r.onMailClick()},new a.tk(f).text="Send Postcard";var j=new a.zx(d);j.spriteName="blue-button",j.callback=function(){return r.onFindClick()},new a.tk(d).text="Find Player";var P=new a.zx(p);return P.spriteName="blue-button",P.callback=function(){return r.onBuddyClick()},new a.tk(p).text="Add Buddy",r.report_button=o,r.ignore_button=c,r.stamps_button=l,r.igloo_button=u,r.mail_button=f,r.profile_button=d,r.buddy_button=p,r.report_icon=h,r.ignore_icon=y,r.stamps_icon=m,r.igloo_icon=b,r.mail_icon=v,r.profile_icon=g,r.buddy_icon=w,r.buttonNames=["buddy","profile","igloo","stamps","ignore","report","mail"],r.buttons=r.initButtons(),r}return t=s,n=[{key:"username",get:function(){return this.parentContainer.username.text}},{key:"initButtons",value:function(){var e,t={},n=rs(this.buttonNames);try{for(n.s();!(e=n.n()).done;){var r=e.value,o=this["".concat(r,"_button")],i=this["".concat(r,"_icon")],a=i.frame.name.replace("-disabled",""),s=o.__ShowHint.text.slice();t[r]={button:o,icon:i,buttonTexture:"blue-button",iconTexture:a,hint:s}}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"updateButtons",value:function(e){switch(this.resetButtons(),e){case"online":this.enableButton("buddy","buddies-remove-icon","Remove Buddy"),this.enableButtons(["profile","igloo","stamps","report","mail"]);break;case"offline":this.enableButton("buddy","buddies-remove-icon","Remove Buddy"),this.enableButtons(["igloo","stamps","report","mail"]);break;case"ignore":this.enableButton("ignore","ignore-remove-icon","Unignore Buddy"),this.enableButton("report");break;case"mascot":this.enableButton("buddy","gift-icon","Claim Giveaway");break;default:this.enableButtons(["buddy","stamps","ignore","report","mail"])}this.world.client.isModerator&&(this.enableButton("report","mute-icon","Warn Player"),this.enableButton("ignore","ignore-icon","Kick Player"),this.enableButton("profile","help-icon","Find Player")),["online","offline"].includes(e)||this.network.send("get_igloo_open",{igloo:this.parentContainer.id})}},{key:"resetButtons",value:function(){var e,t=rs(this.buttonNames);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.disableButton(n)}}catch(e){t.e(e)}finally{t.f()}}},{key:"enableButtons",value:function(e){var t,n=rs(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.enableButton(r)}}catch(e){n.e(e)}finally{n.f()}}},{key:"enableButton",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.buttons[e].iconTexture,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.buttons[e].hint,r=this.buttons[e];r.button.setInteractive(),r.button.setTexture("main",r.buttonTexture),r.icon.setTexture("main",t),r.button.__ShowHint.text=n}},{key:"disableButton",value:function(e){var t=this.buttons[e];t.button.disableInteractive(),t.button.setTexture("main","".concat(t.buttonTexture,"-disabled")),t.icon.setTexture("main","".concat(t.iconTexture,"-disabled"))}},{key:"onBuddyClick",value:function(){if("gift-icon"==this.buddy_icon.frame.name)for(var e in this.world.mascots)this.world.mascots[e].id===this.parentContainer.id&&this.interface.prompt.showItem(this.world.mascots[e].giveaway);else"buddies-remove-icon"==this.buddy_icon.frame.name?this.showRemoveBuddy():this.showRequestBuddy()}},{key:"onFindClick",value:function(){this.network.send("buddy_find",{id:this.parentContainer.id})}},{key:"onIglooClick",value:function(){this.world.client.sendJoinIgloo(this.parentContainer.id)}},{key:"onIgnoreClick",value:function(){this.world.client.isModerator?this.showKick():"ignore-remove-icon"==this.ignore_icon.frame.name?this.showRemoveIgnore():this.showAddIgnore()}},{key:"onStampClick",value:function(){this.interface.loadExternal("Stampbook"),this.interface.stampbookId=this.parentContainer.id}},{key:"onMailClick",value:function(){this.world.RuffleManager.handleLoadOtherSwf("mail.swf",{username:this.parentContainer.username.text})}},{key:"onReportClick",value:function(){this.world.client.isModerator?this.showWarn():(this.interface.main.snitch.visible=!0,this.interface.main.snitch.returnToStep1(this.parentContainer.id))}},{key:"showRequestBuddy",value:function(){var e=this,t="Would you like to add ".concat(this.username,"\nto your buddy list?");this.interface.prompt.showWindow(t,"dual",(function(){e.network.send("buddy_request",{id:e.parentContainer.id}),e.interface.prompt.showWindow("Request Sent","single")}))}},{key:"showRemoveBuddy",value:function(){var e=this,t="Would you like to remove ".concat(this.username,"\nfrom your buddy list?");this.interface.prompt.showWindow(t,"dual",(function(){e.network.send("buddy_remove",{id:e.parentContainer.id}),e.interface.prompt.window.visible=!1}))}},{key:"showAddIgnore",value:function(){var e=this,t="Would you like to add ".concat(this.username,"\nto your ignore list?");this.interface.prompt.showWindow(t,"dual",(function(){e.network.send("ignore_add",{id:e.parentContainer.id,username:e.username}),e.interface.prompt.showWindow("Done","single")}))}},{key:"showRemoveIgnore",value:function(){var e=this,t="Would you like to remove ".concat(this.username,"\nfrom your ignore list?");this.interface.prompt.showWindow(t,"dual",(function(){e.network.send("ignore_remove",{id:e.parentContainer.id}),e.interface.prompt.showWindow("Done","single")}))}},{key:"showMute",value:function(){var e=this,t="Mute Player: ".concat(this.username);this.interface.prompt.showWindow(t,"dual",(function(){e.network.send("mute_player",{id:e.parentContainer.id}),e.interface.prompt.window.visible=!1}))}},{key:"showWarn",value:function(){var e=this,t="Warn Player: ".concat(this.username);this.interface.prompt.showWindow(t,"dual",(function(){e.network.send("warn_player",{id:e.parentContainer.id}),e.interface.prompt.window.visible=!1}))}},{key:"showKick",value:function(){var e=this,t="Kick Player: ".concat(this.username);this.interface.prompt.showWindow(t,"dual",(function(){e.network.send("kick_player",{id:e.parentContainer.id}),e.interface.prompt.window.visible=!1}))}},{key:"showBan",value:function(){var e=this,t="Ban Player: ".concat(this.username);this.interface.prompt.showWindow(t,"dual",(function(){e.network.send("ban_player",{id:e.parentContainer.id}),e.interface.prompt.window.visible=!1}))}}],n&&is(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.Z);function us(e){return us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},us(e)}function fs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ds(e,t){return ds=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ds(e,t)}function ps(e,t){if(t&&("object"===us(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hs(e)}function hs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ys(e){return ys=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ys(e)}var ms=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ds(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ys(r);if(o){var n=ys(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ps(this,e)});function s(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this,e,null!=t?t:760,null!=n?n:460)).photo,r.paperDoll,r.buttons,r.stats,r.coins,r.stamps,r.username,r.inventorySort,r.inventory,r.edit_player_button;var o=e.add.container(0,-2);r.add(o);var c=e.add.image(0,0,"main","card-photo");o.add(c);var l=e.add.image(0,0,"newinterface","profile");r.add(l);var u=e.add.image(0,0,"main","card-bg-player");u.visible=!1,r.add(u);var f=new ir(e,0,-7);r.add(f);var d=new ls(e,0,255);d.visible=!1,r.add(d);var p=e.add.container(-13,255);r.add(p);var h=e.add.image(-155,28,"main","blue-button");h.scaleX=.8,h.scaleY=.8,h.visible=!1,p.add(h);var y=e.add.image(-156,-15,"main","card-coin");y.scaleX=.8,y.scaleY=.8,p.add(y);var m=e.add.text(22,-14,"",{});m.setOrigin(.5,.5),m.tintFill=!0,m.text="Your Coins: 000000",m.setStyle({color:"#000000ff",fixedWidth:300,fontFamily:"Burbank Small",fontSize:"20px",fontStyle:"bold"}),p.add(m);var b=e.add.text(22,28,"",{});b.setOrigin(.5,.5),b.visible=!1,b.tintFill=!0,b.text="Your Stamps: 69/420",b.setStyle({color:"#000000ff",fixedWidth:300,fontFamily:"Burbank Small",fontSize:"20px",fontStyle:"bold"}),p.add(b);var v=e.add.image(-155,27,"main","stamps-icon");v.scaleX=.8,v.scaleY=.8,v.visible=!1,p.add(v);var g=e.add.text(1,-229,"",{});g.setOrigin(.5,.5),g.tintFill=!0,g.text="Username",g.setStyle({align:"center",color:"#000000ff",fixedWidth:360,fontFamily:"Burbank Small",fontSize:"32px",fontStyle:"bold"}),r.add(g);var w=e.add.image(178,-233,"main","blue-button");r.add(w);var k=e.add.image(178,-235,"main","blue-x");r.add(k);var _=new ts(e,434,315);_.visible=!1,r.add(_);var O=new Va(e,-118,44);O.scaleX=.95,O.scaleY=.95,r.add(O);var S=e.add.image(165,-172,"main","edit_player_button");S.visible=!1,r.add(S);var x=e.add.image(-149,-229,"newinterface","badge0001");r.add(x);var j=e.add.image(0,211,"newinterface","bar");r.add(j),new a.K$(hs(r)).handle=u,new a.vj(c);var P=new a.zx(h);P.spriteName="blue-button",P.callback=function(){r.interface.loadExternal("Stampbook"),r.interface.stampbookId=r.id};var R=new a.zx(w);R.spriteName="blue-button",R.callback=function(){r.visible=!1};var C=new a.zx(S);return C.spriteName="edit_player_button",C.callback=function(){return r.editPlayer()},r.photo=o,r.paperDoll=f,r.buttons=d,r.stats=p,r.coins=m,r.stamps=b,r.username=g,r.inventorySort=_,r.inventory=O,r.edit_player_button=S,r.id=null,r}return t=s,n=[{key:"showCard",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e!=this.id||!this.visible||t)if(e in this.world.room.penguins){var n=this.world.room.penguins[e];this._showCard(n,n.items.flat)}else this.network.send("get_player",{id:e});else this.interface.main.showWidget(this)}},{key:"_showCard",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;for(var n in this.paperDoll.puffle&&this.paperDoll.puffle.destroy(),1==e.username_approved?this.username.text=e.username:this.username.text="P"+e.id,this.world.mascots)this.world.mascots[n].id==e.id&&(this.username.text=this.world.mascots[n].name);e.puffle&&0!==e.puffle&&!t.puffle?t.puffle=e.puffle:t.puffle=0,e.id&&!t.id&&(t.id=e.id),this.paperDoll.loadDoll(t,e.isClient),e.isClient?(this.coins.text="Your Coins: ".concat(this.world.client.coins),this.stats.visible=!0,this.buttons.visible=!1,this.inventory.visible=!0,this.inventory.showPage(),this.stamps.text="Your Stamps: Coming Soon"):(this.stats.visible=!1,this.buttons.visible=!0,this.inventory.visible=!1),this.world.client.rank>3&&(this.edit_player_button.visible=!0),this.inventorySort.closeMenu(),this.id=e.id,this.updateButtons(),this.interface.main.showWidget(this)}},{key:"updateButtons",value:function(){if(this.buttons.visible){var e=this.world.getRelationship(this.id);this.buttons.updateButtons(e)}}},{key:"editPlayer",value:function(){this.network.send("edit_player",{id:this.id}),this.visible=!1}}],n&&fs(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.Z);function bs(e){return bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bs(e)}function vs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gs(e,t){return gs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},gs(e,t)}function ws(e,t){if(t&&("object"===bs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ks(e)}function ks(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _s(e){return _s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_s(e)}function Os(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ss=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gs(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_s(r);if(o){var n=_s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ws(this,e)});function s(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),Os(ks(r=i.call(this,e,null!=t?t:540,null!=n?n:579.1919207281734)),"puffle_care_bg",void 0),Os(ks(r),"care_btn",void 0),Os(ks(r),"walk_btn",void 0),Os(ks(r),"swap_btn",void 0),Os(ks(r),"rest",void 0),Os(ks(r),"rest_bg",void 0),Os(ks(r),"rest_bar",void 0),Os(ks(r),"rest_icon",void 0),Os(ks(r),"clean",void 0),Os(ks(r),"clean_bg",void 0),Os(ks(r),"clean_bar",void 0),Os(ks(r),"clean_icon",void 0),Os(ks(r),"play",void 0),Os(ks(r),"play_bg",void 0),Os(ks(r),"play_bar",void 0),Os(ks(r),"play_icon",void 0),Os(ks(r),"food",void 0),Os(ks(r),"food_bg",void 0),Os(ks(r),"food_bar",void 0),Os(ks(r),"food_icon",void 0),Os(ks(r),"name_txt",void 0);var o=e.add.image(0,-225.19195060965637,"main","puffle_care/bg");r.add(o);var c=e.add.sprite(0,-71.19195060965637,"main","puffle_care/care_btn");r.add(c);var l=e.add.sprite(-75,-15.191950609656374,"main","puffle_care/walk_btn");r.add(l);var u=e.add.sprite(75,-15.191950609656374,"main","puffle_care/swap_btn");r.add(u);var f=e.add.container(0,-145.19195060965637);r.add(f);var d=e.add.image(0,0,"main","puffle_care/bar_back");f.add(d);var p=e.add.image(13,0,"main","puffle_care/bar");f.add(p);var h=e.add.image(-45,0,"main","puffle_care/rest_icon");f.add(h);var y=e.add.container(0,-190.19195060965637);r.add(y);var m=e.add.image(0,0,"main","puffle_care/bar_back");y.add(m);var b=e.add.image(13,0,"main","puffle_care/bar");y.add(b);var v=e.add.image(-45,0,"main","puffle_care/clean_icon");y.add(v);var g=e.add.container(0,-235.19195060965637);r.add(g);var w=e.add.image(0,0,"main","puffle_care/bar_back");g.add(w);var k=e.add.image(13,0,"main","puffle_care/bar");g.add(k);var _=e.add.image(-45,0,"main","puffle_care/play_icon");g.add(_);var O=e.add.container(0,-280.1919506096564);r.add(O);var S=e.add.image(0,0,"main","puffle_care/bar_back");O.add(S);var x=e.add.image(13,0,"main","puffle_care/bar");O.add(x);var j=e.add.image(-45,0,"main","puffle_care/food_icon");O.add(j);var P=e.add.text(0,-320.1919506096564,"",{});P.setOrigin(.5,.5),P.text="Puffle Name",P.setStyle({color:"#000000ff",fontFamily:"Burbank Small",fontSize:"18px",fontStyle:"bold"}),r.add(P);var R=new a.zx(c);R.spriteName="puffle_care/care_btn",R.callback=function(){return r.onCare()};var C=new a.zx(l);C.spriteName="puffle_care/walk_btn",C.callback=function(){return r.onWalk()};var T=new a.zx(u);return T.spriteName="puffle_care/swap_btn",T.callback=function(){return r.onSwap()},r.puffle_care_bg=o,r.care_btn=c,r.walk_btn=l,r.swap_btn=u,r.rest=f,r.rest_bg=d,r.rest_bar=p,r.rest_icon=h,r.clean=y,r.clean_bg=m,r.clean_bar=b,r.clean_icon=v,r.play=g,r.play_bg=w,r.play_bar=k,r.play_icon=_,r.food=O,r.food_bg=S,r.food_bar=x,r.food_icon=j,r.name_txt=P,r}return t=s,n=[{key:"showPuffle",value:function(e){this.visible=!0;var t=13+Math.floor(-.67*(100-e.rest));t<-30?(this.rest_bar.setFrame("puffle_care/bar_shorter"),t+=27):t<-17?(this.rest_bar.setFrame("puffle_care/bar_short"),t+=14):this.rest_bar.setFrame("puffle_care/bar"),this.rest_bar.x=t;var n=13+Math.floor(-.67*(100-e.clean));n<-30?(this.clean_bar.setFrame("puffle_care/bar_shorter"),n+=27):n<-17?(this.clean_bar.setFrame("puffle_care/bar_short"),n+=14):this.clean_bar.setFrame("puffle_care/bar"),this.clean_bar.x=n;var r=13+Math.floor(-.67*(100-e.play));r<-30?(this.play_bar.setFrame("puffle_care/bar_shorter"),r+=27):r<-17?(this.play_bar.setFrame("puffle_care/bar_short"),r+=14):this.play_bar.setFrame("puffle_care/bar"),this.play_bar.x=r;var o=13+Math.floor(-.67*(100-e.food));o<-30?(this.food_bar.setFrame("puffle_care/bar_shorter"),o+=27):o<-17?(this.food_bar.setFrame("puffle_care/bar_short"),o+=14):this.food_bar.setFrame("puffle_care/bar"),this.food_bar.x=o,this.name_txt.text=e.name,0===this.world.client.penguin.puffle?(this.swap_btn.visible=!1,this.walk_btn.visible=!0):(this.swap_btn.visible=!0,this.walk_btn.visible=!1),this.args=e}},{key:"onWalk",value:function(){this.world.network.send("walk_puffle",{puffle:this.args.puffleId}),this.visible=!1}},{key:"onCare",value:function(){this.onRoomClick(430),this.visible=!1}},{key:"onRoomClick",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.crumbs.scenes.rooms[e];this.world.room.key!=r.key&&(0==t&&(t=r.x),0==n&&(n=r.y),this.world.network.send("walk_puffle",{puffle:this.args.puffleId}),this.world.client.sendJoinRoom(e,r.key,t,n))}},{key:"onSwap",value:function(){this.visible=!1,this.world.network.send("walk_puffle",{puffle:this.args.puffleId})}}],n&&vs(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.Z);function xs(e){return xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xs(e)}function js(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ps(e,t){return Ps=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ps(e,t)}function Rs(e,t){if(t&&("object"===xs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Cs(e){return Cs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Cs(e)}var Ts=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ps(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Cs(r);if(o){var n=Cs(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Rs(this,e)});function s(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this,e,null!=t?t:760,null!=n?n:480)).checkbox,r.stealth;var o=e.add.rectangle(0,0,1520,960);o.isFilled=!0,o.fillColor=0,o.fillAlpha=.2,r.add(o);var c=e.add.rectangle(0,-22,708,600);c.isFilled=!0,c.fillColor=164045,r.add(c);var l=e.add.text(69,173,"",{});l.setOrigin(.5,.5),l.text="88/100 Buddies",l.setStyle({color:"#000000ff",fixedWidth:300,fontFamily:"Burbank Small",fontSize:"32px"}),r.add(l);var u=e.add.image(-132,171,"main","buddy/icon-online");r.add(u);var f=e.add.image(0,67,"main","help-button");r.add(f);var d=e.add.text(0,66,"",{});d.setOrigin(.5,.5),d.text="Manage Account",d.setStyle({align:"center",color:"#ffffffff",fixedWidth:562,fontFamily:"Burbank Small",fontSize:"40px",fontStyle:"bold"}),r.add(d);var p=e.add.text(131,-37,"",{});p.setOrigin(.5,.5),p.text="Mute Music",p.setStyle({color:"#000000ff",fixedWidth:348,fontFamily:"Burbank Small",fontSize:"32px"}),r.add(p);var h=e.add.text(0,-108,"",{});h.setOrigin(.5,.5),h.text="Your penguin is 0 days old",h.setStyle({align:"center",color:"#000000ff",fixedWidth:600,fontFamily:"Burbank Small",fontSize:"32px"}),r.add(h);var y=e.add.text(0,-156,"",{});y.setOrigin(.5,.5),y.text="You're on Server Name",y.setStyle({align:"center",color:"#000000ff",fixedWidth:600,fontFamily:"Burbank Small",fontSize:"30px"}),r.add(y);var m=e.add.text(0,-238,"",{});m.setOrigin(.5,.5),m.text="SETTINGS",m.setStyle({align:"center",fixedWidth:600,fontFamily:"Burbank Small",fontSize:"40px",fontStyle:"bold italic",stroke:"#003366",strokeThickness:10}),r.add(m);var b=e.add.image(-76,-39,"login","checkbox");b.setOrigin(.41509,.5849),r.add(b);var v=e.add.image(300,-268,"main","blue-button");r.add(v);var g=e.add.image(300,-270,"main","blue-x");r.add(g);var w=e.add.container(-312,-291);w.visible=!1,r.add(w);var k=e.add.image(13,23,"main","blue-button");w.add(k);var _=e.add.text(0,0,"",{});_.text="S",_.setStyle({fontFamily:"Burbank Small",fontSize:"30px",stroke:"#003366",strokeThickness:7,"shadow.fill":!0}),w.add(_);var O=e.add.text(46,-8,"",{});O.text="Toggle\nStealth Mode",O.setStyle({align:"center",fontFamily:"Burbank Small",fontSize:"25px",stroke:"#ffffffff","shadow.fill":!0}),w.add(O),new a.vj(o),new a.X7(c).corner=50;var S=new a.zx(f);S.spriteName="help-button",S.callback=function(){window.open("https://cpforever.org/manage","_blank").focus()},new a.rF(b).callback=function(){return r.onMuteClick()};var x=new a.zx(v);x.spriteName="blue-button",x.callback=function(){r.visible=!1};var j=new a.zx(k);j.spriteName="blue-button",j.callback=function(){return r.toggleStealth()},r.checkbox=b,r.stealth=w,r.checkbox.checked=r.world.muteMusic,r.checkbox.checked&&r.checkbox.setTexture("login","checkbox-active"),r.world.client.rank>3&&(r.stealth.visible=!0);var P=Date.now()-Date.parse(r.world.client.joinTime),R=Math.round(P/864e5);return y.text="You're on ".concat(r.network.worldName),h.text="Your penguin is ".concat(R," days old"),l.text="".concat(r.world.client.buddies.length,"/100 Buddies"),r}return t=s,(n=[{key:"onMuteClick",value:function(){this.toggle(this.checkbox),this.world.muteMusic="true"==localStorage.muteMusic,this.world.room.music&&(this.world.muteMusic?this.world.MusicController.addMusic(0):this.world.room.addMusic())}},{key:"toggle",value:function(e){var t="true"==localStorage.muteMusic?"checkbox":"checkbox-active";localStorage.muteMusic="true"==localStorage.muteMusic?"false":"true",e.setTexture("login",t)}},{key:"onManagePress",value:function(){this.interface.main.manage.show(),this.visible=!1}},{key:"toggleStealth",value:function(){this.network.send("stealth_mode",{stealthMode:this.world.room.penguins[this.world.client.id].stealthMode})}}])&&js(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.Z);function Es(e){return Es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Es(e)}function Bs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function As(e,t){return As=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},As(e,t)}function Fs(e,t){if(t&&("object"===Es(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Is(e){return Is=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Is(e)}var zs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&As(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Is(r);if(o){var n=Is(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Fs(this,e)});function s(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),r=i.call(this,e,null!=t?t:760,null!=n?n:480);var o=e.add.rectangle(0,0,1520,960);o.isFilled=!0,o.fillColor=0,o.fillAlpha=.2,r.add(o);var c=e.add.rectangle(0,-22,708,600);c.isFilled=!0,c.fillColor=164045,r.add(c);var l=e.add.image(0,153,"main","help-button");r.add(l);var u=e.add.text(0,153,"",{});u.setOrigin(.5,.5),u.text="Delete Account",u.setStyle({align:"center",color:"#ffffffff",fixedWidth:562,fontFamily:"Burbank Small",fontSize:"40px",fontStyle:"bold"}),r.add(u);var f=e.add.image(-160,48,"main","help-button");f.scaleX=.5,f.scaleY=.5,r.add(f);var d=e.add.text(-160,48,"",{});d.setOrigin(.5,.5),d.text="Change Username",d.setStyle({align:"center",color:"#ffffffff",fixedWidth:250,fontFamily:"Burbank Small",fontSize:"20px",fontStyle:"bold"}),r.add(d);var p=e.add.image(160,48,"main","help-button");p.scaleX=.5,p.scaleY=.5,r.add(p);var h=e.add.text(160,48,"",{});h.setOrigin(.5,.5),h.text="Change Password",h.setStyle({align:"center",color:"#ffffffff",fixedWidth:250,fontFamily:"Burbank Small",fontSize:"20px",fontStyle:"bold"}),r.add(h);var y=e.add.ellipse(285,-21,37.5,37.5);y.isFilled=!0,y.fillColor=1136020,r.add(y);var m=e.add.ellipse(35,-21,37.5,37.5);m.isFilled=!0,m.fillColor=1136020,r.add(m);var b=e.add.rectangle(161,-21,250,37.5);b.isFilled=!0,b.fillColor=1136020,r.add(b);var v=e.add.text(165,-64,"",{});v.setOrigin(.5,.5),v.text="Confirm new password",v.setStyle({align:"center",color:"#000000ff",fontFamily:"Burbank Small",fontSize:"30px"}),r.add(v);var g=e.add.ellipse(285,-128,37.5,37.5);g.isFilled=!0,g.fillColor=1136020,r.add(g);var w=e.add.ellipse(35,-128,37.5,37.5);w.isFilled=!0,w.fillColor=1136020,r.add(w);var k=e.add.rectangle(161,-128,250,37.5);k.isFilled=!0,k.fillColor=1136020,r.add(k);var _=e.add.text(160,-171,"",{});_.setOrigin(.5,.5),_.text="Enter new password",_.setStyle({align:"center",color:"#000000ff",fontFamily:"Burbank Small",fontSize:"30px"}),r.add(_);var O=e.add.ellipse(-36,-21,37.5,37.5);O.isFilled=!0,O.fillColor=1136020,r.add(O);var S=e.add.ellipse(-286,-21,37.5,37.5);S.isFilled=!0,S.fillColor=1136020,r.add(S);var x=e.add.rectangle(-160,-21,250,37.5);x.isFilled=!0,x.fillColor=1136020,r.add(x);var j=e.add.text(-165,-64,"",{});j.setOrigin(.5,.5),j.text="Confirm new username",j.setStyle({align:"center",color:"#000000ff",fontFamily:"Burbank Small",fontSize:"30px"}),r.add(j);var P=e.add.ellipse(-36,-128,37.5,37.5);P.isFilled=!0,P.fillColor=1136020,r.add(P);var R=e.add.ellipse(-286,-128,37.5,37.5);R.isFilled=!0,R.fillColor=1136020,r.add(R);var C=e.add.rectangle(-160,-128,250,37.5);C.isFilled=!0,C.fillColor=1136020,r.add(C);var T=e.add.text(-160,-171,"",{});T.setOrigin(.5,.5),T.text="Enter new username",T.setStyle({align:"center",color:"#000000ff",fontFamily:"Burbank Small",fontSize:"30px"}),r.add(T);var E=e.add.text(0,-238,"",{});E.setOrigin(.5,.5),E.text="MANAGE ACCOUNT",E.setStyle({align:"center",fixedWidth:600,fontFamily:"Burbank Small",fontSize:"40px",fontStyle:"bold italic",stroke:"#003366",strokeThickness:10}),r.add(E);var B=e.add.image(300,-268,"main","blue-button");r.add(B);var A=e.add.image(300,-270,"main","blue-x");r.add(A),new a.vj(o),new a.X7(c).corner=50;var F=new a.zx(l);F.spriteName="help-button",F.callback=function(){return r.delete()};var I=new a.zx(f);I.spriteName="help-button",I.callback=function(){return r.username()};var z=new a.zx(p);z.spriteName="help-button",z.callback=function(){return r.password()};var M=new a.zx(B);return M.spriteName="blue-button",M.callback=function(){return r.hide()},r}return t=s,(n=[{key:"show",value:function(){this.newpass=document.getElementById("newpass"),this.newpassconfirm=document.getElementById("newpassconfirm"),this.newuser=document.getElementById("newuser"),this.newuserconfirm=document.getElementById("newuserconfirm"),this.newpass.style.visibility="visible",this.newpassconfirm.style.visibility="visible",this.newuser.style.visibility="visible",this.newuserconfirm.style.visibility="visible",this.visible=!0}},{key:"hide",value:function(){this.visible=!1,this.newpass.style.visibility="hidden",this.newpassconfirm.style.visibility="hidden",this.newuser.style.visibility="hidden",this.newuserconfirm.style.visibility="hidden"}},{key:"delete",value:function(){var e=this;this.interface.prompt.showWindow("Are you sure you want to delete your account?\nThis cannot be undone!","dual",(function(){return e.network.send("delete_account")})),this.hide()}},{key:"username",value:function(){var e=this;if(!this.newuser.value||this.newuser.value!=this.newuserconfirm.value)return this.interface.prompt.showWindow("Usernames do not match!","single",(function(){return e.show()})),void this.hide();this.interface.prompt.showWindow("Are you sure you want to change your username?","dual",(function(t){return e.network.send("change_username",{username:e.newuser.value})})),this.hide()}},{key:"password",value:function(){var e=this;if(!this.newpass.value||this.newpass.value!=this.newpassconfirm.value)return this.interface.prompt.showWindow("Passwords do not match!","single",(function(){return e.show()})),void this.hide();this.interface.prompt.showWindow("Are you sure you want to change your password?","dual",(function(t){return e.network.send("change_password",{newPassword:e.newpass.value})})),this.hide()}}])&&Bs(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.Z);function Ms(e){return Ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(e)}function Ds(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ls(e,t){return Ls=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ls(e,t)}function Ns(e,t){if(t&&("object"===Ms(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Zs(e){return Zs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zs(e)}i.Z;var Xs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ls(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Zs(r);if(o){var n=Zs(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ns(this,e)});function s(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this,e,null!=t?t:40,null!=n?n:47)).puffleBtn1,r.puffleBtn2,r.puffleBtn3,r.puffleBtn1_active,r.puffleBtn2_active,r.puffleBtn3_active,r.eatAndSleep,r.playAndGroom,r.eatAndDress,r.eatAndSleep_active,r.playAndGroom_active,r.eatAndDress_active;var o=e.add.image(1,0,"elevator","bg");o.setOrigin(0,0),r.add(o);var c=e.add.image(728,440,"elevator","wood");r.add(c);var l=e.add.image(759,140,"elevator","puffleGoldBar");r.add(l);var u=e.add.image(820,296,"elevator","goldBar");r.add(u);var f=e.add.image(820,688,"elevator","goldBar");r.add(f);var d=e.add.image(820,492,"elevator","goldBar");r.add(d);var p=e.add.sprite(264,295,"elevator","puffleBtn");r.add(p);var h=e.add.sprite(260,690,"elevator","puffleBtn");r.add(h);var y=e.add.sprite(260,490,"elevator","puffleBtn");r.add(y);var m=e.add.sprite(260,294,"elevator","puffleBtn-active");m.visible=!1,r.add(m);var b=e.add.sprite(260,690,"elevator","puffleBtn-active");b.visible=!1,r.add(b);var v=e.add.sprite(260,490,"elevator","puffleBtn-active");v.visible=!1,r.add(v);var g=e.add.sprite(1100,295,"elevator","eatAndSleep");r.add(g);var w=e.add.sprite(1100,492,"elevator","playAndGroom");r.add(w);var k=e.add.sprite(1100,690,"elevator","eatAndDress");r.add(k);var _=e.add.sprite(1100,296,"elevator","eatAndSleep-active");_.visible=!1,r.add(_);var O=e.add.sprite(1100,492,"elevator","playAndGroom-active");O.visible=!1,r.add(O);var S=e.add.sprite(1101,690,"elevator","eatAndDress-active");S.visible=!1,r.add(S);var x=e.add.image(690,142,"elevator","elevator");r.add(x);var j=e.add.image(480,296,"elevator","roof");r.add(j);var P=e.add.image(625,494,"elevator","gymAndSpa");r.add(P);var R=e.add.image(503,687,"elevator","lobby");r.add(R);var C=e.add.image(1405,47,"main","grey-button");r.add(C);var T=e.add.image(1405,47,"main","grey-x");r.add(T),new a.rF(u).callback=function(){r.onRoomClick(432)},new a.rF(f).callback=function(){r.onRoomClick(430,72,520)},new a.rF(d).callback=function(){r.onRoomClick(431)},new a.rF(p).callback=function(){r.onRoomClick(432)},new a.rF(h).callback=function(){r.onRoomClick(430,72,520)},new a.rF(y).callback=function(){r.onSpa()};var E=new a.zx(C);return E.spriteName="grey-button",E.callback=function(){r.closeElevator()},r.puffleBtn1=p,r.puffleBtn2=h,r.puffleBtn3=y,r.puffleBtn1_active=m,r.puffleBtn2_active=b,r.puffleBtn3_active=v,r.eatAndSleep=g,r.playAndGroom=w,r.eatAndDress=k,r.eatAndSleep_active=_,r.playAndGroom_active=O,r.eatAndDress_active=S,r}return t=s,n=[{key:"closeElevator",value:function(){this.visible=!1,this.puffleBtn1_active.visible=!1,this.puffleBtn1.visible=!0,this.puffleBtn2_active.visible=!1,this.puffleBtn2.visible=!0,this.puffleBtn3_active.visible=!1,this.puffleBtn3.visible=!0,this.eatAndSleep_active.visible=!1,this.eatAndSleep.visible=!0,this.playAndGroom_active.visible=!1,this.playAndGroom.visible=!0,this.eatAndDress_active.visible=!1,this.eatAndDress.visible=!0}},{key:"onRoomClick",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.crumbs.scenes.rooms[e];this.world.room.key!=r.key&&(0==t&&(t=r.x),0==n&&(n=r.y),this.closeElevator(),this.world.client.sendJoinRoom(e,r.key,t,n))}},{key:"onSpa",value:function(){this.closeElevator(),this.world.network.send("send_error",{error:"This feature is not yet implemented!\nCPForever is in development, and is being\nactively updated. Check back soon!'"})}}],n&&Ds(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.Z);function Ys(e){return Ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(e)}function Ws(e,t){return Ws=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ws(e,t)}function Hs(e,t){if(t&&("object"===Ys(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Us(e){return Us=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Us(e)}var Gs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ws(e,t)}(i,e);var t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Us(n);if(r){var o=Us(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return Hs(this,e)});function i(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),r=o.call(this,e,null!=t?t:0,null!=n?n:0);var s=e.add.rectangle(765,486,128,128);s.scaleX=12.441341585560185,s.scaleY=8.107324625518155,s.isFilled=!0,s.fillColor=0,s.fillAlpha=.4,r.add(s);var c=e.add.image(306,659,"cavepopup","Symbol 10");r.add(c);var l=e.add.image(887,791,"cavepopup","Nube");r.add(l);var u=e.add.image(1194,869,"cavepopup","closebutton");r.add(u);var f=e.add.image(1195,872,"cavepopup","Smbolo 5");r.add(f);var d=e.add.image(944,781,"cavepopup","Smbolo 3");r.add(d),new a.vj(s);var p=new a.zx(u);return p.spriteName="closebutton",p.callback=function(){r.visible=!1},r}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(i.Z);function qs(e){return qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(e)}function Vs(e,t){return Vs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Vs(e,t)}function $s(e,t){if(t&&("object"===qs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ks(e){return Ks=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ks(e)}var Js=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vs(e,t)}(i,e);var t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ks(n);if(r){var o=Ks(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return $s(this,e)});function i(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),r=o.call(this,e,null!=t?t:-27.93463724182101,null!=n?n:103.12152068887252);var a=e.add.rectangle(788,377,1520,960);a.isFilled=!0,a.fillColor=0,a.fillAlpha=.2,r.add(a);var s=e.add.image(787.9346372418211,376.8784793111275,"newinterface","panel");r.add(s);var c=e.add.image(1441,-22,"newinterface","closepanel");r.add(c);var l=e.add.image(238,582,"newinterface","card1");r.add(l);var u=e.add.image(514,176,"newinterface","card2");r.add(u);var f=e.add.image(819,561,"newinterface","card3");r.add(f);var d=e.add.image(243,314,"newinterface","item1");r.add(d);var p=e.add.image(527,506,"newinterface","item2");p.alpha=.5,p.alphaTopLeft=.5,p.alphaTopRight=.5,p.alphaBottomLeft=.5,p.alphaBottomRight=.5,r.add(p);var h=e.add.image(799,273,"newinterface","item3");h.alpha=.5,h.alphaTopLeft=.5,h.alphaTopRight=.5,h.alphaBottomLeft=.5,h.alphaBottomRight=.5,r.add(h);var y=e.add.image(1090,409,"newinterface","item4");y.alpha=.5,y.alphaTopLeft=.5,y.alphaTopRight=.5,y.alphaBottomLeft=.5,y.alphaBottomRight=.5,r.add(y);var m=e.add.image(1354,358,"newinterface","item5");m.alpha=.5,m.alphaTopLeft=.5,m.alphaTopRight=.5,m.alphaBottomLeft=.5,m.alphaBottomRight=.5,r.add(m),new jo.Z(a),new Po.Z(c).callback=function(){r.visible=!1};var b=new So.Z(d);return b.spriteName="item1",b.activeFrame=!1,r}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(i.Z);function Qs(e){return Qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qs(e)}function ec(e,t){return ec=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ec(e,t)}function tc(e,t){if(t&&("object"===Qs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function nc(e){return nc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},nc(e)}var rc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ec(e,t)}(i,e);var t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=nc(n);if(r){var o=nc(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return tc(this,e)});function i(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),r=o.call(this,e,null!=t?t:82.98340611710172,null!=n?n:-49.334967884694784);var a=e.add.rectangle(677,529,1520,960);a.isFilled=!0,a.fillColor=0,a.fillAlpha=.2,r.add(a);var s=e.add.image(677.0165938828983,529.3349678846948,"rules","bg");r.add(s);var c=e.add.image(738,470,"rules","rules");r.add(c);var l=e.add.image(423,478,"rules","icons");r.add(l);var u=e.add.image(688,192,"rules","title");r.add(u);var f=e.add.image(674,797,"rules","button");r.add(f);var d=e.add.image(615,797,"rules","Smbolo 5");r.add(d),new jo.Z(a);var p=new So.Z(f);return p.spriteName="button",p.callback=function(){r.visible=!1},r}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(i.Z);function oc(e){return oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(e)}function ic(e,t){return ic=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ic(e,t)}function ac(e,t){if(t&&("object"===oc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function sc(e){return sc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sc(e)}var cc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ic(e,t)}(i,e);var t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=sc(n);if(r){var o=sc(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return ac(this,e)});function i(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),r=o.call(this,e,null!=t?t:504.2788701127459,null!=n?n:302.8407567072438);var a=e.add.rectangle(257,177,1520,960);a.isFilled=!0,a.fillColor=0,a.fillAlpha=.2,r.add(a);var s=e.add.image(255.7211298872541,177.15924329275617,"newinterface","changelog");r.add(s);var c=e.add.image(710,-165,"newinterface","closepanel");r.add(c);var l=e.add.text(-60,-149,"",{});l.text="What's New",l.setStyle({fontFamily:"Burbank Regular Bold",fontSize:"100px",fontStyle:"bold"}),r.add(l);var u=e.add.text(-47,-53,"",{});u.text="October 02, 2022",u.setStyle({fontFamily:"Burbank Small",fontSize:"26px"}),r.add(u);var f=e.add.text(286,507,"",{});f.text="Follow us for more information",f.setStyle({fontFamily:"Burbank Small",fontSize:"26px"}),r.add(f);var d=e.add.text(256,225,"",{});return d.text="v1.0.0    2022-05-10\n\n-  first release!",d.setStyle({fontFamily:"Burbank Small",fontSize:"25px"}),r.add(d),new jo.Z(a),new Po.Z(c).callback=function(){r.visible=!1},r}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(i.Z),lc=n(5655);function uc(e){return uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(e)}function fc(e,t){return fc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fc(e,t)}function dc(e,t){if(t&&("object"===uc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function pc(e){return pc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pc(e)}var hc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fc(e,t)}(i,e);var t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=pc(n);if(r){var o=pc(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return dc(this,e)});function i(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),r=o.call(this,e,null!=t?t:708,null!=n?n:249);var a=e.add.image(546,-131,"telescope","close");r.add(a);var s=e.add.image(57,208,"telescope","Symbol 40001");r.add(s);var c=e.add.image(54,232,"telescope","Smbolo 1");r.add(c);var l=e.add.sprite(60,76,"telescope","ship0001");r.add(l);var u=e.add.image(717,-179,"telescope","close");r.add(u);var f=new lc.Z(l);f.key="ship",f.end=70;var d=new So.Z(u);return d.spriteName="close",d.callback=function(){r.visible=!1},r}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(i.Z);function yc(e){return yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(e)}function mc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bc(e,t){return bc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},bc(e,t)}function vc(e,t){if(t&&("object"===yc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function gc(e){return gc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gc(e)}var wc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bc(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=gc(r);if(o){var n=gc(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return vc(this,e)});function s(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this,e,null!=t?t:760,null!=n?n:480)).safe,r.close,r.disableCoinBag,r.coinbag;var o=e.add.rectangle(0,-198,200,460);o.isFilled=!0,o.fillColor=65535,o.fillAlpha=.5,r.add(o);var c=e.add.rectangle(0,61,80,80);c.isFilled=!0,c.fillColor=65535,c.fillAlpha=.5,r.add(c);var l=e.add.image(1,-173,"pufflePopup","back");r.add(l);var u=e.add.container(2,-68);r.add(u);var f=e.add.sprite(0,0,"pufflePopup","coinbag");u.add(f);var d=e.add.sprite(0,0,"pufflePopup","coinbag");d.alpha=.3,d.alphaTopLeft=.3,d.alphaTopRight=.3,d.alphaBottomLeft=.3,d.alphaBottomRight=.3,d.tintFill=!0,d.tintTopLeft=0,d.tintTopRight=0,d.tintBottomLeft=0,d.tintBottomRight=0,u.add(d);var p=e.add.sprite(2,-68,"pufflePopup","coinbag");p.visible=!1,r.add(p);var h=e.add.image(35,-169,"pufflePopup","jumpspin");r.add(h);var y=e.add.image(-32,-171,"pufflePopup","spin");r.add(y);var m=e.add.image(35,-242,"pufflePopup","roll");r.add(m);var b=e.add.image(-32,-242,"pufflePopup","turn");r.add(b);var v=e.add.image(-32,-310,"pufflePopup","nuzzle");r.add(v);var g=e.add.image(35,-310,"pufflePopup","speak");r.add(g);var w=new a.zx(p);w.spriteName="coinbag",w.callback=function(){r.puffleDig()};var k=new a.zx(h);k.spriteName="jumpspin",k.callback=function(){r.playPuffleAnim("jumpspin")};var _=new a.zx(y);_.spriteName="spin",_.callback=function(){r.playPuffleAnim("roll")};var O=new a.zx(m);O.spriteName="roll",O.callback=function(){r.playPuffleAnim("sandonhead")};var S=new a.zx(b);S.spriteName="turn",S.callback=function(){r.playPuffleAnim("jumpforward")};var x=new a.zx(v);x.spriteName="nuzzle",x.callback=function(){r.playPuffleAnim("nuzzle")};var j=new a.zx(g);return j.spriteName="speak",j.callback=function(){r.playPuffleAnim("speak")},r.safe=o,r.close=c,r.disableCoinBag=u,r.coinbag=p,r.initMenu(),r}return t=s,(n=[{key:"playPuffleAnim",value:function(e){this.playing||(this.playing=!0),this.playing&&(this.world.interface.main.pufflesMenu.visible=!1,this.network.send("play_puffle_anim",{id:this.world.client.penguin.id,anim:e}))}},{key:"puffleDig",value:function(){this.network.send("play_puffle_anim",{id:this.world.client.penguin.id,anim:"dig"}),this.network.send("puffle_dig",{id:this.world.client.penguin.id}),this.playPuffleAnim("dig")}},{key:"disableDigging",value:function(e){this.disableCoinBag.visible=!e,this.coinbag.visible=e}},{key:"getRandomInt",value:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)}}])&&mc(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}($o);function kc(e){return kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(e)}function _c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oc(e,t){return Oc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Oc(e,t)}function Sc(e,t){if(t&&("object"===kc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function xc(e){return xc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xc(e)}var jc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oc(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=xc(r);if(o){var n=xc(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Sc(this,e)});function a(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,null!=t?t:760,null!=n?n:480)).item;var o=e.add.image(0,0,"main","list/small");return r.add(o),r.item=o,r.name=e.add.text(0,-15,"",{align:"center",color:"#000000",fontFamily:"Arial",fontSize:"28px"}),r.name.setOrigin(.5,0),r.add(r.name),r.data,r.column,r.safeList,r.frameName="list/small",o.on("pointerover",(function(){return r.onOver()})),o.on("pointerout",(function(){return r.onOut()})),o.on("pointerup",(function(e){return r.onUp(e)})),r}return t=a,(n=[{key:"safe",get:function(){return this.parentContainer}},{key:"init",value:function(e,t,n){this.data=e,this.column=t,this.updateFrameName(e.menu,n),this.updateNameText(e.name)}},{key:"updateFrameName",value:function(e,t){var n=t>1?"list/wide":"list/small",r=e?"_arrow":"";this.frameName="".concat(n).concat(r),this.resetFrame(),this.item.setInteractive({cursor:"pointer"})}},{key:"resetFrame",value:function(){this.item.setFrame(this.frameName)}},{key:"updateNameText",value:function(e){this.name.text=e;var t=this.item.width-30;this.name.width>t&&this.name.setFontSize(24),this.name.y=-Math.floor(this.name.height/2),this.name.setFixedSize(t,0)}},{key:"onOver",value:function(){this.item.setFrame("".concat(this.frameName,"-hover")),this.safe.closeLists(this.column),this.data.menu&&(this.safeList?this.safe.showSafeList(this.safeList):this.safeList=this.safe.createSafeList(this.data.menu,this.column+1,this.data.wide,this.x,this.y,this.item.width))}},{key:"onOut",value:function(){this.resetFrame()}},{key:"onUp",value:function(e){0==e.button&&(this.safe.closeMenu(),this.world.client.sendSafe(this.data.id))}}])&&_c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Z);function Pc(e){return Pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(e)}function Rc(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Cc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cc(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Cc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ec(e,t){return Ec=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ec(e,t)}function Bc(e,t){if(t&&("object"===Pc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ac(e){return Ac=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ac(e)}var Fc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ec(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ac(r);if(o){var n=Ac(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Bc(this,e)});function a(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,null!=t?t:760,null!=n?n:480)).close,r.safe,r.start;var o=e.add.rectangle(0,0,80,80);o.isFilled=!0,o.fillColor=65535,o.fillAlpha=.5,r.add(o);var s=e.add.rectangle(0,-50,256,40);s.isFilled=!0,s.fillColor=65535,s.fillAlpha=.5,r.add(s);var c=e.add.image(0,-90,"main","list/small");return c.visible=!1,r.add(c),r.close=o,r.safe=s,r.start=c,r.initMenu(),r.safeMessagesMap={},r.setSafeMessagesMap(r.crumbs.safe_messages),r.subItems=[],r.cellHeight=64,r.cellWidth={1:268,2:532},r.timer,r.createSafeList(r.crumbs.safe_messages),r}return t=a,n=[{key:"setSafeMessagesMap",value:function(e){var t,n=Rc(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.safeMessagesMap[r.id]=r.name,r.menu&&this.setSafeMessagesMap(r.menu)}}catch(e){n.e(e)}finally{n.f()}}},{key:"createSafeList",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=[],c=this.getListX(n,r,o,a),l=this.getListY(e.length-1,i),u=Rc(e);try{for(u.s();!(t=u.n()).done;){var f=t.value,d=new jc(this.scene,c,l);d.init(f,n,r),n>0&&this.subItems.push(d),this.add(d),s.push(d),l+=this.cellHeight}}catch(e){u.e(e)}finally{u.f()}return s}},{key:"showSafeList",value:function(e){var t,n=Rc(e);try{for(n.s();!(t=n.n()).done;)t.value.visible=!0}catch(e){n.e(e)}finally{n.f()}}},{key:"closeLists",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=Rc(this.subItems);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.column>t&&(r.visible=!1)}}catch(e){n.e(e)}finally{n.f()}}},{key:"getListX",value:function(e,t,n,r){return e<1?0:n+r/2+this.cellWidth[t]/2}},{key:"getListY",value:function(e,t){var n=t||this.start.y-this.cellHeight*e,r=n+this.cellHeight*e;return r>this.start.y&&(n-=r-this.start.y),n}},{key:"onBackOver",value:function(){var e=this;this.timer=this.scene.time.delayedCall(500,(function(){return e.closeMenu()}))}},{key:"onBackOut",value:function(){this.timer&&(this.timer.remove(),this.scene.time.removeEvent(this.timer),this.timer=null)}},{key:"closeMenu",value:function(){this.visible=!1,this.closeLists()}}],n&&Tc(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}($o);function Ic(e){return Ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(e)}function zc(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Mc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mc(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Mc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lc(e,t){return Lc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Lc(e,t)}function Nc(e,t){if(t&&("object"===Ic(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Zc(e){return Zc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zc(e)}var Xc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lc(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Zc(r);if(o){var n=Zc(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Nc(this,e)});function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this,"Main")).pinContainer,e.chat_box,e.puffle_button_disabled,e.puffle_button,e.puffle_icon,e.emote_button,e.action_button,e.action_icon,e.snowball_button,e.snowball_icon,e.chat_send_button,e.chat_send_icon,e.player_button,e.badge_member,e.buddies_button,e.buddies_icon,e.igloo_button,e.igloo_icon,e.help_button,e.help_icon,e.onlinePopup,e.popup,e.popupText,e.chatLog,e.crosshair,e.request_button,e.mail_btn,e.news_button,e.mod_btn,e.mod_button,e.mod_m,e.widgetLayer,e.buddy,e.playerCard,e.settings,e.manage,e.actionsMenu,e.emotesMenu,e.safe,e.pufflesMenu,e.waddle,e.findFour,e.chat_button,e.chat_icon,e.stampEarned,e.stampEarnedBg,e.stampEarnedImage,e.stampEarnedHeader,e.stampEarnedBody,e.puffleCare,e.elevator,e.cavepopup,e.telescope,e.popup_coins,e.popup_coin_text,e.popup_items,e.popup_items_text,e.beta,e.changelog,e.rules,e.hideOnSleep,e.interfaceList,e}return t=s,n=[{key:"_create",value:function(){var e=this,t=this.add.container(0,5);this.add.image(760,915,"chatbar","chatbar.png").visible=!1;var n=this.add.image(760,915,"newinterface","Smbolo 23");n.scaleX=.65,n.scaleY=.75;var r=this.add.image(760,879,"newinterface","snow");r.scaleX=.65,r.scaleY=.75;var o=this.add.image(748,915,"main","chat-box"),i=this.add.image(246,916,"main","blue-button-disabled"),s=this.add.sprite(246,916,"main","blue-button");s.visible=!1;var c=this.add.image(245,915,"main","puffle-icon-disabled"),l=this.add.image(306,917,"main","blue-button"),u=this.add.image(306,915,"chatbar","emotes.png");u.visible=!1;var f=this.add.image(366,917,"main","blue-button"),d=this.add.image(366,913,"main","action-icon");d.visible=!1;var p=this.add.image(426,917,"main","blue-button"),h=this.add.image(426,917,"main","snowball-icon");h.visible=!1;var y=this.add.image(1026,917,"main","blue-button"),m=this.add.image(1027,915,"main","chat-send0001");m.visible=!1;var b=this.add.image(1086,917,"main","blue-button"),v=this.add.image(1086,914,"chatbar","playercard0001.png");v.visible=!1;var g=this.add.image(1146,917,"main","blue-button"),w=this.add.image(1146,915,"main","buddies-icon");w.visible=!1;var k=this.add.image(1206,917,"main","blue-button"),_=this.add.image(1206,915,"main","igloo-icon");_.visible=!1;var O=this.add.image(1266,917,"main","blue-button"),S=this.add.image(1266,915,"main","help-icon");S.visible=!1;var x=this.add.container(1155,858);x.visible=!1;var j=this.add.image(0,11,"main","buddy-online");x.add(j);var P=this.add.text(-6,0,"",{});P.setOrigin(.5,.5),P.setStyle({align:"center",color:"#000000",fixedWidth:380,fontFamily:"Burbank Small",fontSize:"24px"}),x.add(P);var R=new Ri(this,760,10);this.add.existing(R);var C=this.add.image(0,1100,"main","crosshair");C.visible=!1;var T=this.add.image(269,73,"main","buddy-button");T.visible=!1;var E=this.add.sprite(170,59,"main","mail-button"),B=this.add.image(70,71,"main","news-button"),A=this.add.container(1451,71),F=this.add.image(0,2,"main","mod/button");A.add(F);var I=this.add.sprite(0,1,"main","mod/m");A.add(I);var z=this.add.layer(),M=new vi(this,1140,436);M.visible=!1,z.add(M);var D=new ms(this,446,436);D.visible=!1,z.add(D);var L=new Ts(this,760,482);this.add.existing(L),L.visible=!1;var N=new zs(this,760,482);this.add.existing(N),N.visible=!1;var Z=new ni(this,366,873);this.add.existing(Z),Z.visible=!1;var X=new Fi(this,306,906);this.add.existing(X),X.visible=!1;var Y=new Fc(this,246,925);this.add.existing(Y),Y.visible=!1;var W=new wc(this,246,858);this.add.existing(W),W.visible=!1;var H=new $i(this,733,422);this.add.existing(H),H.visible=!1;var U=new Yo(this,736,472);this.add.existing(U),U.visible=!1;var G=this.add.image(486,916,"main","blue-button"),q=this.add.image(486,915,"main","chat-icon"),V=this.add.container(933,-150),$=this.add.image(196,0,"main","stamps/bg");$.alpha=.7,$.alphaTopLeft=.7,$.alphaTopRight=.7,$.alphaBottomLeft=.7,$.alphaBottomRight=.7,V.add($);var K=this.add.image(0,70,"main","stamps/activities0001");V.add(K);var J=this.add.text(88,25,"",{});J.text="STAMP EARNED!",J.setStyle({fixedWidth:380,fontFamily:"Burbank Small",fontSize:"40px",fontStyle:"bold italic"}),V.add(J);var Q=this.add.text(90,80,"",{});Q.text="Stamp Name",Q.setStyle({fixedWidth:380,fontFamily:"Burbank Small",fontSize:"35px"}),V.add(Q);var ee=new Ss(this,500,583);this.add.existing(ee),ee.visible=!1;var te=new Xs(this,27,35);this.add.existing(te),te.visible=!1,this.add.container(0,-4);var ne=this.add.image(93,890,"newinterface","map");ne.scaleX=.6,ne.scaleY=.6;var re=this.add.image(306,915,"newinterface","emotes");re.scaleX=.4,re.scaleY=.4;var oe=this.add.image(366,915,"newinterface","actions");oe.scaleX=.4,oe.scaleY=.4;var ie=this.add.image(426,915,"newinterface","snowball");ie.scaleX=.4,ie.scaleY=.4;var ae=this.add.image(1086,915,"newinterface","player");ae.scaleX=.4,ae.scaleY=.4;var se=this.add.image(1146,915,"newinterface","buddies");se.scaleX=.4,se.scaleY=.4;var ce=this.add.image(1206,915,"newinterface","igloo");ce.scaleX=.4,ce.scaleY=.4;var le=this.add.image(1266,915,"newinterface","account");le.scaleX=.4,le.scaleY=.4;var ue=this.add.image(1026,915,"newinterface","send");ue.scaleX=.6,ue.scaleY=.8,ue.flipX=!0;var fe=new Gs(this,16,-11);this.add.existing(fe),fe.visible=!1;var de=this.add.image(1353,70,"newinterface","iconbeta"),pe=new hc(this,708,249.00000000000003);this.add.existing(pe),pe.visible=!1;var he=this.add.container(727,-106),ye=this.add.image(355,33,"dig_popup","popup_coins");ye.alpha=.975,ye.alphaTopLeft=.975,ye.alphaTopRight=.975,ye.alphaBottomLeft=.975,ye.alphaBottomRight=.975,he.add(ye);var me=this.add.text(364,50,"",{});me.setOrigin(.5043533631538751,.5785350741718311),me.alpha=.975,me.alphaTopLeft=.975,me.alphaTopRight=.975,me.alphaBottomLeft=.975,me.alphaBottomRight=.975,me.text="You've earned XXXX Coins! ",me.setStyle({align:"center",color:"#ffffffff",fontFamily:"Burbank Small",fontSize:"45px",fontStyle:"bold italic",stroke:"#b08f34ff",strokeThickness:5,"shadow.offsetY":5,"shadow.color":"#000000ff","shadow.stroke":!0}),he.add(me);var be=this.add.container(948,-188);be.visible=!1;var ve=this.add.image(141,48,"dig_popup","popup_items");be.add(ve);var ge=this.add.text(0,0,"",{});ge.text="####################\nHas been Unlocked",ge.setStyle({fontFamily:"Burbank Small",fontSize:"42px"}),be.add(ge);var we=new Js(this,-28,104);this.add.existing(we),we.visible=!1;var ke=new cc(this,504,304);this.add.existing(ke),ke.visible=!1;var _e=new rc(this,83,-48);this.add.existing(_e),_e.visible=!1;var Oe=[D,M],Se=[S,O,_,k,w,g,b,m,y,h,p,d,f,l,c,i,o,B,I,R,v,u];new a.vj(o);var xe=new a.zx(s);xe.spriteName="blue-button",xe.callback=function(){return e.openPuffleMenu()};var je=new a.zx(l);je.spriteName="blue-button",je.callback=function(){return e.emotesMenu.visible=!0},new a.tk(l).text="Emotes";var Pe=new a.zx(f);Pe.spriteName="blue-button",Pe.callback=function(){return e.actionsMenu.visible=!0},new a.tk(f).text="Actions";var Re=new a.zx(p);Re.spriteName="blue-button",Re.callback=function(){return e.onSnowballClick()},new a.tk(p).text="Snowball";var Ce=new a.zx(y);Ce.spriteName="blue-button",Ce.callback=function(){return e.onChatSend()},new a.tk(y).text="Send";var Te=new a.zx(b);Te.spriteName="blue-button",Te.callback=function(){return e.onPlayerClick()},new a.tk(b).text="Edit Player";var Ee=new a.zx(g);Ee.spriteName="blue-button",Ee.callback=function(){return e.onBuddyClick()},new a.tk(g).text="Show Buddies";var Be=new a.zx(k);Be.spriteName="blue-button",Be.callback=function(){return e.onIglooClick()},new a.tk(k).text="Your Home";var Ae=new a.zx(O);Ae.spriteName="blue-button",Ae.callback=function(){e.settings.visible=!0},new a.tk(O).text="Edit Account",new a.rF(C).callback=function(){return e.onCrosshairClick()};var Fe=new a.zx(T);Fe.spriteName="buddy-button",Fe.callback=function(){return e.onRequestClick()},Fe.activeFrame=!1;var Ie=new a.zx(E);Ie.spriteName="mail-button",Ie.callback=function(){e.world.RuffleManager.handleLoadOtherSwf("mail.swf")},Ie.activeFrame=!1;var ze=new a.zx(B);ze.spriteName="news-button",ze.callback=function(){return window.open("https://discord.com/invite/2JwJ7JjVeb","_blank").focus()},ze.activeFrame=!1;var Me=new a.rF(F);Me.hoverCallback=function(){return e.onModOver()},Me.hoverOutCallback=function(){return e.onModOut()},Me.callback=function(){return e.rules.visible=!0};var De=new a.zx(G);De.spriteName="blue-button",De.callback=function(){return e.safe.visible=!0},new a.tk(G).text="Messages";var Le=new a.zx(ne);Le.spriteName="map",Le.callback=function(){return e.map.visible=!0};var Ne=new a.zx(de);Ne.spriteName="iconbeta",Ne.callback=function(){return e.beta.visible=!0},Ne.activeFrame=!1,this.pinContainer=t,this.chat_box=o,this.puffle_button_disabled=i,this.puffle_button=s,this.puffle_icon=c,this.emote_button=l,this.action_button=f,this.action_icon=d,this.snowball_button=p,this.snowball_icon=h,this.chat_send_button=y,this.chat_send_icon=m,this.player_button=b,this.badge_member=v,this.buddies_button=g,this.buddies_icon=w,this.igloo_button=k,this.igloo_icon=_,this.help_button=O,this.help_icon=S,this.onlinePopup=x,this.popup=j,this.popupText=P,this.chatLog=R,this.crosshair=C,this.request_button=T,this.mail_btn=E,this.news_button=B,this.mod_btn=A,this.mod_button=F,this.mod_m=I,this.widgetLayer=z,this.buddy=M,this.playerCard=D,this.settings=L,this.manage=N,this.actionsMenu=Z,this.emotesMenu=X,this.safe=Y,this.pufflesMenu=W,this.waddle=H,this.findFour=U,this.chat_button=G,this.chat_icon=q,this.stampEarned=V,this.stampEarnedBg=$,this.stampEarnedImage=K,this.stampEarnedHeader=J,this.stampEarnedBody=Q,this.puffleCare=ee,this.elevator=te,this.cavepopup=fe,this.telescope=pe,this.popup_coins=he,this.popup_coin_text=me,this.popup_items=be,this.popup_items_text=ge,this.beta=we,this.changelog=ke,this.rules=_e,this.hideOnSleep=Oe,this.interfaceList=Se,this.events.emit("scene-awake")}},{key:"create",value:function(){var e=this;this._create();var t="vanilla"==localStorage.clientMode?new Aa(this,760,460):new ja(this,760,460);this.add.existing(t),t.visible=!1,this.map=t,this.events.on("sleep",this.onSleep,this),this.world.client.penguin.rank>3&&(this.mod_btn.visible=!0),this.setupWidgets(),this.balloonFactory=new po(this),this.snowballFactory=new Oo(this.world),this.hint=new go(this,0,0),this.add.existing(this.hint),this.hideOnSleep.push(this.hint),this.hint.visible=!1,this.requests=[];var n={width:480,height:50,fontFamily:"Burbank Small",fontSize:24,color:"#fff"};this.chatInput=this.world.client.penguin.rank>3?new ln(this,770,915,"text",n,(function(){return e.onChatSend()}),192,!0,"chat",!0,!0):new ln(this,755,931,"text",n,(function(){return e.onChatSend()}),48,!0,"chat",!1,!1),this.add.existing(this.chatInput),this.search=new ln(this,814,118,"text",{width:250,height:50,fontFamily:"Burbank Small",fontSize:24,color:"#fff",visibility:"hidden"},(function(){return e.onSearch()}),48,!0,"search",!1,!0);var r={width:250,height:37.5,fontFamily:"Burbank Small",fontSize:25,color:"#fff",visibility:"hidden"};this.newuser=new ln(this,600,352,"text",r,null,48,!0,"newuser",!1,!0),this.newuserconfirm=new ln(this,600,459,"text",r,null,48,!0,"newuserconfirm",!1,!0),this.newpass=new ln(this,920,352,"text",r,null,48,!0,"newpass",!0),this.newpassconfirm=new ln(this,920,459,"text",r,null,48,!0,"newpassconfirm",!0),this.add.existing(this.newuser),this.add.existing(this.newuserconfirm),this.add.existing(this.newpass),this.add.existing(this.newpassconfirm),this.input.keyboard.on("keydown-TAB",(function(t){return e.onChatKeyDown(t)})),this.input.keyboard.on("keydown-ENTER",(function(t){return e.onChatKeyDown(t)}));var o=this.cache.json.get("main-anims");this.anims.fromJSON(o),window.hide=this.hide,window.hide=hide.bind(this),window.show=this.show,window.show=show.bind(this)}},{key:"onSleep",value:function(e,t){t.clearChat&&(this.chatInput.clearText(),this.chatLog.clearMessages()),this.chatLog.open&&this.chatLog.onTabClick(),this.stopCrosshair(),this.waddle.activeSeat=null,this.interface.prompt.hideAll();var n,r=zc(this.hideOnSleep);try{for(r.s();!(n=r.n()).done;)n.value.visible=!1}catch(e){r.e(e)}finally{r.f()}this.map.iglooMap.visible=!1}},{key:"setupWidgets",value:function(){var e,t=zc(this.widgetLayer.list);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.__DraggableContainer&&(n.__DraggableContainer.widgetLayer=this.widgetLayer)}}catch(e){t.e(e)}finally{t.f()}}},{key:"showWidget",value:function(e){this.widgetLayer.bringToTop(e),e.visible=!0}},{key:"onSnowballClick",value:function(){this.crosshair.visible=!0,this.crosshair.x=this.input.x,this.crosshair.y=this.input.y}},{key:"onCrosshairMove",value:function(e){this.crosshair.x=Math.round(e.x),this.crosshair.y=Math.round(e.y)}},{key:"onCrosshairClick",value:function(){this.stopCrosshair(),this.world.client.sendSnowball(this.crosshair.x,this.crosshair.y)}},{key:"stopCrosshair",value:function(){this.crosshair.visible=!1}},{key:"onChatKeyDown",value:function(e){e.preventDefault(),this.chatInput.setFocus()}},{key:"simplifyArabic",value:function(e){var t={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};return e.replace(/[^\u0000-\u007E]/g,(function(e){var n=t[e];return null==n&&(n=e),n})).normalize("NFKD").toLowerCase()}},{key:"onChatSend",value:function(){var e=this.chatInput.text;e=e.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,""),(e=this.simplifyArabic(e)).replace(" ","").length<1||(this.chatInput.clearText(),this.network.send("send_message",{message:e}),this.game.scene.getScene("InterfaceController").showTextBalloon(this.world.client.penguin.id,e))}},{key:"onSearch",value:function(){var e=this.search.text;this.search.clearText(),this.network.send("get_user_info",{username:e})}},{key:"onPlayerClick",value:function(){this.playerCard.showCard(this.world.client.id)}},{key:"onBuddyClick",value:function(){this.showWidget(this.buddy),this.buddy.showPage()}},{key:"onIglooClick",value:function(){this.world.client.sendJoinIgloo(this.world.client.id)}},{key:"onRequestClick",value:function(){var e=this.requests.shift();this.requests.length<1&&(this.request_button.visible=!1),e&&(e.requester?this.showAccept(e):this.showRequest(e))}},{key:"showAccept",value:function(e){var t="".concat(e.username," is now your buddy!");this.interface.prompt.showWindow(t,"single")}},{key:"showRequest",value:function(e){var t=this,n="".concat(e.username," has asked to be your buddy.\nDo you accept?");this.interface.prompt.showWindow(n,"dual",(function(){t.network.send("buddy_accept",e),t.interface.prompt.window.visible=!1}),(function(){t.network.send("buddy_reject",{id:e.id}),t.interface.prompt.window.visible=!1}))}},{key:"addRequest",value:function(e){this.requests.some((function(t){return t.id==e.id&&!t.requester}))||(this.requests.push(e),this.request_button.visible=!0,this.bounce(this.request_button))}},{key:"showOnlinePopup",value:function(e){var t=this,n="".concat(e," is online"),r=n.length>18?"buddy-online-large":"buddy-online";this.popupText.text=n,this.popup.setTexture("main",r),this.onlinePopup.visible=!0,this.bounce(this.onlinePopup,20),this.time.addEvent({delay:1e4,callback:function(){return t.onlinePopup.visible=!1}})}},{key:"bounce",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-100;e.startY||(e.startY=e.y),this.tweens.add({targets:e,y:{from:e.startY+t,to:e.startY},ease:"Bounce",duration:200})}},{key:"onModOver",value:function(){this.mod_m.play("mod_button")}},{key:"onModOut",value:function(){this.mod_m.stop(),this.mod_m.setFrame("mod/m")}},{key:"onModClick",value:function(){this.onModOut()}},{key:"onEasterClick",value:function(){this.eastBoard.visible=!0}},{key:"unimplementedPrompt",value:function(){this.game.scene.getScene("InterfaceController").prompt.showError("This feature is not yet implemented!\nCPForever is in development, and is being\nactively updated. Check back soon!")}},{key:"hide",value:function(){var e,t=zc(this.interfaceList);try{for(t.s();!(e=t.n()).done;)e.value.visible=!1}catch(e){t.e(e)}finally{t.f()}this.world.client.penguin.rank>1&&(this.mod_btn.visible=!0),this.input.keyboard.on("keydown-TAB",(function(e){return null})),this.input.keyboard.on("keydown-ENTER",(function(e){return null})),this.world.client.blockKeys();try{for(var n=0,r=Object.values(this.world.room.penguins);n<r.length;n++){var o=r[n];o.visible=!1,o.nameTag.visible=!1}}catch(e){console.error(e)}}},{key:"show",value:function(){var e,t=this,n=zc(this.interfaceList);try{for(n.s();!(e=n.n()).done;)e.value.visible=!0}catch(e){n.e(e)}finally{n.f()}this.mod_btn.visible=!1,this.input.keyboard.on("keydown-TAB",(function(e){return t.onChatKeyDown(e)})),this.input.keyboard.on("keydown-ENTER",(function(e){return t.onChatKeyDown(e)})),this.world.client.initKeys();try{for(var r=0,o=Object.values(this.world.room.penguins);r<o.length;r++){var i=o[r];i.visible=!0,i.nameTag.visible=!0}}catch(e){console.error(e)}}},{key:"stampTween",value:function(){var e=this;this.tweens.add({targets:this.stampEarned,y:0,delay:1e3,duration:300,onComplete:function(){return e.onStampTweenComplete()}})}},{key:"onCoinDigtween",value:function(){var e=this;this.tweens.add({targets:this.popup_coins,y:0,delay:2e3,duration:500,onComplete:function(){return e.onCoinTweenComplete()}})}},{key:"onItemDigtween",value:function(){var e=this;this.tweens.add({targets:this.popup_items,y:0,delay:1e3,duration:300,onComplete:function(){return e.onItemTweenComplete()}})}},{key:"onCoinTweenComplete",value:function(){this.tweens.add({targets:this.popup_coins,y:-110,delay:2e3,duration:500})}},{key:"onItemTweenComplete",value:function(){this.tweens.add({targets:this.popup_items,y:-186,delay:1500,duration:300})}},{key:"onStampTweenComplete",value:function(){this.tweens.add({targets:this.stampEarned,y:-150,delay:1500,duration:300})}},{key:"onPIntOver",value:function(){this.party_interface.scaleX=.5,this.party_interface.scaleY=.5}},{key:"onPIntOut",value:function(){this.party_interface.scaleX=.4,this.party_interface.scaleY=.4}},{key:"onPuffleClick",value:function(){}},{key:"openPuffleMenu",value:function(){this.network.send("puffle_timeout"),void 0===this.world.client.penguin.puffleTimeout&&(this.world.client.penguin.puffleTimeout=!0),this.pufflesMenu.disableDigging(this.world.client.penguin.puffleTimeout),this.pufflesMenu.visible=!0}},{key:"showPuffle",value:function(e){0===e?(this.puffle_icon.setFrame("puffle-icon-disabled"),this.puffle_button_disabled.visible=!0,this.puffle_button.visible=!1):(this.puffle_icon.setFrame("puffle-icon-".concat(e)),this.puffle_button_disabled.visible=!1,this.puffle_button.visible=!0)}}],n&&Dc(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(t.Z);function Yc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||Wc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wc(e,t){if(e){if("string"==typeof e)return Hc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hc(e,t):void 0}}function Hc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Uc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(8674);var Gc=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gridView=t,this.scene=t.scene,this.page=null,this.filter,this.load=new Phaser.Loader.LoaderPlugin(this.scene),this.load.on("filecomplete",this.onFileComplete,this),this.load.on("loaderror",this.onLoadError,this)}var t,n;return t=e,n=[{key:"url",get:function(){return"igloo"==this.filter?"/assets/media/igloos/buildings/icon":"/assets/media/furniture/icon"}},{key:"prefix",get:function(){return"igloo"==this.filter?"igloo/icon":"furniture/icon"}},{key:"slots",get:function(){return this.gridView.slots}},{key:"loadPage",value:function(e,t){this.filter=e,this.page=t;var n,r=this.slots.length>15?"@2.5x":"@5x",o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Wc(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(this.slots.entries());try{for(o.s();!(n=o.n()).done;){var i=Yc(n.value,2),a=i[0],s=i[1];s.filter=e,s.item&&s.item.destroy(),s.quantity&&(s.quantity.visible=!1);var c=t[a];c?(s.setInteractive(),s.visible=!0,this.loadItem(c,r)):(s.disableInteractive(),s.visible=!1)}}catch(e){o.e(e)}finally{o.f()}this.load.start()}},{key:"loadItem",value:function(e,t){var n="".concat(this.prefix,"/").concat(t,"/").concat(e);if(this.scene.textures.exists(n))return this.onFileComplete(n);var r="igloo"==this.filter?"".concat(this.url,"/").concat(e,".png"):"".concat(this.url,"/").concat(t,"/").concat(e,".png");this.load.image({key:n,url:r})}},{key:"onFileComplete",value:function(e){if(this.gridView.visible&&this.scene.textures.exists(e)){var t=parseInt(e.split("/")[3]),n=this.page.indexOf(t),r=this.slots[n];r&&r.visible&&r.addIcon(e,t)}}},{key:"onLoadError",value:function(e){if(this.gridView.visible){var t=parseInt(e.key.split("/")[3]),n=this.page.indexOf(t),r=this.slots[n];r&&r.visible&&r.addError(t)}}}],n&&Uc(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function qc(e){return qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(e)}function Vc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $c(e,t){return $c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$c(e,t)}function Kc(e,t){if(t&&("object"===qc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jc(e)}function Jc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qc(e){return Qc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qc(e)}var el=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$c(e,t)}(s,Phaser.GameObjects.Sprite);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Qc(r);if(o){var n=Qc(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Kc(this,e)});function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e,0,0,"iglooedit","box/box")).world=e.world,t.gridView=t.scene.gridView,t.item,t.quantity,t.filter,t.textStyle={fontFamily:"Burbank Small",fontSize:70,fontStyle:"bold",color:"#333333",align:"right",fixedWidth:100};var n=new a.zx(Jc(t));return n.spriteName="box/box",n.callback=function(){return t.onClick()},n.activeFrame=!1,n.start(),t}return t=s,(n=[{key:"onClick",value:function(){this.world.room.isIgloo&&this.world.room.id==this.world.client.id&&(this.gridView.visible=!1,this.scene.furniture.visible=!1,"igloo"==this.filter?this.world.room.updateIgloo(this.item.id):this.world.room.loadFurniture(this.item.id))}},{key:"addIcon",value:function(e,t){var n=this.scene.add.image(this.x,this.y,e),r="@5x"==e.split("/")[2]?1:2;if(this.gridView.container.add(n),n.scale=r,n.id=t,this.item=n,"igloo"!=this.filter){var o=this.world.room.getQuantity(t);return this.setQuantity(o)}this.setEnable(this.world.room.args.type!=t)}},{key:"addError",value:function(e){var t=this.scene.add.image(this.x,this.y,"iglooedit","box/x");this.gridView.container.add(t),t.id=e,this.item=t}},{key:"addQuantity",value:function(){var e=this.x+this.width/2-75,t=this.y+this.height/2-55;return this.quantity=this.scene.add.text(e,t,"",this.textStyle),this.quantity.setOrigin(.5),this.gridView.container.add(this.quantity),this.quantity}},{key:"setQuantity",value:function(e){var t=this.quantity?this.quantity:this.addQuantity();this.setEnable(e>0),t.text=e,t.visible=!0,this.gridView.container.bringToTop(t)}},{key:"setEnable",value:function(e){e?this.enable():this.disable()}},{key:"enable",value:function(){this.setInteractive(),this.setFrame("box/box")}},{key:"disable",value:function(){this.disableInteractive(),this.setFrame("box/box-disabled")}}])&&Vc(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}();function tl(e){return tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(e)}function nl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rl(e,t){return rl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},rl(e,t)}function ol(e,t){if(t&&("object"===tl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return il(e)}function il(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function al(e){return al=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},al(e)}var sl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rl(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=al(r);if(o){var n=al(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ol(this,e)});function s(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this,e,null!=t?t:0,null!=n?n:0)).container,r.pageButtons;var o=e.add.rectangle(760,480,1520,960);o.isFilled=!0,o.fillColor=0,o.fillAlpha=.6,r.add(o);var c=e.add.image(1472,46,"main","grey-button");r.add(c);var l=e.add.image(1472,44,"main","grey-x");r.add(l);var u=e.add.container(0,0);r.add(u);var f=e.add.container(1393,125);f.visible=!1,r.add(f);var d=e.add.image(0,688,"main","grey-button");f.add(d);var p=e.add.image(0,686,"main","grey-arrow");p.flipY=!0,f.add(p);var h=e.add.image(0,2,"main","grey-button");f.add(h);var y=e.add.image(0,0,"main","grey-arrow");f.add(y),new a.vj(o);var m=new a.zx(c);m.spriteName="grey-button",m.callback=function(){return r.visible=!1};var b=new a.zx(d);b.spriteName="grey-button",b.callback=function(){return r.nextPage()};var v=new a.zx(h);return v.spriteName="grey-button",v.callback=function(){return r.prevPage()},r.container=u,r.pageButtons=f,r.scene=e,r.maxW=1160,r.maxH=770,r.cellSize=418,r.pad=40,r.offsetY=30,r.slots,r.page=1,r.filter,r.lastSize,r.loader=new Gc(il(r)),o.on("pointerup",(function(){return r.visible=!1})),r}return t=s,n=[{key:"items",get:function(){var e=this,t=Object.keys(this.world.client.furniture).map((function(e){return parseInt(e)}));return this.filter?"igloo"==this.filter?this.world.client.igloos.filter((function(e){return 0!=e})):t.filter((function(t){if(e.crumbs.furniture[t].sort==e.filter)return t})):t}},{key:"pageSize",get:function(){return Math.min(this.items.length,this.maxPageSize)}},{key:"maxPage",get:function(){return Math.ceil(this.items.length/this.pageSize)}},{key:"maxPageSize",get:function(){return"igloo"==this.filter?6:54}},{key:"startGrid",value:function(e){if(this.filter=e,this.page=1,this.pageSize==this.lastSize)return this.showPage();this.lastSize=this.pageSize,this.container.removeAll(!0),this.slots=this.createSlots();var t=this.getColumns(this.pageSize),n=Math.ceil(this.pageSize/t);this.createGrid(t,n),this.showPage()}},{key:"showPage",value:function(){if(this.visible){this.pageButtons.visible=this.pageSize>=this.maxPageSize;var e=this.items.slice((this.page-1)*this.pageSize,this.page*this.pageSize);this.loader.loadPage(this.filter,e)}}},{key:"prevPage",value:function(){var e=this.page-1;e<1||(this.page=e,this.showPage())}},{key:"nextPage",value:function(){var e=this.page+1;e>this.maxPage||(this.page=e,this.showPage())}},{key:"createSlots",value:function(){for(var e=[],t=0;t<this.pageSize;t++){var n=new el(this.scene);this.container.add(n),e.push(n)}return e}},{key:"createGrid",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.cellSize;n+=this.pad,Phaser.Actions.GridAlign(this.slots,{width:e,height:t,cellWidth:n,cellHeight:n,position:Phaser.Display.Align.CENTER,x:n/2,y:n/2});var r=n*e,o=n*t,i=this.getScale(r,o),a=1520-r*i,s=960-o*i;this.container.x=a/2,this.container.y=s/2-this.offsetY*i,this.container.scale=i}},{key:"getColumns",value:function(e){switch(!0){case e<=3:return e;case 4==e:return 2;case e<=6:return 3;case e<=12:return 4;case e<=20:return 5;case e<=30:return 6;case e<=42:return 8;case e<=54:return 9}}},{key:"getScale",value:function(e,t){var n=1,r=1;return e>this.maxW&&(n=this.maxW/e),t>this.maxH&&(r=this.maxH/t),Math.min(n,r)}}],n&&nl(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.Z);function cl(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(e)}function ll(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ul(e,t){return Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ul(e,t)}function fl(e,t){if(t&&("object"===cl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dl(e)}function dl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pl(e){return Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pl(e)}n(915);i.Z;function hl(e){return hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(e)}function yl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ml(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bl(e,t){return bl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},bl(e,t)}function vl(e,t){if(t&&("object"===hl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function gl(e){return gl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gl(e)}i.Z;var wl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bl(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=gl(r);if(o){var n=gl(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return vl(this,e)});function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this,"IglooEdit")).defaultControls,e.button_lock,e.controls,e.button_furniture,e.furniture,e.gridView,e}return t=s,n=[{key:"_create",value:function(){var e=this,t=this.add.container(1426,758),n=this.add.image(0,126,"iglooedit","button/edit");n.setOrigin(.6422018348623854,.5),t.add(n);var r=this.add.image(0,0,"iglooedit","button/lock");r.setOrigin(.5,.5045871559633027),t.add(r);var o=this.add.container(162,359);o.visible=!1;var i=this.add.image(12,504,"iglooedit","note");o.add(i);var s=this.add.image(1263,520,"iglooedit","button/save");o.add(s);var c=this.add.image(1263,390,"iglooedit","button/igloo_catalog");c.setOrigin(.5046728971962616,.5),o.add(c);var l=this.add.image(1263,260,"iglooedit","button/furniture_catalog");l.setOrigin(.6405228758169934,.5043478260869565),o.add(l);var u=this.add.image(1263,130,"iglooedit","button/furniture");u.setOrigin(.5,.584),o.add(u);var f=this.add.container(1238,294);f.visible=!1;var d=this.add.image(7,251,"iglooedit","list");f.add(d);var p=this.add.image(0,68,"iglooedit","divider");f.add(p);var h=this.add.image(0,518,"iglooedit","button/small");f.add(h);var y=this.add.image(0,518,"iglooedit","icon/igloo");y.setOrigin(.5,.5070422535211268),f.add(y);var m=this.add.image(0,418,"iglooedit","button/small");f.add(m);var b=this.add.image(0,418,"iglooedit","icon/puffle");b.setOrigin(.5074626865671642,.5),f.add(b);var v=this.add.image(0,318,"iglooedit","button/small");f.add(v);var g=this.add.image(0,318,"iglooedit","icon/wall");g.setOrigin(.5,.5068493150684932),f.add(g);var w=this.add.image(0,218,"iglooedit","button/small");f.add(w);var k=this.add.image(0,218,"iglooedit","icon/room");k.setOrigin(.5087719298245614,.5066666666666667),f.add(k);var _=this.add.image(0,118,"iglooedit","button/small");f.add(_);var O=this.add.image(0,118,"iglooedit","icon/floor");f.add(O);var S=this.add.image(0,0,"iglooedit","button/large");f.add(S);var x=this.add.image(0,0,"iglooedit","icon/all");x.setOrigin(.5076923076923077,.5),f.add(x);var j=new sl(this,0,0);this.add.existing(j),j.visible=!1;var P=new a.zx(n);P.spriteName="button/edit",P.callback=function(){return e.onEditClick()},P.activeFrame=!1,new a.tk(n).text="Edit Igloo";var R=new a.zx(r);R.spriteName="button/lock",R.hoverOutCallback=function(){return e.onLockOut()},R.callback=function(){return e.onLockClick()},R.activeFrame=!1,new a.tk(r).text="Open Igloo",new a.rF(s).callback=function(){return e.onSaveClick()},new a.rF(c).callback=function(){return e.interface.loadExternal("IglooCatalog")};var C=new a.zx(l);C.spriteName="button/furniture_catalog",C.callback=function(){return e.interface.loadExternal("FurnitureCatalog")},C.activeFrame=!1;var T=new a.zx(u);T.spriteName="button/furniture",T.callback=function(){return e.onFurnitureClick()},T.activeFrame=!1,new a.vj(d);var E=new a.zx(h);E.spriteName="button/small",E.callback=function(){return e.showGridView("igloo")},E.activeFrame=!1;var B=new a.zx(m);B.spriteName="button/small",B.callback=function(){return e.showGridView(4)},B.activeFrame=!1;var A=new a.zx(v);A.spriteName="button/small",A.callback=function(){return e.showGridView(2)},A.activeFrame=!1;var F=new a.zx(w);F.spriteName="button/small",F.callback=function(){return e.showGridView(1)},F.activeFrame=!1;var I=new a.zx(_);I.spriteName="button/small",I.callback=function(){return e.showGridView(3)},I.activeFrame=!1;var z=new a.zx(S);z.spriteName="button/large",z.callback=function(){return e.showGridView()},z.activeFrame=!1,this.defaultControls=t,this.button_lock=r,this.controls=o,this.button_furniture=u,this.furniture=f,this.gridView=j,this.events.emit("scene-awake")}},{key:"create",value:function(){var e=this;this._create(),this.events.on("sleep",(function(){return e.onSleep()}));var t=new Phaser.Geom.Polygon([0,0,1520,0,1520,413,1370,200,1130,200,1130,900,1370,900,1370,570,1520,535,1520,960,0,960]);Phaser.Geom.Polygon.Translate(t,-this.furniture.x,-this.furniture.y);var n=this.add.graphics();this.furniture.add(n),n.setInteractive(t,Phaser.Geom.Polygon.Contains),n.on("pointerover",(function(){return e.furniture.visible=!1}))}},{key:"onSleep",value:function(){this.hideControls()}},{key:"onLockClick",value:function(){var e=this;if(this.world.client.iglooOpen)return this.world.client.iglooOpen=!1,this.button_lock.__ShowHint.text="Open Igloo",void this.network.send("close_igloo");this.interface.prompt.showWindow("Would you like to open your igloo?\nThis will add your igloo to the map.","dual",(function(){e.world.client.iglooOpen=!0,e.button_lock.__ShowHint.text="Close Igloo",e.network.send("open_igloo"),e.interface.prompt.window.visible=!1}))}},{key:"onLockOut",value:function(){this.world.client.iglooOpen&&this.button_lock.setFrame("button/lock-hover")}},{key:"onEditClick",value:function(){this.interface.hideInterface(!1),this.world.room.showEditBg(),this.world.room.hidePenguins(),this.world.room.enableFurnitureInput(),this.showControls()}},{key:"onSaveClick",value:function(){this.saveIgloo(),this.interface.showInterface(),this.world.room.hideEditBg(),this.world.room.showPenguins(),this.world.room.disableFurnitureInput(),this.hideControls()}},{key:"onFurnitureClick",value:function(){this.furniture.visible=!this.furniture.visible}},{key:"showControls",value:function(){this.defaultControls.visible=!1,this.controls.visible=!0,this.setControlsInteractive(!0)}},{key:"hideControls",value:function(){this.defaultControls.visible=!0,this.controls.visible=!1,this.furniture.visible=!1,this.gridView.visible=!1}},{key:"showGridView",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.gridView.visible=!0,this.gridView.startGrid(e)}},{key:"saveIgloo",value:function(){this.world.room.selected&&this.world.room.selected.drop();var e=this.world.room.furnitureSprites.map((function(e){return{furnitureId:e.id,x:e.x,y:e.y,rotation:parseInt(e.currentFrame[0]),frame:parseInt(e.currentFrame[1])}}));this.network.send("update_furniture",{furniture:e})}},{key:"setControlsInteractive",value:function(e){var t,n=e?"setInteractive":"disableInteractive",r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return yl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yl(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(this.controls.list);try{for(r.s();!(t=r.n()).done;)t.value[n]()}catch(e){r.e(e)}finally{r.f()}}}],n&&ml(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(t.Z);function kl(e){return kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(e)}function _l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ol(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_l(Object(n),!0).forEach((function(t){Sl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pl(e,t){return Pl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Pl(e,t)}function Rl(e,t){if(t&&("object"===kl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Cl(e){return Cl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Cl(e)}var Tl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pl(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Cl(r);if(o){var n=Cl(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Rl(this,e)});function a(){return xl(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"preload",value:function(){this.load.cacheBuster=1665342726753,this.load.on("progress",this.onProgress,this),WebFont.load(this.crumbs.fonts),this.load.pack("preload","assets/media/preload/preload-pack.json"),this.load.pack("puffles-preload","assets/media/puffles/puffles-pack.json"),this.scene.add("Start",Jt),this.scene.add("Login",Mn),this.scene.add("PenguinSelect",Or),this.scene.add("PenguinLogin",Cr),this.scene.add("Servers",Ur),this.scene.add("Main",Xc),this.scene.add("IglooEdit",wl)}},{key:"create",value:function(){var e=this.cache.json.get("crumbs");this.game.crumbs=Ol(Ol({},this.game.crumbs),e),this.interface.hideLoading(),this.scene.start("InterfaceController"),this.scene.start("Start"),this.interface.bringToTop()}},{key:"onProgress",value:function(e){this.interface.loading.progress.scaleX=e,this.updateLoader(e)}},{key:"updateLoader",value:function(e){var t=this.getText(e);t!==this.LoadText&&(this.interface.loading.setContent("Loading "+t,!0),this.LoadText=t)}},{key:"getText",value:function(e){var t=4;return e<=.01?t=0:e<=.25?t=1:e<=.5&&(t=2),["Game","Content","Interface","Stamps","Puffles"][t]}}])&&jl(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(t.Z);function El(e){return El="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(e)}function Bl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Al(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fl(e,t){return Fl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Fl(e,t)}function Il(e,t){if(t&&("object"===El(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function zl(e){return zl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zl(e)}var Ml=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fl(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=zl(r);if(o){var n=zl(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Il(this,e)});function a(){return Bl(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"create",value:function(){this.scene.add("InterfaceController",ge),this.scene.add("WorldController",Ft),this.scene.add("RuffleHolder",Nt),this.scene.add("Load",Ut),this.interface.showLoading("Loading Content",!0),this.interface.loading.events.once("create",this.onLoadCreate,this)}},{key:"onLoadCreate",value:function(){this.scene.add("Preload",Tl,!0)}}])&&Al(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(t.Z);function Dl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ll=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.network=t,this.pluginsCache={},this.loadPlugins()}var t,r;return t=e,(r=[{key:"loadPlugins",value:function(){for(var e in this.importPlugins(n(1761)),this.pluginsCache)if(this.pluginsCache[e].__esModule){var t=new this.pluginsCache[e].default(this.network);this.loadEvents(t)}console.log("".concat(Object.keys(this.pluginsCache).length," plugins loaded"))}},{key:"importPlugins",value:function(e){var t=this;e.keys().forEach((function(n){return t.pluginsCache[n]=e(n)}))}},{key:"loadEvents",value:function(e){for(var t in e.events)this.network.events.on(t,e.events[t].bind(e))}}])&&Dl(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Nl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Zl=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.network=t,this.plugins=new Ll(t)}var t,n;return t=e,(n=[{key:"handle",value:function(e){try{var t=JSON.parse(e);"true"==localStorage.logging&&console.log("Message received:",t.action,t.args),this.network.events.emit(t.action,t.args)}catch(e){console.error(e)}}}])&&Nl(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Xl=n(4187),Yl=n(8058);const Wl="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function Hl(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||Yl))return new XMLHttpRequest}catch(e){}if(!t)try{return new(Wl[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}function Ul(e,...t){return t.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const Gl=setTimeout,ql=clearTimeout;function Vl(e,t){t.useNativeTimers?(e.setTimeoutFn=Gl.bind(Wl),e.clearTimeoutFn=ql.bind(Wl)):(e.setTimeoutFn=setTimeout.bind(Wl),e.clearTimeoutFn=clearTimeout.bind(Wl))}var $l=n(3063);const Kl=Object.create(null);Kl.open="0",Kl.close="1",Kl.ping="2",Kl.pong="3",Kl.message="4",Kl.upgrade="5",Kl.noop="6";const Jl=Object.create(null);Object.keys(Kl).forEach((e=>{Jl[Kl[e]]=e}));const Ql={type:"error",data:"parser error"},eu="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),tu="function"==typeof ArrayBuffer,nu=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+e)},n.readAsDataURL(e)},ru=({type:e,data:t},n,r)=>{return eu&&t instanceof Blob?n?r(t):nu(t,r):tu&&(t instanceof ArrayBuffer||(o=t,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(o):o&&o.buffer instanceof ArrayBuffer))?n?r(t):nu(new Blob([t]),r):r(Kl[e]+(t||""));var o};for(var ou="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",iu="undefined"==typeof Uint8Array?[]:new Uint8Array(256),au=0;au<ou.length;au++)iu[ou.charCodeAt(au)]=au;const su="function"==typeof ArrayBuffer,cu=(e,t)=>{if(su){const n=function(e){var t,n,r,o,i,a=.75*e.length,s=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var l=new ArrayBuffer(a),u=new Uint8Array(l);for(t=0;t<s;t+=4)n=iu[e.charCodeAt(t)],r=iu[e.charCodeAt(t+1)],o=iu[e.charCodeAt(t+2)],i=iu[e.charCodeAt(t+3)],u[c++]=n<<2|r>>4,u[c++]=(15&r)<<4|o>>2,u[c++]=(3&o)<<6|63&i;return l}(e);return lu(n,t)}return{base64:!0,data:e}},lu=(e,t)=>"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e,uu=(e,t)=>{if("string"!=typeof e)return{type:"message",data:lu(e,t)};const n=e.charAt(0);return"b"===n?{type:"message",data:cu(e.substring(1),t)}:Jl[n]?e.length>1?{type:Jl[n],data:e.substring(1)}:{type:Jl[n]}:Ql},fu=String.fromCharCode(30);class du extends $l.Q{constructor(e){super(),this.writable=!1,Vl(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t){const n=new Error(e);return n.type="TransportError",n.description=t,super.emit("error",n),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emit("open")}onData(e){const t=uu(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emit("packet",e)}onClose(){this.readyState="closed",super.emit("close")}}var pu=n(2281),hu=n(1830);class yu extends du{constructor(){super(...arguments),this.polling=!1}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}poll(){this.polling=!0,this.doPoll(),this.emit("poll")}onData(e){((e,t)=>{const n=e.split(fu),r=[];for(let e=0;e<n.length;e++){const o=uu(n[e],t);if(r.push(o),"error"===o.type)break}return r})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose(),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let o=0;e.forEach(((e,i)=>{ru(e,!1,(e=>{r[i]=e,++o===n&&t(r.join(fu))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emit("drain")}))}))}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let n="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=pu()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);const r=hu.encode(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}}function mu(){}const bu=null!=new Hl({xdomain:!1}).responseType;class vu extends $l.Q{constructor(e,t){super(),Vl(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.create()}create(){const e=Ul(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new Hl(e);try{t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&t.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(e){}if("POST"===this.method)try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{4===t.readyState&&(200===t.status||1223===t.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof t.status?t.status:0)}),0))},t.send(this.data)}catch(e){return void this.setTimeoutFn((()=>{this.onError(e)}),0)}"undefined"!=typeof document&&(this.index=vu.requestsCount++,vu.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(e){this.emit("data",e),this.onSuccess()}onError(e){this.emit("error",e),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=mu,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete vu.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&this.onData(e)}abort(){this.cleanup()}}function gu(){for(let e in vu.requests)vu.requests.hasOwnProperty(e)&&vu.requests[e].abort()}vu.requestsCount=0,vu.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",gu):"function"==typeof addEventListener&&addEventListener("onpagehide"in Wl?"pagehide":"unload",gu,!1));const wu="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),ku=Wl.WebSocket||Wl.MozWebSocket,_u="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Ou extends du{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=_u?{}:Ul(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=_u?new ku(e,t,n):t?new ku(e,t):new ku(e)}catch(e){return this.emit("error",e)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;ru(n,this.supportsBinary,(e=>{try{this.ws.send(e)}catch(e){}r&&wu((()=>{this.writable=!0,this.emit("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let n="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=pu()),this.supportsBinary||(e.b64=1);const r=hu.encode(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}check(){return!(!ku||"__initialize"in ku&&this.name===Ou.prototype.name)}}const Su={websocket:Ou,polling:class extends yu{constructor(e){if(super(e),"undefined"!=typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}const t=e&&e.forceBase64;this.supportsBinary=bu&&!t}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new vu(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(e=>{this.onError("xhr post error",e)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e=>{this.onError("xhr poll error",e)})),this.pollXhr=e}}};class xu extends $l.Q{constructor(e,t={}){super(),e&&"object"==typeof e&&(t=e,e=null),e?(e=Xl(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Xl(t.host).host),Vl(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=hu.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",(()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())}),!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=function(e){const t={};for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Su[e](n)}open(){let e;if(this.opts.rememberUpgrade&&xu.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(()=>{this.onClose("transport close")}))}probe(e){let t=this.createTransport(e),n=!1;xu.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;xu.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(l(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function o(){n||(n=!0,l(),t.close(),t=null)}const i=e=>{const n=new Error("probe error: "+e);n.transport=t.name,o(),this.emitReserved("upgradeError",n)};function a(){i("transport closed")}function s(){i("socket closed")}function c(e){t&&e.name!==t.name&&o()}const l=()=>{t.removeListener("open",r),t.removeListener("error",i),t.removeListener("close",a),this.off("close",s),this.off("upgrading",c)};t.once("open",r),t.once("error",i),t.once("close",a),this.once("close",s),this.once("upgrading",c),t.open()}onOpen(){if(this.readyState="open",xu.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const o={type:e,data:t,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}onError(e){xu.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let n=0;const r=e.length;for(;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}xu.protocol=4,xu.protocol;const ju="function"==typeof ArrayBuffer,Pu=Object.prototype.toString,Ru="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Pu.call(Blob),Cu="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===Pu.call(File);function Tu(e){return ju&&(e instanceof ArrayBuffer||(e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||Ru&&e instanceof Blob||Cu&&e instanceof File}function Eu(e,t){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(Eu(e[t]))return!0;return!1}if(Tu(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return Eu(e.toJSON(),!0);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&Eu(e[t]))return!0;return!1}function Bu(e){const t=[],n=e.data,r=e;return r.data=Au(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Au(e,t){if(!e)return e;if(Tu(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Au(e[r],t);return n}if("object"==typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Au(e[r],t));return n}return e}function Fu(e,t){return e.data=Iu(e.data,t),e.attachments=void 0,e}function Iu(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Iu(e[n],t);else if("object"==typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Iu(e[n],t));return e}const zu=5;var Mu;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(Mu||(Mu={}));class Du{encode(e){return e.type!==Mu.EVENT&&e.type!==Mu.ACK||!Eu(e)?[this.encodeAsString(e)]:(e.type=e.type===Mu.EVENT?Mu.BINARY_EVENT:Mu.BINARY_ACK,this.encodeAsBinary(e))}encodeAsString(e){let t=""+e.type;return e.type!==Mu.BINARY_EVENT&&e.type!==Mu.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data)),t}encodeAsBinary(e){const t=Bu(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}class Lu extends $l.Q{constructor(){super()}add(e){let t;if("string"==typeof e)t=this.decodeString(e),t.type===Mu.BINARY_EVENT||t.type===Mu.BINARY_ACK?(this.reconstructor=new Nu(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t);else{if(!Tu(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===Mu[n.type])throw new Error("unknown packet type "+n.type);if(n.type===Mu.BINARY_EVENT||n.type===Mu.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const o=e.substring(r,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(o)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(t));if(!Lu.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}static isPayloadValid(e,t){switch(e){case Mu.CONNECT:return"object"==typeof t;case Mu.DISCONNECT:return void 0===t;case Mu.CONNECT_ERROR:return"string"==typeof t||"object"==typeof t;case Mu.EVENT:case Mu.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case Mu.ACK:case Mu.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class Nu{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=Fu(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Zu(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Xu=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Yu extends $l.Q{constructor(e,t,n){super(),this.connected=!1,this.disconnected=!0,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Zu(e,"open",this.onopen.bind(this)),Zu(e,"packet",this.onpacket.bind(this)),Zu(e,"error",this.onerror.bind(this)),Zu(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(Xu.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');t.unshift(e);const n={type:Mu.EVENT,data:t,options:{}};if(n.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++,r=t.pop();this._registerAckCallback(e,r),n.id=e}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?this.packet(n):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,t){const n=this.flags.timeout;if(void 0===n)return void(this.acks[e]=t);const r=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),n);this.acks[e]=(...e)=>{this.io.clearTimeoutFn(r),t.apply(this,[null,...e])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this.packet({type:Mu.CONNECT,data:e})})):this.packet({type:Mu.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e){this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",e)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Mu.CONNECT:if(e.data&&e.data.sid){const t=e.data.sid;this.onconnect(t)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Mu.EVENT:case Mu.BINARY_EVENT:this.onevent(e);break;case Mu.ACK:case Mu.BINARY_ACK:this.onack(e);break;case Mu.DISCONNECT:this.ondisconnect();break;case Mu.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let n=!1;return function(...r){n||(n=!0,t.packet({type:Mu.ACK,id:e,data:r}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>this.packet(e))),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Mu.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}var Wu=n(3010);class Hu extends $l.Q{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(n=t,t=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,Vl(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=n.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new Wu({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=t;const o=n.parser||e;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new xu(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=Zu(t,"open",(function(){n.onopen(),e&&e()})),o=Zu(t,"error",(t=>{n.cleanup(),n._readyState="closed",this.emitReserved("error",t),e?e(t):n.maybeReconnectOnOpen()}));if(!1!==this._timeout){const e=this._timeout;0===e&&r();const n=this.setTimeoutFn((()=>{r(),t.close(),t.emit("error",new Error("timeout"))}),e);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Zu(e,"ping",this.onping.bind(this)),Zu(e,"data",this.ondata.bind(this)),Zu(e,"error",this.onerror.bind(this)),Zu(e,"close",this.onclose.bind(this)),Zu(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n||(n=new Yu(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const e of t)if(this.nsps[e].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Uu={};function Gu(e,t){"object"==typeof e&&(t=e,e=void 0);const n=function(e,t="",n){let r=e;n=n||"undefined"!=typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==n?n.protocol+"//"+e:"https://"+e),r=Xl(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+t,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,o=n.id,i=n.path,a=Uu[o]&&i in Uu[o].nsps;let s;return t.forceNew||t["force new connection"]||!1===t.multiplex||a?s=new Hu(r,t):(Uu[o]||(Uu[o]=new Hu(r,t)),s=Uu[o]),n.query&&!t.query&&(t.query=n.queryKey),s.socket(n.path,t)}function qu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.assign(Gu,{Manager:Hu,Socket:Yu,io:Gu,connect:Gu});var Vu=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.game=t,this.events=new Phaser.Events.EventEmitter,this.handler=new Zl(this),this.client=null,this.saveUsername=!1,this.savePassword=!1,this.token=null,this.lastLoginScene=null,this.worldName}var t,n;return t=e,n=[{key:"connectLogin",value:function(e,t,n){var r=this;this.saveUsername=e,this.savePassword=t,this.connect("Login",(function(){n()}),(function(){r.disconnect()}))}},{key:"connectGame",value:function(e,t,n){var r=this,o={username:t,key:n,createToken:this.savePassword&&Object.keys(this.savedPenguins).length<=6},i=this.getToken(t);i&&(o.token=i.split(":")[0]),this.connect(e,(function(){r.send("game_auth",o),r.worldName=e}),(function(){r.onConnectionLost()}))}},{key:"connect",value:function(e,t,n){var r=this;this.disconnect();var o=this.game.crumbs.worlds[e];this.client=Gu.connect(o.host,{path:o.path}),this.client.once("connect",t),this.client.once("disconnect",n),this.client.on("connect_error",(function(){return r.onConnectionLost()})),this.client.on("message",(function(e){return r.onMessage(e)}))}},{key:"disconnect",value:function(){this.client&&this.client.disconnect()}},{key:"send",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.client.emit("message",JSON.stringify({action:e,args:t})+"")}},{key:"onMessage",value:function(e){this.handler.handle(e)}},{key:"onConnectionLost",value:function(){this.disconnect(),this.game.scene.getScene("InterfaceController").prompt.showError("Connection was lost.\nPlease click to learn more","Learn More",(function(){}))}},{key:"isSavedPenguins",get:function(){return!!localStorage.getItem("saved_penguins")}},{key:"savedPenguins",get:function(){var e=localStorage.getItem("saved_penguins");if(!e)return{};try{return JSON.parse(e)}catch(e){return{}}}},{key:"getToken",value:function(e){var t=this.savedPenguins[e.toLowerCase()];return t&&t.token?t.token:null}}],n&&qu(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),$u=n(1766);function Ku(e){return Ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(e)}function Ju(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ef(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nf(e,t){return nf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},nf(e,t)}function rf(e,t){if(t&&("object"===Ku(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function of(e){return of=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},of(e)}var af=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nf(e,t)}(a,HowlerGlobal);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=of(r);if(o){var n=of(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return rf(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).cache=e.cache.audio,t.sounds={},t.currentMusic,t.muteMusic=!1,t}return t=a,n=[{key:"play",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.cache.exists(e))return e in this.sounds?(t=this.sounds[e]).play():t=this.add(e,n),t}},{key:"playMusic",value:function(e){if(!(this.muteMusic||this.currentMusic&&this.currentMusic.key==e)){this.stopMusic();var t=this.play(e,{loop:!0});t&&(this.currentMusic=t)}}},{key:"stopAll",value:function(){this.stopAllButMusic(),this.stopMusic()}},{key:"stopAllButMusic",value:function(){var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ef(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ef(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(this._howls);try{for(t.s();!(e=t.n()).done;){var n=e.value;n!=this.currentMusic&&this.remove(n)}}catch(e){t.e(e)}finally{t.f()}}},{key:"stopMusic",value:function(){this.currentMusic&&(this.remove(this.currentMusic),this.currentMusic=null)}},{key:"add",value:function(e,t){t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ju(Object(n),!0).forEach((function(t){Qu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ju(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({src:this.cache.get(e),format:"mp3"},t);var n=new $u.Howl(t);return n.key=e,this.sounds[e]=n,n.once("load",(function(){n.play()})),n}},{key:"remove",value:function(e){e.unload(),delete this.sounds[e.key]}}],n&&tf(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}();const sf={1:{key:"Basic",scene:n(1700).Z,x:760,y:660},2:{key:"Candy",scene:n(2962).Z,x:760,y:660},3:{key:"DeluxeBlue",scene:n(9142).Z,x:720,y:600},4:{key:"BigCandy",scene:n(5326).Z,x:720,y:600},5:{key:"Stone",scene:n(6199).Z,x:760,y:660},6:{key:"Snow",scene:n(3203).Z,x:760,y:660},8:{key:"DeluxeStone",scene:n(573).Z,x:720,y:600},9:{key:"DeluxeSnow",scene:n(2984).Z,x:720,y:600},10:{key:"BambooHut",scene:n(3673).Z,x:770,y:770},11:{key:"LogCabin",scene:n(8762).Z,x:760,y:720},12:{key:"Gym",scene:n(1323).Z,x:760,y:720},13:{key:"SplitLevel",scene:n(4586).Z,x:310,y:700}},cf={ClothingCatalog:n(3622).Z,FurnitureCatalog:n(4870).Z,IglooCatalog:n(9250).Z,Music:n(7441).Z,Hydro:n(5675).Z,Waves:n(402).Z},lf={1:{key:"Central",scene:n(2232).Z,x:652,y:448},2:{key:"Berg",scene:n(8733).Z,x:619,y:487},10:{key:"Town",scene:n(4344).Z,x:963,y:627},11:{key:"Coffee",scene:n(8274).Z,x:963,y:627},12:{key:"Book",scene:n(9730).Z,x:819,y:694},13:{key:"Dance",scene:n(382).Z,x:638,y:486},14:{key:"Arcade",scene:n(1487).Z,x:638,y:486},15:{key:"Shop",scene:n(7297).Z,x:638,y:486},16:{key:"Boiler",scene:n(5111).Z,x:819,y:694},20:{key:"Tropical",scene:n(4252).Z,x:638,y:486},30:{key:"Port",scene:n(934).Z,x:638,y:486},31:{key:"Lighthouse",scene:n(4778).Z,x:620,y:486},32:{key:"Beacon",scene:n(4284).Z,x:385,y:766},40:{key:"Pirate",scene:n(3088).Z,x:775,y:493},50:{key:"Plaza",scene:n(4689).Z,x:819,y:700},52:{key:"Pet",scene:n(1691).Z,x:760,y:680},53:{key:"Pizza",scene:n(435).Z,x:760,y:680},60:{key:"Park",scene:n(7056).Z,x:188,y:709},70:{key:"Mine",scene:n(6171).Z,x:989,y:766},71:{key:"Mineint",scene:n(1442).Z,x:698,y:798},72:{key:"Minecave",scene:n(6875).Z,x:698,y:798},80:{key:"Forest",scene:n(8126).Z,x:728,y:618},90:{key:"Lake",scene:n(5443).Z,x:456,y:410},91:{key:"Cavelake",scene:n(7308).Z,x:352,y:490},92:{key:"Hiddenlake",scene:n(8435).Z,x:728,y:618},912:{key:"CatchinWaves",scene:n(2610).Z}};function uf(e){return uf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(e)}function ff(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function df(e,t){return df=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},df(e,t)}function pf(e,t){if(t&&("object"===uf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function hf(e){return hf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hf(e)}n(285),n(1637);var yf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&df(e,t)}(a,Phaser.Loader.File);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=hf(r);if(o){var n=hf(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return pf(this,e)});function a(e,t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var o={type:"audio",cache:e.cacheManager.audio,responseType:"blob",key:t,url:n.url,xhrSettings:r};return i.call(this,e,o)}return t=a,(n=[{key:"onProcess",value:function(){try{this.data=URL.createObjectURL(this.xhrLoader.response),this.onProcessComplete()}catch(e){throw this.onProcessError(),e}}}])&&ff(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}();function mf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var bf=Phaser.Utils.Objects.GetFastValue,vf=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"create",value:function(e,t,n,r){var o;if(Array.isArray(t))for(var i=0;i<t.length;i++)(o=this.createSoundFile(e,t[i]))&&e.addFile(o);else(o=this.createSoundFile(e,t,n,r))&&e.addFile(o);return e}},{key:"createSoundFile",value:function(e,t,n,r){if(Phaser.Utils.Objects.IsPlainObject(t)){var o=t;t=bf(o,"key"),n=bf(o,"url",[]),r=bf(o,"xhrSettings")}var i=Phaser.Loader.FileTypes.AudioFile.getAudioURL(e.systems.game,n);if(i)return new yf(e,t,i,r)}}],null&&mf(t.prototype,null),n&&mf(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();localStorage.getItem("webgl")||localStorage.setItem("webgl","true");const gf={type:"true"==localStorage.getItem("webgl")?Phaser.WEBGL:Phaser.CANVAS,width:1520,height:960,transparent:!0,roundPixels:!0,dom:{createContainer:!0},physics:{default:"matter",matter:{debug:{renderFill:!1,renderLine:!1,showInternalEdges:!0},gravity:!1}},audio:{noAudio:!0},plugins:{global:[NineSlice.Plugin.DefaultCfg]},scale:{parent:"game",mode:Phaser.Scale.FIT,autoRound:!0,autoCenter:Phaser.Scale.CENTER_BOTH},crumbs:{fonts:{custom:{families:["Arial:n4,n7","Arial Narrow:n4,n7","Asterisk:n4","Burbank Regular Black","Burbank Regular Bold","Burbank Regular Medium","Burbank Small Bold","Burbank Small:n4,n7","Burbank Wide Black","Burbank Wide Bold","CCComiccrazy:n4","CCFaceFront:i7"],urls:["assets/styles/fonts.css"]}},scenes:{igloos:sf,interfaces:cf,rooms:lf},frameColor:2270451,iglooIdOffset:2e3},callbacks:{preBoot:function(){Phaser.Loader.FileTypesManager.register("audio",(function(e,t,n,r){return vf.create(this,e,t,r)}))}}};function wf(e){return wf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(e)}function kf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _f(e,t){return _f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_f(e,t)}function Of(e,t){if(t&&("object"===wf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Sf(e)}function Sf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xf(e){return xf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xf(e)}var jf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_f(e,t)}(a,Phaser.Game);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=xf(r);if(o){var n=xf(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Of(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).logBanner(),t.initContainers(),t.crumbs=e.crumbs,t.network=new Vu(Sf(t)),t.soundManager=new af(Sf(t)),t.scene.add("Boot",Ml,!0),t}return t=a,(n=[{key:"logBanner",value:function(){console.log("%cYukon%c https://github.com/wizguin/yukon","color: white; background: black; border-left: 8px solid #0099cc; padding: 0px 8px 0px 8px;",""),console.log("Version ".concat("1.3-beta"))}},{key:"initContainers",value:function(){var e=document.querySelector("#".concat(this.config.parent," canvas"));e.onclick=function(){document.activeElement.blur()};var t={overflow:"hidden"};Object.assign(e.style,t),Object.assign(this.domContainer.style,t)}}])&&kf(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}();window.onload=function(){new jf(gf)}})()})();